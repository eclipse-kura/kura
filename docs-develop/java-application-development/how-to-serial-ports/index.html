
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.9">
    
    
      
        <title>How to Use Serial Ports - Eclipse Kura™ Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-use-serial-ports" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
            <div class="md-banner__inner md-grid md-typeset">
              
You are viewing the documentation relative to the develop branch or to an outdated version. This means the features might be different than the ones of the latest stable release, or not yet published.
<a href="../../.."> 
    <strong>Click here to go to latest stable release.</strong>
</a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Eclipse Kura™ Documentation" class="md-header__button md-logo" aria-label="Eclipse Kura™ Documentation" data-md-component="logo">
      
  <img src="../../assets/kura_logo_small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Eclipse Kura™ Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to Use Serial Ports
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/eclipse/kura" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    eclipse/kura
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Eclipse Kura™ Documentation" class="md-nav__button md-logo" aria-label="Eclipse Kura™ Documentation" data-md-component="logo">
      
  <img src="../../assets/kura_logo_small.png" alt="logo">

    </a>
    Eclipse Kura™ Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eclipse/kura" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    eclipse/kura
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install-kura/" class="md-nav__link">
        Install Kura
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/raspberry-pi-raspberryos-quick-start/" class="md-nav__link">
        Raspberry Pi - Raspberry Pi OS Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/raspberry-pi-ubuntu-20-quick-start/" class="md-nav__link">
        Raspberry Pi - Ubuntu 20 Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/docker-quick-start/" class="md-nav__link">
        Docker Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/intel-up-2-quick-start/" class="md-nav__link">
        Intel Up² Quick Start
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/nvidia-jetson-nano-quick-start/" class="md-nav__link">
        NVIDIA Jetson Nano&trade; - Quick Start
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Gateway Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Gateway Configuration" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Gateway Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/gateway-administration-console/" class="md-nav__link">
        Gateway Administration Console
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/gateway-status/" class="md-nav__link">
        Gateway Status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/device-information/" class="md-nav__link">
        Device Information
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Network Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Network Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Network Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/network-configuration/" class="md-nav__link">
        Network Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/network-failover/" class="md-nav__link">
        Network Failover
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/ethernet-configuration/" class="md-nav__link">
        Ethernet Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/wifi-configuration/" class="md-nav__link">
        Wi-Fi Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/cellular-configuration/" class="md-nav__link">
        Cellular Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/firewall-configuration/" class="md-nav__link">
        Firewall Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/network-threat-manager/" class="md-nav__link">
        Network Threat Manager
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_7" type="checkbox" id="__nav_2_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_7">
          Cloud Connections
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud Connections" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          Cloud Connections
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/cloud-connections/" class="md-nav__link">
        Cloud Connections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/cloud-service-configuration/" class="md-nav__link">
        Cloud Service Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/data-service-configuration/" class="md-nav__link">
        Data Service Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/data-transport-service-configuration/" class="md-nav__link">
        Data Transport Service Configuration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/keystores-management/" class="md-nav__link">
        Keystores Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/keys-and-certificates/" class="md-nav__link">
        Keys and Certificates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/ssl-configuration/" class="md-nav__link">
        SSL Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/web-console-configuration/" class="md-nav__link">
        Web Console Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gateway-configuration/gateway-administration-console-authentication/" class="md-nav__link">
        Gateway Administration Console Authentication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Administration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Administration" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Administration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administration/directory-layout/" class="md-nav__link">
        Directory Layout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administration/snapshot-management/" class="md-nav__link">
        Snapshot Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administration/application-management/" class="md-nav__link">
        Application Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administration/remote-management-kapua/" class="md-nav__link">
        Remote Management with Eclipse Kapua
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../administration/system-component-inventory/" class="md-nav__link">
        System Component Inventory
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Core Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Core Services" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Core Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/clock-service/" class="md-nav__link">
        Clock Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/deployment-service/" class="md-nav__link">
        Deployment Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/command-service/" class="md-nav__link">
        Command Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Configuration Service
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration Service" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Configuration Service
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/configuration-service/" class="md-nav__link">
        Configuration Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/configuration-service-rest-v1/" class="md-nav__link">
        Configuration V1 REST APIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/configuration-service-rest-v2/" class="md-nav__link">
        Configuration V2 REST APIs and CONF-V2 Request Handler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/h2db-service/" class="md-nav__link">
        H2Db Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/sqlite-db-service/" class="md-nav__link">
        SQLite DB Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/position-service/" class="md-nav__link">
        Position Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/rest-service/" class="md-nav__link">
        REST Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/watchdog-service/" class="md-nav__link">
        Watchdog Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/simple-artemis-mqtt-broker/" class="md-nav__link">
        Simple Artemis MQTT Broker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/active-mq-artemis-broker/" class="md-nav__link">
        ActiveMQ Artemis MQTT Broker
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_13" type="checkbox" id="__nav_4_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4_13">
          Container Orchestration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Container Orchestration" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_13">
          <span class="md-nav__icon md-icon"></span>
          Container Orchestration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/container-orchestration-provider/" class="md-nav__link">
        Container Orchestration Provider
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/container-orchestration-provider-apis/" class="md-nav__link">
        Container Orchestration Provider APIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/container-orchestration-provider-usage/" class="md-nav__link">
        Container Orchestration Provider Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/container-orchestration-provider-authenticated-registries/" class="md-nav__link">
        Container Orchestration Provider Authenticated Registries
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/nvidia-triton-server-inference-engine/" class="md-nav__link">
        Nvidia™ Triton Server Inference Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/device-configuration-changes/" class="md-nav__link">
        Device Configuration Changes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../core-services/network-status-rest-v1/" class="md-nav__link">
        Network Status Service V1 REST APIs and MQTT Request Handler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Cloud Connection API and Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud Connection API and Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Cloud Connection API and Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-api/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-api/user-guide/" class="md-nav__link">
        User Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-api/app-dev-guide/" class="md-nav__link">
        Application Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-api/cloud-conn-dev-guide/" class="md-nav__link">
        Cloud Connection Developer Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-api/built-in-cloud/" class="md-nav__link">
        Built-in Cloud Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Cloud Platforms Connection
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud Platforms Connection" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Cloud Platforms Connection
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/kura-ec-cloud/" class="md-nav__link">
        Eurotech Everyware Cloud&trade; platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/kura-aws-cloud/" class="md-nav__link">
        Amazon AWS IoT&trade; platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/kura-azure/" class="md-nav__link">
        Azure IoT Hub&trade; platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/kura-kapua/" class="md-nav__link">
        Eclipse Kapua&trade; platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/kura-hono/" class="md-nav__link">
        Eclipse Hono&trade; platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_6">
          Apache Camel&trade; Integration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Apache Camel&trade; Integration" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Apache Camel&trade; Integration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/apache-camel-integration/kura-camel/" class="md-nav__link">
        Apache Camel&trade; integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/apache-camel-integration/kura-camel-app/" class="md-nav__link">
        Apache Camel&trade; as application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/apache-camel-integration/kura-camel-cloud/" class="md-nav__link">
        Apache Camel&trade; Cloud Service
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Connect Field Devices
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Connect Field Devices" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Connect Field Devices
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/driver-and-assets/" class="md-nav__link">
        Drivers, Assets and Channels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/asset-implemetation/" class="md-nav__link">
        Asset implementation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/driver-implemetation/" class="md-nav__link">
        Driver implementation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/IO-apis/" class="md-nav__link">
        I/O APIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/field-protocols/" class="md-nav__link">
        Field Protocols
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_6" type="checkbox" id="__nav_7_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_6">
          Drivers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Drivers" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_6">
          <span class="md-nav__icon md-icon"></span>
          Drivers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/opcua-driver/" class="md-nav__link">
        OPC UA Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/s7-driver/" class="md-nav__link">
        S7comm Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/gpio-driver/" class="md-nav__link">
        GPIO Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/sensortag-driver/" class="md-nav__link">
        TI SensorTag Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/sensehat-driver/" class="md-nav__link">
        RaspberryPi SenseHat driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/ibeacon-driver/" class="md-nav__link">
        iBeacon&trade; Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/eddystone-driver/" class="md-nav__link">
        Eddystone&trade; Driver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/xdk-driver/" class="md-nav__link">
        Xdk Driver
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../connect-field-devices/asset-v1-mqtt-namespace/" class="md-nav__link">
        ASSET-V1 MQTT Namespace
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Kura Wires
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kura Wires" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Kura Wires
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/assets-as-wire-components/" class="md-nav__link">
        Assets as Wire Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_3" type="checkbox" id="__nav_8_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_3">
          Single Port Wire Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Single Port Wire Components" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_3">
          <span class="md-nav__icon md-icon"></span>
          Single Port Wire Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/single-port-wire-components/db-store-and-filter/" class="md-nav__link">
        Wire Record Store and Query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/single-port-wire-components/fifo-component/" class="md-nav__link">
        FIFO Component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/single-port-wire-components/ai-wire-component/" class="md-nav__link">
        AI Wire Component
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_4" type="checkbox" id="__nav_8_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_4">
          Multiport Wire Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Multiport Wire Components" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_4">
          <span class="md-nav__icon md-icon"></span>
          Multiport Wire Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/multiport-wire-components/multiport-wire-components/" class="md-nav__link">
        Multiport Wire Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/multiport-wire-components/join-component/" class="md-nav__link">
        Join Component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/multiport-wire-components/mathematical-components-example/" class="md-nav__link">
        Mathematical Components Example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_5" type="checkbox" id="__nav_8_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_5">
          Script Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Script Components" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_5">
          <span class="md-nav__icon md-icon"></span>
          Script Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/script-components/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/script-components/nashorn-script-filter/" class="md-nav__link">
        Nashorn Script Filter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/script-components/nashorn-conditional-component/" class="md-nav__link">
        Nashorn Conditional Component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/script-components/graalvm-filter-component/" class="md-nav__link">
        GraalVM&trade; Filter Component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/script-components/graalvm-conditional-component/" class="md-nav__link">
        GraalVM&trade; Conditional Component
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_6" type="checkbox" id="__nav_8_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8_6">
          Usage Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage Examples" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_6">
          <span class="md-nav__icon md-icon"></span>
          Usage Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/usage-examples/opcua-application/" class="md-nav__link">
        OPC-UA Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/usage-examples/ti-sensortag-application/" class="md-nav__link">
        TI SensorTag Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/usage-examples/gpio-driver-application/" class="md-nav__link">
        GPIO Driver Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/usage-examples/ibeacon-driver-application/" class="md-nav__link">
        iBeacon&trade; Driver Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/usage-examples/eddystone-driver-application/" class="md-nav__link">
        Eddystone&trade; Driver Application with RuuviTag+
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/wires-mqtt-namespace/" class="md-nav__link">
        Wires MQTT Namespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/wire-graph-service-configuration-format/" class="md-nav__link">
        WireGraphService Configuration Format
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/wire-service-rest-v1/" class="md-nav__link">
        Wire Service V1 REST APIs and MQTT Request Handler
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kura-wires/wire-service-references/" class="md-nav__link">
        References
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Java Application Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java Application Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Java Application Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../development-environment-setup/" class="md-nav__link">
        Development Environment Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hello-world-application/" class="md-nav__link">
        Hello World Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deploy-and-debug-applications/" class="md-nav__link">
        Deploy and Debug Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../remote-debugging-on-target-platform/" class="md-nav__link">
        Remote Debugging on Target Platform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configurable-application/" class="md-nav__link">
        Configurable Application
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../connected-application/" class="md-nav__link">
        Connected Application
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9_7" type="checkbox" id="__nav_9_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9_7">
          How-tos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How-tos" data-md-level="2">
        <label class="md-nav__title" for="__nav_9_7">
          <span class="md-nav__icon md-icon"></span>
          How-tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          How to Use Serial Ports
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        How to Use Serial Ports
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serial-communication-with-kura" class="md-nav__link">
    Serial Communication with Kura
  </a>
  
    <nav class="md-nav" aria-label="Serial Communication with Kura">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hardware-setup" class="md-nav__link">
    Hardware Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#determine-serial-device-nodes" class="md-nav__link">
    Determine Serial Device Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-bundle" class="md-nav__link">
    Implement the Bundle
  </a>
  
    <nav class="md-nav" aria-label="Implement the Bundle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#meta-infmanifestmf-file" class="md-nav__link">
    META-INF/MANIFEST.MF File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osgi-infcomponentxml-file" class="md-nav__link">
    OSGI-INF/component.xml File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osgi-infmetatypeorgeclipsekuraexampleserialserialexamplexml-file" class="md-nav__link">
    OSGI-INF/metatype/org.eclipse.kura.example.serial.SerialExample.xml File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orgeclipsekuraexampleserialserialexamplejava-file" class="md-nav__link">
    org.eclipse.kura.example.serial.SerialExample.java File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-the-bundle" class="md-nav__link">
    Export the Bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-the-bundle" class="md-nav__link">
    Deploy the Bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-the-bundle" class="md-nav__link">
    Validate the Bundle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-gpio/" class="md-nav__link">
        How to Use GPIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-modbus/" class="md-nav__link">
        How to Use Modbus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-can-bus/" class="md-nav__link">
        How to Use CAN bus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-watchdog/" class="md-nav__link">
        How to Use Watchdog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-manage-network-settings/" class="md-nav__link">
        How to Manage Network Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-legacy-bt-le/" class="md-nav__link">
        How to Use Legacy Bluetooth LE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-legacy-bt-le-beacons/" class="md-nav__link">
        How to Use Legacy Bluetooth LE Beacons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-legacy-bt-beacon-scanner/" class="md-nav__link">
        How to Use Legacy Bluetooth LE Beacon Scanner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-new-bt-le-apis/" class="md-nav__link">
        How to Use New Bluetooth LE APIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use-new-beacon-apis/" class="md-nav__link">
        How to Use New Beacon APIs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ram-usage-considerations/" class="md-nav__link">
        RAM Usage Considerations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Quality Assurance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Quality Assurance" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Quality Assurance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quality-assurance/intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quality-assurance/unit-testing/" class="md-nav__link">
        Unit Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quality-assurance/system-testing/" class="md-nav__link">
        System Testing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/mqtt-namespace/" class="md-nav__link">
        MQTT Namespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/javadoc/" class="md-nav__link">
        Javadoc
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_3">
          REST-APIs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="REST-APIs" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          REST-APIs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-command-api/" class="md-nav__link">
        Command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-inventory-api/" class="md-nav__link">
        Inventory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-position-api/" class="md-nav__link">
        Position
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-security-api/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-service-listing-api/" class="md-nav__link">
        Service Listing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-session-api/" class="md-nav__link">
        Session
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../references/rest-apis/rest-system-api/" class="md-nav__link">
        System
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/AD-EdgeAI/" class="md-nav__link">
        Edge AI Anomaly Detection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serial-communication-with-kura" class="md-nav__link">
    Serial Communication with Kura
  </a>
  
    <nav class="md-nav" aria-label="Serial Communication with Kura">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hardware-setup" class="md-nav__link">
    Hardware Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#determine-serial-device-nodes" class="md-nav__link">
    Determine Serial Device Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-the-bundle" class="md-nav__link">
    Implement the Bundle
  </a>
  
    <nav class="md-nav" aria-label="Implement the Bundle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#meta-infmanifestmf-file" class="md-nav__link">
    META-INF/MANIFEST.MF File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osgi-infcomponentxml-file" class="md-nav__link">
    OSGI-INF/component.xml File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osgi-infmetatypeorgeclipsekuraexampleserialserialexamplexml-file" class="md-nav__link">
    OSGI-INF/metatype/org.eclipse.kura.example.serial.SerialExample.xml File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orgeclipsekuraexampleserialserialexamplejava-file" class="md-nav__link">
    org.eclipse.kura.example.serial.SerialExample.java File
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-the-bundle" class="md-nav__link">
    Export the Bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-the-bundle" class="md-nav__link">
    Deploy the Bundle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate-the-bundle" class="md-nav__link">
    Validate the Bundle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="how-to-use-serial-ports">How to Use Serial Ports</h1>
<h2 id="overview">Overview</h2>
<p>This section provides an example of how to create a Kura bundle that
will communicate with a serial device. In this example, you will
communicate with a simple terminal emulator to demonstrate both
transmitting and receiving data. You will learn how to perform the
following functions:</p>
<ul>
<li>
<p>Create a plugin that communicates to serial devices</p>
</li>
<li>
<p>Export the bundle</p>
</li>
<li>
<p>Install the bundle on the remote device</p>
</li>
<li>
<p>Test the communication with minicom where, minicom is acting as an
    attached serial device such as an NFC reader, GPS device, or some
    other ASCII-based communication device</p>
</li>
</ul>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>
<p><a href="/java-application-development/development-environment-setup/">Setting up Kura Development Environment</a></p>
</li>
<li>
<p><a href="/java-application-development/hello-world-application/">Hello World Using the Kura Logger</a></p>
</li>
<li>
<p>Hardware</p>
<ul>
<li>
<p>Use an embedded device running Kura with two available serial
    ports.
    (If the device does not have a serial port, USB to serial
    adapters can be used.)</p>
</li>
<li>
<p>Ensure minicom is installed on the embedded device.</p>
</li>
</ul>
</li>
</ul>
<h2 id="serial-communication-with-kura">Serial Communication with Kura</h2>
<p>This section of the tutorial covers setting up the hardware, determining
serial port device nodes, implementing the basic serial communication
bundle, deploying the bundle, and validating its functionality. After
completing this section, you should be able to communicate with any
ASCII-based serial device attached to a Kura-enabled embedded gateway.
In this example, we are using ASCII for clarity, but these same
techniques can be used to communicate with serial devices that
communicate using binary protocols.</p>
<h3 id="hardware-setup">Hardware Setup</h3>
<p>Your setup requirements will depend on your hardware platform. At a
minimum, you will need two serial ports with a null modem serial,
crossover cable connecting them.</p>
<ul>
<li>
<p>If your platform has integrated serial ports, you only need to
    connect them using a null modem serial cable.</p>
</li>
<li>
<p>If you do not have integrated serial ports on your platform, you
    will need to purchase USB-to-Serial adapters. It is recommended to
    use a USB-to-Serial adapter with either the PL2303 or FTDI chipset,
    but others may work depending on your hardware platform and
    underlying Linux support. Once you have attached these adapters to
    your device, you can attach the null modem serial cable between the
    two ports.</p>
</li>
</ul>
<h3 id="determine-serial-device-nodes">Determine Serial Device Nodes</h3>
<p>This step is hardware specific. If your hardware device has integrated
serial ports, contact your hardware device manufacturer or review the
documentation to find out how the ports are named in the operating
system. The device identifiers should be similar to the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>/dev/ttyS*xx*
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>/dev/ttyUSB*xx*
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>/dev/ttyACM*xx*
</code></pre></div>
<p>If you are using USB-to-Serial adapters, Linux usually allocates the
associated device nodes dynamically at the time of insertion. In order
to determine what they are, run the following command at a terminal on
the embedded gateway:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>tail -f /var/log/syslog
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Depending on your specific Linux implementation, other possible log files may be: /var/log/kern.log, /var/log/kernel, or /var/log/dmesg.</p>
</div>
<p>With the above command running, insert your USB-to-Serial adapter. You
should see output similar to the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>root@localhost:/root&gt; tail -f /var/log/syslog
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Aug 15 18:43:47 localhost kernel: usb 3-2: new full speed USB device using uhci_hcd and address 3
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Aug 15 18:43:47 localhost kernel: pl2303 3-2:1.0: pl2303 converter detected
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>Aug 15 18:43:47 localhost kernel: usb 3-2: pl2303 converter now attached to ttyUSB10
</code></pre></div>
<p>In this example, our device is a PL2303-compatible device and is
allocated a device node of “/dev/ttyUSB10”. While your results may
differ, the key is to identify the “tty” device that was allocated. For
the rest of this tutorial, this device will be referred to as
[device_node_1], which in this example is /dev/ttyUSB10. During
development, it is also important to keep in mind that these values are
dynamic; therefore, from one boot to the next and one insertion to the
next, these values may change. To stop ‘tail’ from running in your
console, escape with ‘<CTRL> c’.</p>
<p>If you are using two USB-to-Serial adapters, repeat the above procedure
for the second serial port. The resulting device node will be referred
to as [device_node_2].</p>
<h3 id="implement-the-bundle">Implement the Bundle</h3>
<p>Now that you have two serial ports connected to each other, you are
ready to implement the code. You will use the same general method that
is described in section <a href="/java-application-development/hello-world-application/">Hello World Application</a> with the following exceptions:</p>
<ol>
<li>process to export the OSGi bundle will have an additional step,</li>
<li>the actual code in this example will have the following differences:<ul>
<li>The new Plug-in Project is named “org.eclipse.kura.example.serial”</li>
<li>A class named “SerialExample” is created in the org.eclipse.kura.example.serial project</li>
<li>The following bundles are included in the Automated Management of Dependencies section in the MANIFEST.MF:<ul>
<li>javax.comm</li>
<li>javax.microedition.io</li>
<li>org.eclipse.kura.cloud</li>
<li>org.eclipse.kura.comm</li>
<li>org.eclipse.kura.configuration</li>
<li>org.osgi.service.component</li>
<li>org.osgi.service.io</li>
<li>org.slf4j</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>The following files need to be implemented:</p>
<ul>
<li>
<p>META-INF/MANIFEST.MF – OSGI manifest that describes the bundle
    and its dependencies</p>
</li>
<li>
<p>OSGI-INF/component.xml – declarative services definition that
    describe what services are exposed and consumed by this bundle</p>
</li>
<li>
<p>OSGI-INF/metatype/org.eclipse.kura.example.serial.SerialExample.xml
    – configuration description of the bundle and its parameters, types,
    and defaults</p>
</li>
<li>
<p>org.eclipse.kura.example.serial.SerialExample.java – main
    implementation class</p>
</li>
</ul>
<h4 id="meta-infmanifestmf-file">META-INF/MANIFEST.MF File</h4>
<p>The META-INF/MANIFEST.MF file should appear as shown below when
complete:</p>
<p>NOTE: Whitespace is significant in this file. Make sure yours matches
this file exactly with the exception that
RequiredExecutionEnvironment may be JavaSE-1.6 or JavaSE-1.7,
depending on the Java installation of your device.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Manifest-Version: 1.0
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Bundle-ManifestVersion: 2
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Bundle-Name: Serial
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Bundle-SymbolicName: org.eclipse.kura.example.serial
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Bundle-Version: 1.0.0.qualifier
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Bundle-RequiredExecutionEnvironment: JavaSE-1.7
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Service-Component: OSGI-INF/component.xml
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>Bundle-ActivationPolicy: lazy
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>Import-Package: javax.comm;version=&quot;1.2.0&quot;,
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>  javax.microedition.io;resolution:=optional,
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>  org.eclipse.kura.cloud;version=&quot;0.2.0&quot;,
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>  org.eclipse.kura.comm;version=&quot;0.2.0&quot;,
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>  org.eclipse.kura.configuration;version=&quot;0.2.0&quot;,
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>  org.osgi.service.component;version=&quot;1.2.0&quot;,
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>  org.osgi.service.io;version=&quot;1.0.0&quot;,
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>  org.slf4j;version=&quot;1.6.4&quot;
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>Bundle-ClassPath: .
</code></pre></div>
<p>In addition, the build.properties file should have org.eclipse.equinox.io listed as an additional bundle similar to below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>additional.bundles = org.eclipse.equinox.io
</code></pre></div>
<h4 id="osgi-infcomponentxml-file">OSGI-INF/component.xml File</h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Starting from Kura 3.0, the configuration service will only track "relevant services" that, in their component description files, will provide the ConfigurableComponent or SelfConfigurableComponent interface. The old behavior can be restored by setting the  "org.eclipse.kura.core.configuration.legacyServiceTracking" property to true.</p>
</div>
<p>If <strong>Kura 2.1.0 or older versions</strong> are used or the <code>org.eclipse.kura.core.configuration.legacyServiceTracking</code> system property is set to true, the OSGI-INF/component.xml should appear as shown below when complete:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>&lt;scr:component xmlns:scr=&quot;http://www.osgi.org/xmlns/scr/v1.1.0&quot;
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>  name=&quot;org.eclipse.kura.example.serial.SerialExample&quot; activate=&quot;activate&quot;
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>  deactivate=&quot;deactivate&quot; modified=&quot;updated&quot; enabled=&quot;true&quot; immediate=&quot;true&quot;
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>  configuration-policy=&quot;require&quot;&gt;
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>  &lt;implementation class=&quot;org.eclipse.kura.example.serial.SerialExample&quot;/&gt;
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>  &lt;property name=&quot;service.pid&quot; type=&quot;String&quot; value=&quot;org.eclipse.kura.example.serial.SerialExample&quot;/&gt;
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>  &lt;service&gt;
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    &lt;provide interface=&quot;org.eclipse.kura.example.serial.SerialExample&quot;/&gt;
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>  &lt;/service&gt;
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>  &lt;reference bind=&quot;setConnectionFactory&quot; cardinality=&quot;1..1&quot;
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    interface=&quot;org.osgi.service.io.ConnectionFactory&quot; name=&quot;ConnectionFactory&quot;
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    policy=&quot;static&quot; unbind=&quot;unsetConnectionFactory&quot; /&gt;
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>&lt;/scr:component&gt;
</code></pre></div>
<p>If <strong>Kura 3.0 or newer versions</strong> are used and the <code>org.eclipse.kura.core.configuration.legacyServiceTracking</code> system property is set to false or not set, the OSGI-INF/component.xml should appear as shown below when complete:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>&lt;scr:component xmlns:scr=&quot;http://www.osgi.org/xmlns/scr/v1.1.0&quot;
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  name=&quot;org.eclipse.kura.example.serial.SerialExample&quot; activate=&quot;activate&quot;
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>  deactivate=&quot;deactivate&quot; modified=&quot;updated&quot; enabled=&quot;true&quot; immediate=&quot;true&quot;
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>  configuration-policy=&quot;require&quot;&gt;
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>  &lt;implementation class=&quot;org.eclipse.kura.example.serial.SerialExample&quot;/&gt;
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>  &lt;property name=&quot;service.pid&quot; type=&quot;String&quot; value=&quot;org.eclipse.kura.example.serial.SerialExample&quot;/&gt;
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>  &lt;service&gt;
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>    &lt;provide interface=&quot;org.eclipse.kura.configuration.ConfigurableComponent&quot;/&gt;
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>  &lt;/service&gt;
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>  &lt;reference bind=&quot;setConnectionFactory&quot; cardinality=&quot;1..1&quot;
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>    interface=&quot;org.osgi.service.io.ConnectionFactory&quot; name=&quot;ConnectionFactory&quot;
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>    policy=&quot;static&quot; unbind=&quot;unsetConnectionFactory&quot; /&gt;
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>&lt;/scr:component&gt;
</code></pre></div>
<h4 id="osgi-infmetatypeorgeclipsekuraexampleserialserialexamplexml-file">OSGI-INF/metatype/org.eclipse.kura.example.serial.SerialExample.xml File</h4>
<p>The OSGI-INF/metatype/org.eclipse.kura.example.serial.SerialExample.xml
file should appear as shown below when complete:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>&lt;MetaData xmlns=&quot;http://www.osgi.org/xmlns/metatype/v1.2.0&quot; localization=&quot;en_us&quot;&gt;
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>  &lt;OCD id=&quot;org.eclipse.kura.example.serial.SerialExample&quot;
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    name=&quot;SerialExample&quot;
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    description=&quot;Example of a Configuring KURA Application echoing data read from the serial port.&quot;&gt;
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    &lt;Icon resource=&quot;http://sphotos-a.xx.fbcdn.net/hphotos-ash4/p480x480/408247_10151040905591065_1989684710_n.jpg&quot; size=&quot;32&quot;/&gt;
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    &lt;AD id=&quot;serial.device&quot;
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>        name=&quot;serial.device&quot;
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>        type=&quot;String&quot;
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>        cardinality=&quot;0&quot;
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>        required=&quot;false&quot;
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>        description=&quot;Name of the serial device (e.g. /dev/ttyS0, /dev/ttyACM0, /dev/ttyUSB0).&quot;/&gt;
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>    &lt;AD id=&quot;serial.baudrate&quot;
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>        name=&quot;serial.baudrate&quot;
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>        type=&quot;String&quot;
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>        cardinality=&quot;0&quot;
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>        required=&quot;true&quot;
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>        default=&quot;9600&quot;
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>        description=&quot;Baudrate.&quot;&gt;
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>        &lt;Option label=&quot;9600&quot; value=&quot;9600&quot;/&gt;
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>        &lt;Option label=&quot;19200&quot; value=&quot;19200&quot;/&gt;
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>        &lt;Option label=&quot;38400&quot; value=&quot;38400&quot;/&gt;
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>        &lt;Option label=&quot;57600&quot; value=&quot;57600&quot;/&gt;
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>        &lt;Option label=&quot;115200&quot; value=&quot;115200&quot;/&gt;
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>    &lt;/AD&gt;
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>    &lt;AD id=&quot;serial.data-bits&quot;
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>        name=&quot;serial.data-bits&quot;
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>        type=&quot;String&quot;
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>        cardinality=&quot;0&quot;
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>        required=&quot;true&quot;
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>        default=&quot;8&quot;
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>        description=&quot;Data bits.&quot;&gt;
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a>        &lt;Option label=&quot;7&quot; value=&quot;7&quot;/&gt;
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>        &lt;Option label=&quot;8&quot; value=&quot;8&quot;/&gt;
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a>    &lt;/AD&gt;
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a>
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a>    &lt;AD id=&quot;serial.parity&quot;
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>        name=&quot;serial.parity&quot;
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a>        type=&quot;String&quot;
<a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a>        cardinality=&quot;0&quot;
<a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>        required=&quot;true&quot;
<a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a>        default=&quot;none&quot;
<a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a>        description=&quot;Parity.&quot;&gt;
<a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a>        &lt;Option label=&quot;none&quot; value=&quot;none&quot;/&gt;
<a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>        &lt;Option label=&quot;even&quot; value=&quot;even&quot;/&gt;
<a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a>        &lt;Option label=&quot;odd&quot; value=&quot;odd&quot;/&gt;
<a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a>    &lt;/AD&gt;
<a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a>
<a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a>    &lt;AD id=&quot;serial.stop-bits&quot;
<a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a>        name=&quot;serial.stop-bits&quot;
<a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a>        type=&quot;String&quot;
<a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a>        cardinality=&quot;0&quot;
<a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a>        required=&quot;true&quot;
<a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a>        default=&quot;1&quot;
<a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a>        description=&quot;Stop bits.&quot;&gt;
<a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a>        &lt;Option label=&quot;1&quot; value=&quot;1&quot;/&gt;
<a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a>        &lt;Option label=&quot;2&quot; value=&quot;2&quot;/&gt;
<a id="__codelineno-7-62" name="__codelineno-7-62" href="#__codelineno-7-62"></a>    &lt;/AD&gt;
<a id="__codelineno-7-63" name="__codelineno-7-63" href="#__codelineno-7-63"></a>
<a id="__codelineno-7-64" name="__codelineno-7-64" href="#__codelineno-7-64"></a>  &lt;/OCD&gt;
<a id="__codelineno-7-65" name="__codelineno-7-65" href="#__codelineno-7-65"></a>  &lt;Designate pid=&quot;org.eclipse.kura.example.serial.SerialExample&quot;&gt;
<a id="__codelineno-7-66" name="__codelineno-7-66" href="#__codelineno-7-66"></a>    &lt;Object ocdref=&quot;org.eclipse.kura.example.serial.SerialExample&quot;/&gt;
<a id="__codelineno-7-67" name="__codelineno-7-67" href="#__codelineno-7-67"></a>  &lt;/Designate&gt;
<a id="__codelineno-7-68" name="__codelineno-7-68" href="#__codelineno-7-68"></a>&lt;/MetaData&gt;
</code></pre></div>
<h4 id="orgeclipsekuraexampleserialserialexamplejava-file">org.eclipse.kura.example.serial.SerialExample.java File</h4>
<p>The org.eclipse.kura.example.serial.SerialExample.java file should
appear as shown below when complete:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">org.eclipse.kura.example.serial</span><span class="p">;</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.IOException</span><span class="p">;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.InputStream</span><span class="p">;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.io.OutputStream</span><span class="p">;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.Future</span><span class="p">;</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.concurrent.ScheduledThreadPoolExecutor</span><span class="p">;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.osgi.service.component.ComponentContext</span><span class="p">;</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.osgi.service.io.ConnectionFactory</span><span class="p">;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.slf4j.Logger</span><span class="p">;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.slf4j.LoggerFactory</span><span class="p">;</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">SerialExample</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ConfigurableComponent</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="n">s_logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerFactory</span><span class="p">.</span><span class="na">getLogger</span><span class="p">(</span><span class="n">SerialExample</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SERIAL_DEVICE_PROP_NAME</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serial.device&quot;</span><span class="p">;</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SERIAL_BAUDRATE_PROP_NAME</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serial.baudrate&quot;</span><span class="p">;</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SERIAL_DATA_BITS_PROP_NAME</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serial.data-bits&quot;</span><span class="p">;</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SERIAL_PARITY_PROP_NAME</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serial.parity&quot;</span><span class="p">;</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">SERIAL_STOP_BITS_PROP_NAME</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;serial.stop-bits&quot;</span><span class="p">;</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">ConnectionFactory</span><span class="w"> </span><span class="n">m_connectionFactory</span><span class="p">;</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">CommConnection</span><span class="w"> </span><span class="n">m_commConnection</span><span class="p">;</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">InputStream</span><span class="w"> </span><span class="n">m_commIs</span><span class="p">;</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">OutputStream</span><span class="w"> </span><span class="n">m_commOs</span><span class="p">;</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">ScheduledThreadPoolExecutor</span><span class="w"> </span><span class="n">m_worker</span><span class="p">;</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Future</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">m_handle</span><span class="p">;</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_properties</span><span class="p">;</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="w">  </span><span class="c1">// ----------------------------------------------------------------</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="w">  </span><span class="c1">//</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="w">  </span><span class="c1">// Dependencies</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="w">  </span><span class="c1">//</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="w">  </span><span class="c1">// ----------------------------------------------------------------</span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setConnectionFactory</span><span class="p">(</span><span class="n">ConnectionFactory</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">m_connectionFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">;</span>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">unsetConnectionFactory</span><span class="p">(</span><span class="n">ConnectionFactory</span><span class="w"> </span><span class="n">connectionFactory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">m_connectionFactory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>
<a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a><span class="w">  </span><span class="c1">// ----------------------------------------------------------------</span>
<a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="w">  </span><span class="c1">//</span>
<a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="w">  </span><span class="c1">// Activation APIs</span>
<a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="w">  </span><span class="c1">//</span>
<a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="w">  </span><span class="c1">// ----------------------------------------------------------------</span>
<a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a>
<a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a><span class="w">  </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">activate</span><span class="p">(</span><span class="n">ComponentContext</span><span class="w"> </span><span class="n">componentContext</span><span class="p">,</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">properties</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a><span class="w">    </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Activating SerialExample...&quot;</span><span class="p">);</span>
<a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a>
<a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a><span class="w">    </span><span class="n">m_worker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ScheduledThreadPoolExecutor</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a><span class="w">    </span><span class="n">m_properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="p">();</span>
<a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a><span class="w">    </span><span class="n">doUpdate</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
<a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a><span class="w">    </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Activating SerialExample... Done.&quot;</span><span class="p">);</span>
<a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>
<a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a><span class="w">  </span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deactivate</span><span class="p">(</span><span class="n">ComponentContext</span><span class="w"> </span><span class="n">componentContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a><span class="w">    </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Deactivating SerialExample...&quot;</span><span class="p">);</span>
<a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a>
<a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a><span class="w">    </span><span class="c1">// shutting down the worker and cleaning up the properties</span>
<a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a><span class="w">    </span><span class="n">m_handle</span><span class="p">.</span><span class="na">cancel</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a><span class="w">    </span><span class="n">m_worker</span><span class="p">.</span><span class="na">shutdownNow</span><span class="p">();</span>
<a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a><span class="w">    </span><span class="c1">//close the serial port</span>
<a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a><span class="w">    </span><span class="n">closePort</span><span class="p">();</span>
<a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a><span class="w">    </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Deactivating SerialExample... Done.&quot;</span><span class="p">);</span>
<a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a>
<a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">updated</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">properties</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a><span class="w">    </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Updated SerialExample...&quot;</span><span class="p">);</span>
<a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>
<a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a><span class="w">    </span><span class="n">doUpdate</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
<a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a><span class="w">    </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Updated SerialExample... Done.&quot;</span><span class="p">);</span>
<a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a>
<a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a><span class="w">  </span><span class="c1">// ----------------------------------------------------------------</span>
<a id="__codelineno-8-80" name="__codelineno-8-80" href="#__codelineno-8-80"></a><span class="w">  </span><span class="c1">//</span>
<a id="__codelineno-8-81" name="__codelineno-8-81" href="#__codelineno-8-81"></a><span class="w">  </span><span class="c1">// Private Methods</span>
<a id="__codelineno-8-82" name="__codelineno-8-82" href="#__codelineno-8-82"></a><span class="w">  </span><span class="c1">//</span>
<a id="__codelineno-8-83" name="__codelineno-8-83" href="#__codelineno-8-83"></a><span class="w">  </span><span class="c1">// ----------------------------------------------------------------</span>
<a id="__codelineno-8-84" name="__codelineno-8-84" href="#__codelineno-8-84"></a>
<a id="__codelineno-8-85" name="__codelineno-8-85" href="#__codelineno-8-85"></a><span class="w">  </span><span class="cm">/**</span>
<a id="__codelineno-8-86" name="__codelineno-8-86" href="#__codelineno-8-86"></a><span class="cm">   * Called after a new set of properties has been configured on the service</span>
<a id="__codelineno-8-87" name="__codelineno-8-87" href="#__codelineno-8-87"></a><span class="cm">   */</span>
<a id="__codelineno-8-88" name="__codelineno-8-88" href="#__codelineno-8-88"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doUpdate</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">properties</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-89" name="__codelineno-8-89" href="#__codelineno-8-89"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-90" name="__codelineno-8-90" href="#__codelineno-8-90"></a><span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">properties</span><span class="p">.</span><span class="na">keySet</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-91" name="__codelineno-8-91" href="#__codelineno-8-91"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Update - &quot;</span><span class="o">+</span><span class="n">s</span><span class="o">+</span><span class="s">&quot;: &quot;</span><span class="o">+</span><span class="n">properties</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">s</span><span class="p">));</span>
<a id="__codelineno-8-92" name="__codelineno-8-92" href="#__codelineno-8-92"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-93" name="__codelineno-8-93" href="#__codelineno-8-93"></a>
<a id="__codelineno-8-94" name="__codelineno-8-94" href="#__codelineno-8-94"></a><span class="w">      </span><span class="c1">// cancel a current worker handle if one if active</span>
<a id="__codelineno-8-95" name="__codelineno-8-95" href="#__codelineno-8-95"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_handle</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-96" name="__codelineno-8-96" href="#__codelineno-8-96"></a><span class="w">        </span><span class="n">m_handle</span><span class="p">.</span><span class="na">cancel</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-8-97" name="__codelineno-8-97" href="#__codelineno-8-97"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-98" name="__codelineno-8-98" href="#__codelineno-8-98"></a>
<a id="__codelineno-8-99" name="__codelineno-8-99" href="#__codelineno-8-99"></a><span class="w">      </span><span class="c1">//close the serial port so it can be reconfigured</span>
<a id="__codelineno-8-100" name="__codelineno-8-100" href="#__codelineno-8-100"></a><span class="w">      </span><span class="n">closePort</span><span class="p">();</span>
<a id="__codelineno-8-101" name="__codelineno-8-101" href="#__codelineno-8-101"></a>
<a id="__codelineno-8-102" name="__codelineno-8-102" href="#__codelineno-8-102"></a><span class="w">      </span><span class="c1">//store the properties</span>
<a id="__codelineno-8-103" name="__codelineno-8-103" href="#__codelineno-8-103"></a><span class="w">      </span><span class="n">m_properties</span><span class="p">.</span><span class="na">clear</span><span class="p">();</span>
<a id="__codelineno-8-104" name="__codelineno-8-104" href="#__codelineno-8-104"></a><span class="w">      </span><span class="n">m_properties</span><span class="p">.</span><span class="na">putAll</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
<a id="__codelineno-8-105" name="__codelineno-8-105" href="#__codelineno-8-105"></a>
<a id="__codelineno-8-106" name="__codelineno-8-106" href="#__codelineno-8-106"></a><span class="w">      </span><span class="c1">//reopen the port with the new configuration</span>
<a id="__codelineno-8-107" name="__codelineno-8-107" href="#__codelineno-8-107"></a><span class="w">      </span><span class="n">openPort</span><span class="p">();</span>
<a id="__codelineno-8-108" name="__codelineno-8-108" href="#__codelineno-8-108"></a>
<a id="__codelineno-8-109" name="__codelineno-8-109" href="#__codelineno-8-109"></a><span class="w">      </span><span class="c1">//start the worker thread</span>
<a id="__codelineno-8-110" name="__codelineno-8-110" href="#__codelineno-8-110"></a><span class="w">      </span><span class="n">m_handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_worker</span><span class="p">.</span><span class="na">submit</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Runnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-111" name="__codelineno-8-111" href="#__codelineno-8-111"></a><span class="w">        </span><span class="nd">@Override</span>
<a id="__codelineno-8-112" name="__codelineno-8-112" href="#__codelineno-8-112"></a><span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-113" name="__codelineno-8-113" href="#__codelineno-8-113"></a><span class="w">          </span><span class="n">doSerial</span><span class="p">();</span>
<a id="__codelineno-8-114" name="__codelineno-8-114" href="#__codelineno-8-114"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-8-115" name="__codelineno-8-115" href="#__codelineno-8-115"></a><span class="w">      </span><span class="p">});</span>
<a id="__codelineno-8-116" name="__codelineno-8-116" href="#__codelineno-8-116"></a>
<a id="__codelineno-8-117" name="__codelineno-8-117" href="#__codelineno-8-117"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Throwable</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-118" name="__codelineno-8-118" href="#__codelineno-8-118"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Unexpected Throwable&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">);</span>
<a id="__codelineno-8-119" name="__codelineno-8-119" href="#__codelineno-8-119"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-120" name="__codelineno-8-120" href="#__codelineno-8-120"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-121" name="__codelineno-8-121" href="#__codelineno-8-121"></a>
<a id="__codelineno-8-122" name="__codelineno-8-122" href="#__codelineno-8-122"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">openPort</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-123" name="__codelineno-8-123" href="#__codelineno-8-123"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">SERIAL_DEVICE_PROP_NAME</span><span class="p">);</span>
<a id="__codelineno-8-124" name="__codelineno-8-124" href="#__codelineno-8-124"></a>
<a id="__codelineno-8-125" name="__codelineno-8-125" href="#__codelineno-8-125"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">port</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-126" name="__codelineno-8-126" href="#__codelineno-8-126"></a><span class="w">      </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Port name not configured&quot;</span><span class="p">);</span>
<a id="__codelineno-8-127" name="__codelineno-8-127" href="#__codelineno-8-127"></a><span class="w">      </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-8-128" name="__codelineno-8-128" href="#__codelineno-8-128"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-129" name="__codelineno-8-129" href="#__codelineno-8-129"></a>
<a id="__codelineno-8-130" name="__codelineno-8-130" href="#__codelineno-8-130"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">baudRate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">valueOf</span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">SERIAL_BAUDRATE_PROP_NAME</span><span class="p">));</span>
<a id="__codelineno-8-131" name="__codelineno-8-131" href="#__codelineno-8-131"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">dataBits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">valueOf</span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">SERIAL_DATA_BITS_PROP_NAME</span><span class="p">));</span>
<a id="__codelineno-8-132" name="__codelineno-8-132" href="#__codelineno-8-132"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">stopBits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">valueOf</span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">SERIAL_STOP_BITS_PROP_NAME</span><span class="p">));</span>
<a id="__codelineno-8-133" name="__codelineno-8-133" href="#__codelineno-8-133"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">sParity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">SERIAL_PARITY_PROP_NAME</span><span class="p">);</span>
<a id="__codelineno-8-134" name="__codelineno-8-134" href="#__codelineno-8-134"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">parity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommURI</span><span class="p">.</span><span class="na">PARITY_NONE</span><span class="p">;</span>
<a id="__codelineno-8-135" name="__codelineno-8-135" href="#__codelineno-8-135"></a>
<a id="__codelineno-8-136" name="__codelineno-8-136" href="#__codelineno-8-136"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sParity</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;none&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-137" name="__codelineno-8-137" href="#__codelineno-8-137"></a><span class="w">      </span><span class="n">parity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommURI</span><span class="p">.</span><span class="na">PARITY_NONE</span><span class="p">;</span>
<a id="__codelineno-8-138" name="__codelineno-8-138" href="#__codelineno-8-138"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sParity</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;odd&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-139" name="__codelineno-8-139" href="#__codelineno-8-139"></a><span class="w">        </span><span class="n">parity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommURI</span><span class="p">.</span><span class="na">PARITY_ODD</span><span class="p">;</span>
<a id="__codelineno-8-140" name="__codelineno-8-140" href="#__codelineno-8-140"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sParity</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;even&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-141" name="__codelineno-8-141" href="#__codelineno-8-141"></a><span class="w">        </span><span class="n">parity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CommURI</span><span class="p">.</span><span class="na">PARITY_EVEN</span><span class="p">;</span>
<a id="__codelineno-8-142" name="__codelineno-8-142" href="#__codelineno-8-142"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-143" name="__codelineno-8-143" href="#__codelineno-8-143"></a>
<a id="__codelineno-8-144" name="__codelineno-8-144" href="#__codelineno-8-144"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CommURI</span><span class="p">.</span><span class="na">Builder</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
<a id="__codelineno-8-145" name="__codelineno-8-145" href="#__codelineno-8-145"></a><span class="w">    </span><span class="p">.</span><span class="na">withBaudRate</span><span class="p">(</span><span class="n">baudRate</span><span class="p">)</span>
<a id="__codelineno-8-146" name="__codelineno-8-146" href="#__codelineno-8-146"></a><span class="w">    </span><span class="p">.</span><span class="na">withDataBits</span><span class="p">(</span><span class="n">dataBits</span><span class="p">)</span>
<a id="__codelineno-8-147" name="__codelineno-8-147" href="#__codelineno-8-147"></a><span class="w">    </span><span class="p">.</span><span class="na">withStopBits</span><span class="p">(</span><span class="n">stopBits</span><span class="p">)</span>
<a id="__codelineno-8-148" name="__codelineno-8-148" href="#__codelineno-8-148"></a><span class="w">    </span><span class="p">.</span><span class="na">withParity</span><span class="p">(</span><span class="n">parity</span><span class="p">)</span>
<a id="__codelineno-8-149" name="__codelineno-8-149" href="#__codelineno-8-149"></a><span class="w">    </span><span class="p">.</span><span class="na">withTimeout</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<a id="__codelineno-8-150" name="__codelineno-8-150" href="#__codelineno-8-150"></a><span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
<a id="__codelineno-8-151" name="__codelineno-8-151" href="#__codelineno-8-151"></a>
<a id="__codelineno-8-152" name="__codelineno-8-152" href="#__codelineno-8-152"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-153" name="__codelineno-8-153" href="#__codelineno-8-153"></a><span class="w">      </span><span class="n">m_commConnection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">CommConnection</span><span class="p">)</span><span class="w"> </span><span class="n">m_connectionFactory</span><span class="p">.</span><span class="na">createConnection</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span>
<a id="__codelineno-8-154" name="__codelineno-8-154" href="#__codelineno-8-154"></a><span class="w">      </span><span class="n">m_commIs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_commConnection</span><span class="p">.</span><span class="na">openInputStream</span><span class="p">();</span>
<a id="__codelineno-8-155" name="__codelineno-8-155" href="#__codelineno-8-155"></a><span class="w">      </span><span class="n">m_commOs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_commConnection</span><span class="p">.</span><span class="na">openOutputStream</span><span class="p">();</span>
<a id="__codelineno-8-156" name="__codelineno-8-156" href="#__codelineno-8-156"></a><span class="w">      </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="n">port</span><span class="o">+</span><span class="s">&quot; open&quot;</span><span class="p">);</span>
<a id="__codelineno-8-157" name="__codelineno-8-157" href="#__codelineno-8-157"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-158" name="__codelineno-8-158" href="#__codelineno-8-158"></a><span class="w">      </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Failed to open port &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-8-159" name="__codelineno-8-159" href="#__codelineno-8-159"></a><span class="w">      </span><span class="n">cleanupPort</span><span class="p">();</span>
<a id="__codelineno-8-160" name="__codelineno-8-160" href="#__codelineno-8-160"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-161" name="__codelineno-8-161" href="#__codelineno-8-161"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-162" name="__codelineno-8-162" href="#__codelineno-8-162"></a>
<a id="__codelineno-8-163" name="__codelineno-8-163" href="#__codelineno-8-163"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">cleanupPort</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-164" name="__codelineno-8-164" href="#__codelineno-8-164"></a>
<a id="__codelineno-8-165" name="__codelineno-8-165" href="#__codelineno-8-165"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_commIs</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-166" name="__codelineno-8-166" href="#__codelineno-8-166"></a><span class="w">      </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-167" name="__codelineno-8-167" href="#__codelineno-8-167"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Closing port input stream...&quot;</span><span class="p">);</span>
<a id="__codelineno-8-168" name="__codelineno-8-168" href="#__codelineno-8-168"></a><span class="w">        </span><span class="n">m_commIs</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<a id="__codelineno-8-169" name="__codelineno-8-169" href="#__codelineno-8-169"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Closed port input stream&quot;</span><span class="p">);</span>
<a id="__codelineno-8-170" name="__codelineno-8-170" href="#__codelineno-8-170"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-171" name="__codelineno-8-171" href="#__codelineno-8-171"></a><span class="w">          </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Cannot close port input stream&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-8-172" name="__codelineno-8-172" href="#__codelineno-8-172"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-173" name="__codelineno-8-173" href="#__codelineno-8-173"></a><span class="w">      </span><span class="n">m_commIs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-8-174" name="__codelineno-8-174" href="#__codelineno-8-174"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-175" name="__codelineno-8-175" href="#__codelineno-8-175"></a>
<a id="__codelineno-8-176" name="__codelineno-8-176" href="#__codelineno-8-176"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_commOs</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-177" name="__codelineno-8-177" href="#__codelineno-8-177"></a><span class="w">      </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-178" name="__codelineno-8-178" href="#__codelineno-8-178"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Closing port output stream...&quot;</span><span class="p">);</span>
<a id="__codelineno-8-179" name="__codelineno-8-179" href="#__codelineno-8-179"></a><span class="w">        </span><span class="n">m_commOs</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<a id="__codelineno-8-180" name="__codelineno-8-180" href="#__codelineno-8-180"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Closed port output stream&quot;</span><span class="p">);</span>
<a id="__codelineno-8-181" name="__codelineno-8-181" href="#__codelineno-8-181"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-182" name="__codelineno-8-182" href="#__codelineno-8-182"></a><span class="w">          </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Cannot close port output stream&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-8-183" name="__codelineno-8-183" href="#__codelineno-8-183"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-184" name="__codelineno-8-184" href="#__codelineno-8-184"></a><span class="w">      </span><span class="n">m_commOs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-8-185" name="__codelineno-8-185" href="#__codelineno-8-185"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-186" name="__codelineno-8-186" href="#__codelineno-8-186"></a>
<a id="__codelineno-8-187" name="__codelineno-8-187" href="#__codelineno-8-187"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_commConnection</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-188" name="__codelineno-8-188" href="#__codelineno-8-188"></a><span class="w">      </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-189" name="__codelineno-8-189" href="#__codelineno-8-189"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Closing port...&quot;</span><span class="p">);</span>
<a id="__codelineno-8-190" name="__codelineno-8-190" href="#__codelineno-8-190"></a><span class="w">        </span><span class="n">m_commConnection</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<a id="__codelineno-8-191" name="__codelineno-8-191" href="#__codelineno-8-191"></a><span class="w">        </span><span class="n">s_logger</span><span class="p">.</span><span class="na">info</span><span class="p">(</span><span class="s">&quot;Closed port&quot;</span><span class="p">);</span>
<a id="__codelineno-8-192" name="__codelineno-8-192" href="#__codelineno-8-192"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-193" name="__codelineno-8-193" href="#__codelineno-8-193"></a><span class="w">          </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Cannot close port&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-8-194" name="__codelineno-8-194" href="#__codelineno-8-194"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-195" name="__codelineno-8-195" href="#__codelineno-8-195"></a><span class="w">      </span><span class="n">m_commConnection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-8-196" name="__codelineno-8-196" href="#__codelineno-8-196"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-197" name="__codelineno-8-197" href="#__codelineno-8-197"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-198" name="__codelineno-8-198" href="#__codelineno-8-198"></a>
<a id="__codelineno-8-199" name="__codelineno-8-199" href="#__codelineno-8-199"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">closePort</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-200" name="__codelineno-8-200" href="#__codelineno-8-200"></a><span class="w">    </span><span class="n">cleanupPort</span><span class="p">();</span>
<a id="__codelineno-8-201" name="__codelineno-8-201" href="#__codelineno-8-201"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-202" name="__codelineno-8-202" href="#__codelineno-8-202"></a>
<a id="__codelineno-8-203" name="__codelineno-8-203" href="#__codelineno-8-203"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">doSerial</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-204" name="__codelineno-8-204" href="#__codelineno-8-204"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_commIs</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-205" name="__codelineno-8-205" href="#__codelineno-8-205"></a><span class="w">      </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-206" name="__codelineno-8-206" href="#__codelineno-8-206"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-8-207" name="__codelineno-8-207" href="#__codelineno-8-207"></a><span class="w">        </span><span class="n">StringBuilder</span><span class="w"> </span><span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span>
<a id="__codelineno-8-208" name="__codelineno-8-208" href="#__codelineno-8-208"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">m_commIs</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-209" name="__codelineno-8-209" href="#__codelineno-8-209"></a><span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">m_commIs</span><span class="p">.</span><span class="na">available</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-210" name="__codelineno-8-210" href="#__codelineno-8-210"></a><span class="w">            </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_commIs</span><span class="p">.</span><span class="na">read</span><span class="p">();</span>
<a id="__codelineno-8-211" name="__codelineno-8-211" href="#__codelineno-8-211"></a><span class="w">          </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-212" name="__codelineno-8-212" href="#__codelineno-8-212"></a><span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-213" name="__codelineno-8-213" href="#__codelineno-8-213"></a><span class="w">              </span><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<a id="__codelineno-8-214" name="__codelineno-8-214" href="#__codelineno-8-214"></a><span class="w">              </span><span class="k">continue</span><span class="p">;</span>
<a id="__codelineno-8-215" name="__codelineno-8-215" href="#__codelineno-8-215"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">InterruptedException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-216" name="__codelineno-8-216" href="#__codelineno-8-216"></a><span class="w">                </span><span class="k">return</span><span class="p">;</span>
<a id="__codelineno-8-217" name="__codelineno-8-217" href="#__codelineno-8-217"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-8-218" name="__codelineno-8-218" href="#__codelineno-8-218"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-8-219" name="__codelineno-8-219" href="#__codelineno-8-219"></a>
<a id="__codelineno-8-220" name="__codelineno-8-220" href="#__codelineno-8-220"></a><span class="w">        </span><span class="c1">// on reception of CR, publish the received sentence</span>
<a id="__codelineno-8-221" name="__codelineno-8-221" href="#__codelineno-8-221"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">==</span><span class="mi">13</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-222" name="__codelineno-8-222" href="#__codelineno-8-222"></a><span class="w">          </span><span class="n">s_logger</span><span class="p">.</span><span class="na">debug</span><span class="p">(</span><span class="s">&quot;Received serial input, echoing to output: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
<a id="__codelineno-8-223" name="__codelineno-8-223" href="#__codelineno-8-223"></a><span class="w">          </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">(</span><span class="s">&quot;\r\n&quot;</span><span class="p">);</span>
<a id="__codelineno-8-224" name="__codelineno-8-224" href="#__codelineno-8-224"></a><span class="w">          </span><span class="n">String</span><span class="w"> </span><span class="n">dataRead</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sb</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
<a id="__codelineno-8-225" name="__codelineno-8-225" href="#__codelineno-8-225"></a><span class="w">          </span><span class="c1">//echo the data to the output stream</span>
<a id="__codelineno-8-226" name="__codelineno-8-226" href="#__codelineno-8-226"></a><span class="w">          </span><span class="n">m_commOs</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">dataRead</span><span class="p">.</span><span class="na">getBytes</span><span class="p">());</span>
<a id="__codelineno-8-227" name="__codelineno-8-227" href="#__codelineno-8-227"></a><span class="w">          </span><span class="c1">//reset the buffer</span>
<a id="__codelineno-8-228" name="__codelineno-8-228" href="#__codelineno-8-228"></a><span class="w">          </span><span class="n">sb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span>
<a id="__codelineno-8-229" name="__codelineno-8-229" href="#__codelineno-8-229"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="o">!=</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-230" name="__codelineno-8-230" href="#__codelineno-8-230"></a><span class="w">          </span><span class="n">sb</span><span class="p">.</span><span class="na">append</span><span class="p">((</span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
<a id="__codelineno-8-231" name="__codelineno-8-231" href="#__codelineno-8-231"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-8-232" name="__codelineno-8-232" href="#__codelineno-8-232"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-233" name="__codelineno-8-233" href="#__codelineno-8-233"></a>
<a id="__codelineno-8-234" name="__codelineno-8-234" href="#__codelineno-8-234"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-235" name="__codelineno-8-235" href="#__codelineno-8-235"></a><span class="w">          </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Cannot read port&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-8-236" name="__codelineno-8-236" href="#__codelineno-8-236"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-237" name="__codelineno-8-237" href="#__codelineno-8-237"></a><span class="w">          </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-238" name="__codelineno-8-238" href="#__codelineno-8-238"></a><span class="w">            </span><span class="n">m_commIs</span><span class="p">.</span><span class="na">close</span><span class="p">();</span>
<a id="__codelineno-8-239" name="__codelineno-8-239" href="#__codelineno-8-239"></a><span class="w">          </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">IOException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-240" name="__codelineno-8-240" href="#__codelineno-8-240"></a><span class="w">            </span><span class="n">s_logger</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="s">&quot;Cannot close buffered reader&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span>
<a id="__codelineno-8-241" name="__codelineno-8-241" href="#__codelineno-8-241"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-8-242" name="__codelineno-8-242" href="#__codelineno-8-242"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-8-243" name="__codelineno-8-243" href="#__codelineno-8-243"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-244" name="__codelineno-8-244" href="#__codelineno-8-244"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-8-245" name="__codelineno-8-245" href="#__codelineno-8-245"></a><span class="p">}</span>
</code></pre></div>
At this point, the bundle implementation is complete. <em>Make sure to save
all files before proceeding.</em></p>
<h3 id="export-the-bundle">Export the Bundle</h3>
<p>To build the Serial Example bundle as a stand-alone OSGi plugin,
right-click the project and select Export.</p>
<p>From the wizard, select Plug-in Development | Deployable plug-ins and
fragments and click Next.</p>
<p><img alt="" src="../images/serial-example/image1.png" /></p>
<p>The Export window appears. Under Available Plug-ins and
Fragments, verify that the newly created plug-in is selected.</p>
<p>Under Destination, select the Directory option button and use
the Browse button to select an appropriate place to save the JAR
file on the local file system.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You will need to know the location where this JAR file is saved for the deployment process.</p>
</div>
<p><img alt="" src="../images/serial-example/image2.png" /></p>
<p>Under Options, select the checkbox Use class files compiled in the
workspace in addition to the checkboxes already enabled, and click
Finish.</p>
<p><img alt="" src="../images/serial-example/image3.png" /></p>
<p>Doing so will create a JAR file in the selected directory (e.g.,
/home/joe/myPlugins/plugins/org.eclipse.kura.example.serial_1.0.0.201410311510.jar).</p>
<h3 id="deploy-the-bundle">Deploy the Bundle</h3>
<p>In order to proceed, you need to know the IP address of your embedded
gateway that is running Kura. Once you have this IP address, follow the
mToolkit instructions for installing a single bundle to a remote target
device (refer to section <em>2.03 Testing and Deploying Bundles</em>).</p>
<p>Once the installation successfully completes, you should see a message
from the /var/log/kura.log file indicating that the bundle was
successfully installed and configured. You can also run this example
with the emulator in a Linux or OS X environment as shown sample output
below. Make sure that your user account has owner permission for the
serial device in /dev.</p>
<p><img alt="" src="../images/serial-example/image4.png" /></p>
<h3 id="validate-the-bundle">Validate the Bundle</h3>
<p>Next, you need to test that your bundle does indeed echo characters back
by opening minicom and configuring it to use [device_node_2] that was
previously determined.</p>
<p>Open minicom using the following command at a Linux terminal on the
remote gateway device:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>minicom -s
</code></pre></div>
<p>This command opens a view similar to the following screen capture:</p>
<p><img alt="" src="../images/serial-example/image5.png" /></p>
<p>Scroll down to Serial port setup and press <ENTER>. A new dialog
window opens as shown below:</p>
<p><img alt="" src="../images/serial-example/image6.png" /></p>
<p><span id="_Cloud_Enabled_Serial" class="anchor"></span></p>
<p>Use the minicom menu options on the left (i.e., A, B, C, etc.) to change
desired fields. Set the fields to the same values as shown in the
previous screen capture except the Serial Device should match the
[device_node_2] on your target device. Once this is set, press
\&lt;ENTER&gt; to exit from this menu.</p>
<p>In the main configuration menu, select Exit (<em>do not</em> select the
option Exit from Minicom). At this point, you have successfully started
minicom on the second serial port attached to your null modem cable
allowing minicom to act as a serial device that can send and receive
commands to your Kura bundle. You can verify this operation by typing
characters and pressing <ENTER>. The <ENTER> function (specifically
a ‘\n’ character) signals to the Kura application to echo the buffered
characters back to the serial device (minicom in this case).</p>
<p>Upon startup, minicom sends an initialization string to the serial
device. These characters are sent to the minicom terminal because they
were echoed back by Kura listening on the port at the other end of the
null modem cable.</p>
<p>When you are done, exit minicom by pressing ‘<CTRL> a’, then ‘q’, and
finally ‘<ENTER>’. Doing so brings you back to the Linux command
prompt.</p>
<p>This tutorial instructed you how to write and deploy a Kura bundle on
your target device that listens for serial data (coming from the minicom
terminal and being received on [device_node_1]). This tutorial also
demonstrated that the application echoes data back to the same serial
port that is received in minicom, which acts a serial device that sends
and receives data. If supported by the device, Kura may send and receive
binary data instead of ASCII.</p>

              
            </article>
            
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../connected-application/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Connected Application" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Connected Application
            </div>
          </div>
        </a>
      
      
        
        <a href="../how-to-use-gpio/" class="md-footer__link md-footer__link--next" aria-label="Next: How to Use GPIO" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              How to Use GPIO
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/eclipse/kura" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://gitter.im/eclipse/kura" target="_blank" rel="noopener" title="gitter.im" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://hub.docker.com/r/eclipse/kura" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>