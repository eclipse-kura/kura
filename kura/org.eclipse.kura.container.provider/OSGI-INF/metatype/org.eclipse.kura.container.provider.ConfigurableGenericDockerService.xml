<?xml version="1.0" encoding="UTF-8"?>
<!--
     Copyright (c) 2022 Eurotech and/or its affiliates and others
   
     This program and the accompanying materials are made
     available under the terms of the Eclipse Public License 2.0
     which is available at https://www.eclipse.org/legal/epl-2.0/
  
 	SPDX-License-Identifier: EPL-2.0
 	
 	Contributors:
 	 Eurotech
 -->
<MetaData xmlns="http://www.osgi.org/xmlns/metatype/v1.2.0" localization="en_us">
    <OCD id="org.eclipse.kura.container.provider.ConfigurableGenericDockerService" name="Docker Custom Service"
        description="Allows for the creation of docker containers.">

        <AD id="container.enabled" name="Enabled" type="Boolean" cardinality="1" required="true" default="false"
            description="Enables this container">
        </AD>

        <AD id="container.image" name="Image name" description="The image the docker container will be created with. This utility will pull images from docker hub."
            type="String" cardinality="1" required="true" default="nginx" />

        <AD id="container.image.tag" name="Image tag"
            description="Describes which image version that should be pulled from docker hub." type="String"
            cardinality="1" required="true" default="latest" />

        <AD id="container.ports.internal" name="Internal ports"
            description="A comma seperated list of ports. Note, the number of internal ports must be equal to the number of external ports. Example: 80, 443." type="String" cardinality="1" required="true"
            default="80" />

        <AD id="container.ports.external" name="External ports"
            description="A comma seperated list of ports. Note, the number of external ports must be equal to the number of internal ports. Example: 8080, 443." type="String" cardinality="1" required="true"
            default="8080" />

        <AD id="container.privileged" name="Privileged Mode" type="Boolean" cardinality="1" required="true" default="false"
            description="Give the container privileged access. (Warning: use this option at your own risk as privileged containers can be dangerous.)">
        </AD>
        
        <AD id="container.env" name="Environment Variables"
            description="Additional container enviroment variables. Example: example_var_1=123, example_var_2=123." type="String" cardinality="1"
            required="false" default="" />
            
        <AD id="container.volume" name="Volume Mount"
            description="The path on the container at which you would like to mount a file or folder. Example: /path/on/host1:/path/on/container1, /path/on/host2:/path/on/container2." type="String" cardinality="1"
            required="false" default="" />
            
        <AD id="container.device" name="Peripheral Device"
            description="Used to pass physical devices to a container. Example: /dev/gpiomem, /dev/ttyUSB0. (Generally Requires privileged mode to be enabled.)" type="String" cardinality="1"
            required="false" default="" />
            

    </OCD>
    <Designate pid="org.eclipse.kura.container.provider.ConfigurableGenericDockerService"
        factoryPid="org.eclipse.kura.container.provider.ConfigurableGenericDockerService">
        <Object ocdref="org.eclipse.kura.container.provider.ConfigurableGenericDockerService" />
    </Designate>
</MetaData>