/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return !n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length" in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k){return d}if(!e&&p){if(11!==k&&(f=_.exec(a))){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName){return H.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+ra(o[l])}w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x){try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return la(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=ma(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=na(b)}function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++){ga(a,b[d],c)}return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[sa(ta(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=F.call(i))}}s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=xa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(w.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++){if(n.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){n.find(a,e[b],d)}return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return !!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||y).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b)){for(c in b){n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&n(a).is(c)){break}d.push(a)}}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(n.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType){}return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++){if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1){h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return !i},fireWith:function(a,b){return !h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){n.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a)){return 0}var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b){f[b]=c}else{if(n.isEmptyObject(f)){n.extend(this.cache[e],b)}else{for(d in b){f[d]=b[d]}}}return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b){this.cache[f]={}}else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--){delete g[d[c]]}}},hasData:function(a){return !n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else{c=void 0}}return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])))}L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c){return c}if(c=M.get(f,d),void 0!==c){return c}if(c=P(f,d,void 0),void 0!==c){return c}}else{this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin" in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return !0}function $(){return !1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--){h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else{for(o in i){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode){p.push(g),h=g}h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped()){b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault())}return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!==this;i=i.parentNode||this){if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a){this.on(g,b,c,a[g],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=$}else{if(!d){return this}}return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++){L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){n.event.add(b,e,j[e][c])}}}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++){pa(f[d],g[d])}}if(b){if(c){for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++){na(f[d],g[d])}}else{na(a,h)}}return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++){if(e=a[m],e||0===e){if("object"===n.type(e)){n.merge(l,e.nodeType?[e]:e)}else{if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--){f=f.lastChild}n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else{l.push(b.createTextNode(e))}}}}k.textContent="",m=0;while(e=l[m++]){if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++]){fa.test(e.type||"")&&c.push(e)}}}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events){for(d in b.events){f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle)}}L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p)){return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++){h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j)}if(g){for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++){h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}}}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++){c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get())}return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a){return b}var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--){if(b=Ea[e]+c,b in a){return b}}return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)))}return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+R[d]+b]=f[d]||f[d-2]||f[0]}return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,n.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=R[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d]){continue}p=!0}m[d]=q&&q[d]||n.style(a,d)}else{j=void 0}}if(n.isEmptyObject(m)){"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j)}else{q?"hidden" in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m){n.style(a,b,m[b])}});for(d in m){g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function Wa(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++){if(d=Qa[f].call(j,a,k,j.opts)){return d}}return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)}},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Pa.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=n.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?n.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0){return !0}}return !1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a){return null}try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e)){f[b[1].toLowerCase()]=b[2]}}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t){return v}i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers){v.setRequestHeader(j,k.headers[j])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(j in {success:1,error:1,complete:1}){v[j](k[j])}if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return !n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Ab(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Ab(c,a[c],b,e)}}return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb){Cb[a]()}}),k.cors=!!Eb&&"withCredentials" in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){f.setRequestHeader(e,c[e])}b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b){throw h}}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb){return Hb.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position")){a=a.offsetParent}return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void (g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});(function(){function aG(k,c){if(k!==c){var d=null===k,h=k===av,a=k===k,j=null===c,b=c===av,g=c===c;if(k>c&&!j||!a||d&&!b&&g||h&&g){return 1}if(k<c&&!d||!g||j&&!h&&a||b&&a){return -1}}return 0}function az(f,b,c){for(var d=f.length,a=c?d:-1;c?a--:++a<d;){if(b(f[a],a,f)){return a}}return -1}function aB(d,a,b){if(a!==a){return aE(d,b)}b-=1;for(var c=d.length;++b<c;){if(d[b]===a){return b}}return -1}function aS(a){return typeof a=="function"||false}function ay(a){return null==a?"":a+""}function aF(d,a){for(var b=-1,c=d.length;++b<c&&-1<a.indexOf(d.charAt(b));){}return b}function aN(c,a){for(var b=c.length;b--&&-1<a.indexOf(c.charAt(b));){}return b}function aR(a,b){return aG(a.a,b.a)||a.b-b.b}function aW(a){return bE[a]}function aU(a){return bG[a]}function aI(c,a,b){return a?c=bB[c]:b&&(c=ax[c]),"\\"+c}function aA(a){return"\\"+ax[a]}function aE(f,b,c){var d=f.length;for(b+=c?0:-1;c?b--:++b<d;){var a=f[b];if(a!==a){return b}}return -1}function aO(a){return !!a&&typeof a=="object"}function aX(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function aw(g,b){for(var c=-1,d=g.length,a=-1,f=[];++c<d;){g[c]===b&&(g[c]=ar,f[++a]=c)}return f}function aP(c){for(var a=-1,b=c.length;++a<b&&aX(c.charCodeAt(a));){}return a}function at(b){for(var a=b.length;a--&&aX(b.charCodeAt(a));){}return a}function aT(a){return af[a]}function aH(fh){function ew(ce){if(aO(ce)&&!(eg(ce)||ce instanceof fB)){if(ce instanceof eT){return ce}if(c0.call(ce,"__chain__")&&c0.call(ce,"__wrapped__")){return eF(ce)}}return new eT(ce)}function dl(){}function eT(cr,ce,co){this.__wrapped__=cr,this.__actions__=co||[],this.__chain__=!!ce}function fB(ce){this.__wrapped__=ce,this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=dG,this.__views__=[]}function bS(){this.__data__={}}function G(co){var ce=co?co.length:0;for(this.data={hash:ek(null),set:new dp};ce--;){this.push(co[ce])}}function eH(cr,ce){var co=cr.data;return(typeof ce=="string"||ex(ce)?co.set.has(ce):co.hash[ce])?0:-1}function cq(ct,ce){var co=-1,cr=ct.length;for(ce||(ce=bU(cr));++co<cr;){ce[co]=ct[co]}return ce}function d5(ct,ce){for(var co=-1,cr=ct.length;++co<cr&&false!==ce(ct[co],co,ct);){}return ct}function e3(ct,ce){for(var co=-1,cr=ct.length;++co<cr;){if(!ce(ct[co],co,ct)){return false}}return true}function cT(dr,cr){for(var ct=-1,cu=dr.length,ce=-1,de=[];++ct<cu;){var co=dr[ct];cr(co,ct,dr)&&(de[++ce]=co)}return de}function fX(cu,co){for(var cr=-1,ct=cu.length,ce=bU(ct);++cr<ct;){ce[cr]=co(cu[cr],cr,cu)}return ce}function ff(cu,co){for(var cr=-1,ct=co.length,ce=cu.length;++cr<ct;){cu[ce+cr]=co[cr]}return cu}function cy(de,co,cr,ct){var ce=-1,cu=de.length;for(ct&&cu&&(cr=de[++ce]);++ce<cu;){cr=co(cr,de[ce],ce,de)}return cr}function fL(ct,ce){for(var co=-1,cr=ct.length;++co<cr;){if(ce(ct[co],co,ct)){return true}}return false}function dU(ct,ce,co,cr){return ct!==av&&c0.call(cr,co)?ct:ce}function c1(cr,du,ce){for(var de=-1,dt=fA(du),co=dt.length;++de<co;){var ct=dt[de],cu=cr[ct],dr=ce(cu,du[ct],ct,cr,du);(dr===dr?dr===cu:cu!==cu)&&(cu!==av||ct in cr)||(cr[ct]=dr)}return cr}function T(co,ce){return null==ce?co:eL(ce,fA(ce),co)}function ca(cr,du){for(var ce=-1,de=null==cr,dt=!de&&u(cr),co=dt?cr.length:0,ct=du.length,cu=bU(ct);++ce<ct;){var dr=du[ce];cu[ce]=dt?P(dr,co)?cr[dr]:av:de?av:cr[dr]}return cu}function eL(de,co,cr){cr||(cr={});for(var ct=-1,ce=co.length;++ct<ce;){var cu=co[ct];cr[cu]=de[cu]}return cr}function J(ct,ce,co){var cr=typeof ct;return"function"==cr?ce===av?ct:an(ct,ce,co):null==ct?n:"object"==cr?fk(ct):ce===av?fH(ct):f0(ct,ce)}function cM(cr,ee,ce,de,du,co,ct){var cu;if(ce&&(cu=du?ce(cr,de,du):ce(cr)),cu!==av){return cu}if(!ex(cr)){return cr}if(de=eg(cr)){if(cu=dE(cr),!ee){return cq(cr,cu)}}else{var dt=b8.call(cr),dr=dt==bl;if(dt!=aZ&&dt!=bx&&(!dr||du)){return ad[dt]?dI(cr,dt,ee):du?cr:{}}if(cu=fq(dr?{}:cr),!ee){return T(cu,cr)}}for(co||(co=[]),ct||(ct=[]),du=co.length;du--;){if(co[du]==cr){return ct[du]}}return co.push(cr),ct.push(cu),(de?d5:d)(cr,function(eo,ei){cu[ei]=cM(eo,ee,ce,ei,cr,co,ct)}),cu}function dY(cr,ce,co){if(typeof cr!="function"){throw new fZ(bk)}return bT(function(){cr.apply(av,co)},ce)}function eA(co,ee){var de=co?co.length:0,du=[];if(!de){return du}var ce=-1,ct=a(),cu=ct===aB,dt=cu&&ee.length>=bt&&ek&&dp?new G(ee):null,dr=ee.length;dt&&(ct=eH,cu=false,ee=dt);co:for(;++ce<de;){if(dt=co[ce],cu&&dt===dt){for(var cr=dr;cr--;){if(ee[cr]===dt){continue co}}du.push(dt)}else{0>ct(ee,dt,0)&&du.push(dt)}}return du}function fD(cr,ce){var co=true;return dw(cr,function(de,cu,ct){return co=!!ce(de,cu,ct)}),co}function e7(de,co,cr,ct){var ce=ct,cu=ce;return dw(de,function(du,dr,dt){dr=+co(du,dr,dt),(cr(dr,ce)||dr===ct&&dr===cu)&&(ce=dr,cu=du)}),cu}function dq(cr,ce){var co=[];return dw(cr,function(de,cu,ct){ce(de,cu,ct)&&co.push(de)}),co}function bV(cu,co,cr,ct){var ce;return cr(cu,function(dt,de,dr){return co(dt,de,dr)?(ce=ct?de:dt,false):void 0}),ce}function cC(dr,cr,ct,cu){cu||(cu=[]);for(var ce=-1,de=dr.length;++ce<de;){var co=dr[ce];aO(co)&&u(co)&&(ct||eg(co)||cJ(co))?cr?cC(co,cr,ct,cu):ff(cu,co):ct||(cu[cu.length]=co)}return cu}function d9(co,ce){ep(co,ce,dL)}function d(co,ce){return ep(co,ce,fA)}function y(co,ce){return dh(co,ce,fA)}function el(dr,cr){for(var ct=-1,cu=cr.length,ce=-1,de=[];++ct<cu;){var co=cr[ct];C(dr[co])&&(de[++ce]=co)}return de}function fP(ct,ce,co){if(null!=ct){co!==av&&co in bn(ct)&&(ce=[co]),co=0;for(var cr=ce.length;null!=ct&&co<cr;){ct=ct[ce[co++]]}return co&&co==cr?ct:av}}function eX(cr,ei,ce,dr,ee,co){if(cr===ei){cr=true}else{if(null==cr||null==ei||!ex(cr)&&!aO(ei)){cr=cr!==cr&&ei!==ei}else{cr:{var cu=eX,de=eg(cr),du=eg(ei),dt=bv,ct=bv;de||(dt=b8.call(cr),dt==bx?dt=aZ:dt!=aZ&&(de=h(cr))),du||(ct=b8.call(ei),ct==bx?ct=aZ:ct!=aZ&&h(ei));var eo=dt==aZ,du=ct==aZ,ct=dt==ct;if(!ct||de||eo){if(!dr&&(dt=eo&&c0.call(cr,"__wrapped__"),du=du&&c0.call(ei,"__wrapped__"),dt||du)){cr=cu(dt?cr.value():cr,du?ei.value():ei,ce,dr,ee,co);break cr}if(ct){for(ee||(ee=[]),co||(co=[]),dt=ee.length;dt--;){if(ee[dt]==cr){cr=co[dt]==ei;break cr}}ee.push(cr),co.push(ei),cr=(de?fQ:df)(cr,ei,cu,ce,dr,ee,co),ee.pop(),co.pop()}else{cr=false}}else{cr=eY(cr,ei,dt)}}}}return cr}function dd(cr,ee,ce){var de=ee.length,du=de,co=!ce;if(null==cr){return !du}for(cr=bn(cr);de--;){var ct=ee[de];if(co&&ct[2]?ct[1]!==cr[ct[0]]:!(ct[0] in cr)){return false}}for(;++de<du;){var ct=ee[de],cu=ct[0],dt=cr[cu],dr=ct[1];if(co&&ct[2]){if(dt===av&&!(cu in cr)){return false}}else{if(ct=ce?ce(dt,dr,cu):av,ct===av?!eX(dr,dt,ce,true):!ct){return false}}}return true}function o(ct,ce){var co=-1,cr=u(ct)?bU(ct.length):[];return dw(ct,function(dr,cu,de){cr[++co]=ce(dr,cu,de)}),cr}function fk(ct){var ce=b5(ct);if(1==ce.length&&ce[0][2]){var co=ce[0][0],cr=ce[0][1];return function(cu){return null==cu?false:cu[co]===cr&&(cr!==av||co in bn(cu))}}return function(cu){return dd(cu,ce)}}function f0(cu,co){var cr=eg(cu),ct=cH(cu)&&co===co&&!ex(co),ce=cu+"";return cu=E(cu),function(dr){if(null==dr){return false}var de=ce;if(dr=bn(dr),!(!cr&&ct||de in dr)){if(dr=1==cu.length?dr:fP(dr,t(cu,0,-1)),null==dr){return false}de=b0(cu),dr=bn(dr)}return dr[de]===co?co!==av||de in dr:eX(co,dr[de],av,true)}}function b4(dr,cr,ct,cu,ce){if(!ex(dr)){return dr}var de=u(cr)&&(eg(cr)||h(cr)),co=de?av:fA(cr);return d5(co||cr,function(ei,er){if(co&&(er=ei,ei=cr[er]),aO(ei)){cu||(cu=[]),ce||(ce=[]);dr:{for(var eo=er,du=cu,fe=ce,dt=du.length,et=cr[eo];dt--;){if(du[dt]==et){dr[eo]=fe[dt];break dr}}var dt=dr[eo],eu=ct?ct(dt,et,eo,dr,cr):av,ee=eu===av;ee&&(eu=et,u(et)&&(eg(et)||h(et))?eu=eg(dt)?dt:u(dt)?cq(dt):[]:dm(et)||cJ(et)?eu=cJ(dt)?dK(dt):dm(dt)?dt:{}:ee=false),du.push(et),fe.push(eu),ee?dr[eo]=b4(eu,et,ct,du,fe):(eu===eu?eu!==dt:dt===dt)&&(dr[eo]=eu)}}else{eo=dr[er],du=ct?ct(eo,ei,er,dr,cr):av,(fe=du===av)&&(du=ei),du===av&&(!de||er in dr)||!fe&&(du===du?du===eo:eo!==eo)||(dr[er]=du)}}),dr}function dN(ce){return function(co){return null==co?av:co[ce]}}function dD(co){var ce=co+"";return co=E(co),function(cr){return fP(cr,co,ce)}}function fp(cu,co){for(var cr=cu?co.length:0;cr--;){var ct=co[cr];if(ct!=ce&&P(ct)){var ce=ct;cB.call(cu,ct,1)}}}function dH(co,ce){return co+fN(dC()*(ce-co+1))}function ed(cu,co,cr,ct,ce){return ce(cu,function(dt,de,dr){cr=ct?(ct=false,dt):co(cr,dt,de,dr)}),cr}function t(cu,co,cr){var ct=-1,ce=cu.length;for(co=null==co?0:+co||0,0>co&&(co=-co>ce?0:ce+co),cr=cr===av||cr>ce?ce:+cr||0,0>cr&&(cr+=ce),ce=co>cr?0:cr-co>>>0,co>>>=0,cr=bU(ce);++ct<ce;){cr[ct]=cu[ct+co]}return cr}function O(cr,ce){var co;return dw(cr,function(de,cu,ct){return co=ce(de,cu,ct),!co}),!!co}function c6(cr,ce){var co=cr.length;for(cr.sort(ce);co--;){cr[co]=cr[co].c}return cr}function cG(co,cr,ct){var ce=p(),cu=-1;return cr=fX(cr,function(de){return ce(de)}),co=o(co,function(de){return{a:fX(cr,function(dr){return dr(de)}),b:++cu,c:de}}),c6(co,function(du,ee){var dr;aG:{for(var eo=-1,dt=du.a,ei=ee.a,de=dt.length,er=ct.length;++eo<de;){if(dr=aG(dt[eo],ei[eo])){if(eo>=er){break aG}eo=ct[eo],dr*="asc"===eo||true===eo?1:-1;break aG}}dr=du.b-ee.b}return dr})}function cX(cr,ce){var co=0;return dw(cr,function(de,cu,ct){co+=+ce(de,cu,ct)||0}),co}function dx(cr,ei){var dr=-1,ee=a(),co=cr.length,cu=ee===aB,de=cu&&co>=bt,du=de&&ek&&dp?new G(void 0):null,dt=[];du?(ee=eH,cu=false):(de=false,du=ei?[]:dt);cr:for(;++dr<co;){var ct=cr[dr],eo=ei?ei(ct,dr,cr):ct;if(cu&&ct===ct){for(var ce=du.length;ce--;){if(du[ce]===eo){continue cr}}ei&&du.push(eo),dt.push(ct)}else{0>ee(du,eo,0)&&((ei||de)&&du.push(eo),dt.push(ct))}}return dt}function i(cu,co){for(var cr=-1,ct=co.length,ce=bU(ct);++cr<ct;){ce[cr]=cu[co[cr]]}return ce}function eq(de,co,cr,ct){for(var ce=de.length,cu=ct?ce:-1;(ct?cu--:++cu<ce)&&co(de[cu],cu,de);){}return cr?t(de,ct?0:cu,ct?cu+1:ce):t(de,ct?cu+1:0,ct?ce:cu)}function di(de,co){var cr=de;cr instanceof fB&&(cr=cr.value());for(var ct=-1,ce=co.length;++ct<ce;){var cu=co[ct],cr=cu.func.apply(cu.thisArg,ff([cr],cu.args))}return cr}function eP(dr,cr,ct){var cu=0,ce=dr?dr.length:cu;if(typeof cr=="number"&&cr===cr&&ce<=r){for(;cu<ce;){var de=cu+ce>>>1,co=dr[de];(ct?co<=cr:co<cr)&&null!==co?cu=de+1:ce=de}return ce}return fy(dr,cr,n,ct)}function fy(ct,eo,ce,dt){eo=ce(eo);for(var ei=0,cr=ct?ct.length:0,de=eo!==eo,dr=null===eo,ee=eo===av;ei<cr;){var du=fN((ei+cr)/2),cu=ce(ct[du]),er=cu!==av,co=cu===cu;(de?co||dt:dr?co&&er&&(dt||null!=cu):ee?co&&(dt||er):null==cu?0:dt?cu<=eo:cu<eo)?ei=du+1:cr=du}return fY(cr,ec)}function an(cr,ce,co){if(typeof cr!="function"){return n}if(ce===av){return cr}switch(co){case 1:return function(ct){return cr.call(ce,ct)};case 3:return function(cu,de,ct){return cr.call(ce,cu,de,ct)};case 4:return function(cu,de,ct,dr){return cr.call(ce,cu,de,ct,dr)};case 5:return function(de,dr,ct,dt,cu){return cr.call(ce,de,dr,ct,dt,cu)}}return function(){return cr.apply(ce,arguments)}}function D(co){var ce=new cL(co.byteLength);return new d8(ce).set(new d8(co)),ce}function eE(cr,du,ce){for(var de=ce.length,dt=-1,co=fj(cr.length-de,0),ct=-1,cu=du.length,dr=bU(cu+co);++ct<cu;){dr[ct]=du[ct]}for(;++dt<de;){dr[ce[dt]]=cr[dt]}for(;co--;){dr[ct++]=cr[dt++]}return dr}function cm(cr,ee,ce){for(var de=-1,du=ce.length,co=-1,ct=fj(cr.length-du,0),cu=-1,dt=ee.length,dr=bU(ct+dt);++co<ct;){dr[co]=cr[co]}for(ct=co;++cu<dt;){dr[ct+cu]=ee[cu]}for(;++de<du;){dr[ct+ce[de]]=cr[co++]}return dr}function d2(co,ce){return function(cu,dr,cr){var dt=ce?ce():{};if(dr=p(dr,cr,3),eg(cu)){cr=-1;for(var ct=cu.length;++cr<ct;){var de=cu[cr];co(dt,de,dr(de,cr,cu),cu)}}else{dw(cu,function(ee,ei,du){co(dt,ee,dr(ee,ei,du),du)})}return dt}}function e0(ce){return dA(function(ct,cu){var dr=-1,co=null==ct?0:cu.length,dt=2<co?cu[co-2]:av,cr=2<co?cu[2]:av,de=1<co?cu[co-1]:av;for(typeof dt=="function"?(dt=an(dt,de,5),co-=2):(dt=typeof de=="function"?de:av,co-=dt?1:0),cr&&c7(cu[0],cu[1],cr)&&(dt=3>co?av:dt,co=1);++dr<co;){(cr=cu[dr])&&ce(ct,cr,dt)}return ct})}function cQ(co,ce){return function(cu,de){var cr=cu?Y(cu):0;if(!dy(cr)){return co(cu,de)}for(var dr=ce?cr:-1,ct=bn(cu);(ce?dr--:++dr<cr)&&false!==de(ct[dr],dr,ct);){}return cu}}function bZ(ce){return function(ct,cu,dr){var co=bn(ct);dr=dr(ct);for(var dt=dr.length,cr=ce?dt:-1;ce?cr--:++cr<dt;){var de=dr[cr];if(false===cu(co[de],de,co)){break}}return ct}}function cf(ct,ce){function co(){return(this&&this!==bI&&this instanceof co?cr:ct).apply(ce,arguments)}var cr=fb(ct);return co}function fU(ce){return function(cr){var ct=-1;cr=c5(S(cr));for(var cu=cr.length,co="";++ct<cu;){co=ce(co,cr[ct],ct)}return co}}function fb(ce){return function(){var co=arguments;switch(co.length){case 0:return new ce;case 1:return new ce(co[0]);case 2:return new ce(co[0],co[1]);case 3:return new ce(co[0],co[1],co[2]);case 4:return new ce(co[0],co[1],co[2],co[3]);case 5:return new ce(co[0],co[1],co[2],co[3],co[4]);case 6:return new ce(co[0],co[1],co[2],co[3],co[4],co[5]);case 7:return new ce(co[0],co[1],co[2],co[3],co[4],co[5],co[6])}var cr=cV(ce.prototype),co=ce.apply(cr,co);return ex(co)?co:cr}}function cv(co){function ce(ct,cu,cr){return cr&&c7(ct,cu,cr)&&(cu=av),ct=em(ct,co,av,av,av,av,av,cu),ct.placeholder=ce.placeholder,ct}return ce}function fI(co,ce){return dA(function(cr){var ct=cr[0];return null==ct?ct:(cr.push(ce),co.apply(av,cr))})}function dR(co,ce){return function(cr,dt,ei){if(ei&&c7(cr,dt,ei)&&(dt=av),dt=p(dt,ei,3),1==dt.length){ei=cr=eg(cr)?cr:fz(cr);for(var ct=dt,de=-1,dr=ei.length,ee=ce,du=ee;++de<dr;){var cu=ei[de],eo=+ct(cu);co(eo,ee)&&(ee=eo,du=cu)}if(ei=du,!cr.length||ei!==ce){return ei}}return e7(cr,dt,co,ce)}}function c2(co,ce){return function(ct,cr,cu){return cr=p(cr,cu,3),eg(ct)?(cr=az(ct,cr,ce),-1<cr?ct[cr]:av):bV(ct,cr,co)}}function U(ce){return function(cr,ct,co){return cr&&cr.length?(ct=p(ct,co,3),az(cr,ct,ce)):-1}}function cb(ce){return function(co,cr,ct){return cr=p(cr,ct,3),bV(co,cr,ce,true)}}function eM(ce){return function(){for(var ct,cu=arguments.length,dr=ce?cu:-1,co=0,dt=bU(cu);ce?dr--:++dr<cu;){var cr=dt[co++]=arguments[dr];if(typeof cr!="function"){throw new fZ(bk)}!ct&&eT.prototype.thru&&"wrapper"==fl(cr)&&(ct=new eT([],true))}for(dr=ct?-1:cu;++dr<cu;){var cr=dt[dr],co=fl(cr),de="wrapper"==co?fw(cr):av;ct=de&&cY(de[0])&&de[1]==(bu|aL|ba|bw)&&!de[4].length&&1==de[9]?ct[fl(de[0])].apply(ct,de[3]):1==cr.length&&cY(cr)?ct[co]():ct.thru(cr)}return function(){var ei=arguments,ee=ei[0];if(ct&&1==ei.length&&eg(ee)&&ee.length>=bt){return ct.plant(ee).value()}for(var du=0,ei=cu?dt[du].apply(this,ei):ee;++du<cu;){ei=dt[du].call(this,ei)}return ei}}}function K(co,ce){return function(ct,cu,cr){return typeof cu=="function"&&cr===av&&eg(ct)?co(ct,cu):ce(ct,an(cu,cr,3))}}function cN(ce){return function(co,cr,ct){return(typeof cr!="function"||ct!==av)&&(cr=an(cr,ct,3)),ce(co,cr,dL)}}function dZ(ce){return function(co,cr,ct){return(typeof cr!="function"||ct!==av)&&(cr=an(cr,ct,3)),ce(co,cr)}}function eB(ce){return function(cr,ct,cu){var co={};return ct=p(ct,cu,3),d(cr,function(de,dr,dt){dt=ct(de,dr,dt),dr=ce?dt:dr,de=ce?de:dt,co[dr]=de}),co}}function fE(ce){return function(co,cr,ct){return co=ay(co),(ce?co:"")+cD(co,cr,ct)+(ce?"":co)}}function e8(co){var ce=dA(function(ct,cu){var cr=aw(cu,ce.placeholder);return em(ct,co,av,cu,cr)});return ce}function ds(co,ce){return function(cu,de,cr,dr){var ct=3>arguments.length;return typeof de=="function"&&dr===av&&eg(cu)?co(cu,de,cr,ct):ed(cu,p(de,dr,4),cr,ct,ce)}}function bW(dt,cr,cu,et,co,dr,ee,er,fo,fe){function du(){for(var fu=arguments.length,ft=fu,f3=bU(fu);ft--;){f3[ft]=arguments[ft]}if(et&&(f3=eE(f3,et,co)),dr&&(f3=cm(f3,dr,ee)),fr||ce){var ft=du.placeholder,f1=aw(f3,ft),fu=fu-f1.length;if(fu<fe){var f2=er?cq(er):av,fu=fj(fe-fu,0),f4=fr?f1:av,f1=fr?av:f1,f5=fr?f3:av,f3=fr?av:f3;return cr|=fr?ba:bf,cr&=~(fr?bf:ba),eo||(cr&=~(au|by)),f3=[dt,cr,cu,f5,f4,f3,f1,f2,fo,fu],f2=bW.apply(av,f3),cY(dt)&&B(f2,f3),f2.placeholder=ft,f2}}if(ft=de?cu:this,f2=ei?ft[dt]:dt,er){for(fu=f3.length,f4=fY(er.length,fu),f1=cq(f3);f4--;){f5=er[f4],f3[f4]=P(f5,fu)?f1[f5]:av}}return ct&&fo<f3.length&&(f3.length=fo),this&&this!==bI&&this instanceof du&&(f2=eu||fb(dt)),f2.apply(ft,f3)}var ct=cr&bu,de=cr&au,ei=cr&by,fr=cr&aL,eo=cr&aM,ce=cr&bo,eu=ei?av:fb(dt);return du}function cD(cr,ce,co){return cr=cr.length,ce=+ce,cr<ce&&dc(ce)?(ce-=cr,co=null==co?" ":co+"",db(co,w(ce/co.length)).slice(0,ce)):""}function ea(dr,cr,ct,cu){function ce(){for(var ee=-1,ei=arguments.length,du=-1,eo=cu.length,dt=bU(eo+ei);++du<eo;){dt[du]=cu[du]}for(;ei--;){dt[du++]=arguments[++ee]}return(this&&this!==bI&&this instanceof ce?co:dr).apply(de?ct:this,dt)}var de=cr&au,co=fb(dr);return ce}function e(co){var ce=d7[co];return function(ct,cr){return(cr=cr===av?0:+cr||0)?(cr=fC(10,cr),ce(ct*cr)/cr):ce(ct)}}function z(ce){return function(cr,ct,cu,co){var de=p(cu);return null==cu&&de===J?eP(cr,ct,ce):fy(cr,ct,de(cu,co,1),ce)}}function em(ct,eo,ce,dt,ei,cr,de,dr){var ee=eo&by;if(!ee&&typeof ct!="function"){throw new fZ(bk)}var du=dt?dt.length:0;if(du||(eo&=~(ba|bf),dt=ei=av),du-=ei?ei.length:0,eo&bf){var cu=dt,er=ei;dt=ei=av}var co=ee?av:fw(ct);return ce=[ct,eo,ce,dt,ei,cu,er,cr,de,dr],co&&(dt=ce[1],eo=co[1],dr=dt|eo,ei=eo==bu&&dt==aL||eo==bu&&dt==bw&&ce[7].length<=co[8]||eo==(bu|bw)&&dt==aL,(dr<bu||ei)&&(eo&au&&(ce[2]=co[2],dr|=dt&au?0:aM),(dt=co[3])&&(ei=ce[3],ce[3]=ei?eE(ei,dt,co[4]):cq(dt),ce[4]=ei?aw(ce[3],ar):cq(co[4])),(dt=co[5])&&(ei=ce[5],ce[5]=ei?cm(ei,dt,co[6]):cq(dt),ce[6]=ei?aw(ce[5],ar):cq(co[6])),(dt=co[7])&&(ce[7]=cq(dt)),eo&bu&&(ce[8]=null==ce[8]?co[8]:fY(ce[8],co[8])),null==ce[9]&&(ce[9]=co[9]),ce[0]=co[0],ce[1]=dr),eo=ce[1],dr=ce[9]),ce[9]=null==dr?ee?0:ct.length:fj(dr-du,0)||0,(co?eO:B)(eo==au?cf(ce[0],ce[2]):eo!=ba&&eo!=(au|ba)||ce[4].length?bW.apply(av,ce):ea.apply(av,ce),ce)}function fQ(cr,ei,ce,dr,ee,co,cu){var de=-1,du=cr.length,dt=ei.length;if(du!=dt&&(!ee||dt<=du)){return false}for(;++de<du;){var ct=cr[de],dt=ei[de],eo=dr?dr(ee?dt:ct,ee?ct:dt,de):av;if(eo!==av){if(eo){continue}return false}if(ee){if(!fL(ei,function(er){return ct===er||ce(ct,er,dr,ee,co,cu)})){return false}}else{if(ct!==dt&&!ce(ct,dt,dr,ee,co,cu)){return false}}}return true}function eY(cr,ce,co){switch(co){case bi:case aC:return +cr==+ce;case be:return cr.name==ce.name&&cr.message==ce.message;case a5:return cr!=+cr?ce!=+ce:cr==+ce;case a0:case bs:return cr==ce+""}return false}function df(ct,et,ce,du,er,cr,de){var dt=fA(ct),ei=dt.length,ee=fA(et).length;if(ei!=ee&&!er){return false}for(ee=ei;ee--;){var cu=dt[ee];if(!(er?cu in et:c0.call(et,cu))){return false}}for(var eu=er;++ee<ei;){var cu=dt[ee],co=ct[cu],dr=et[cu],eo=du?du(er?dr:co,er?co:dr,cu):av;if(eo===av?!ce(co,dr,du,er,cr,de):!eo){return false}eu||(eu="constructor"==cu)}return eu||(ce=ct.constructor,du=et.constructor,!(ce!=du&&"constructor" in ct&&"constructor" in et)||typeof ce=="function"&&ce instanceof ce&&typeof du=="function"&&du instanceof du)?true:false}function p(ct,ce,co){var cr=ew.callback||dB,cr=cr===dB?J:cr;return co?cr(ct,ce,co):cr}function fl(de){for(var co=de.name+"",cr=cF[co],ct=cr?cr.length:0;ct--;){var ce=cr[ct],cu=ce.func;if(null==cu||cu==de){return ce.name}}return co}function a(ct,co,cr){var ce=ew.indexOf||cR,ce=ce===cR?aB:ce;return ct?ce(ct,co,cr):ce}function b5(cr){cr=ej(cr);for(var ce=cr.length;ce--;){var co=cr[ce][1];cr[ce][2]=co===co&&!ex(co)}return cr}function dO(cr,ce){var co=null==cr?av:cr[ce];return fT(co)?co:av}function dE(cr){var ce=cr.length,co=new cr.constructor(ce);return ce&&"string"==typeof cr[0]&&c0.call(cr,"index")&&(co.index=cr.index,co.input=cr.input),co}function fq(ce){return ce=ce.constructor,typeof ce=="function"&&ce instanceof ce||(ce=cW),new ce}function dI(cu,co,cr){var ct=cu.constructor;switch(co){case bm:return D(cu);case bi:case aC:return new ct(+cu);case a1:case bq:case bc:case a9:case bh:case bM:case ab:case aJ:case aD:return co=cu.buffer,new ct(cr?D(co):co,cu.byteOffset,cu.length);case a5:case bs:return new ct(cu);case a0:var ce=new ct(cu.source,ac.exec(cu));ce.lastIndex=cu.lastIndex}return ce}function ef(cr,ce,co){return null==cr||cH(ce,cr)||(ce=E(ce),cr=1==ce.length?cr:fP(cr,t(ce,0,-1)),ce=b0(ce)),ce=null==cr?cr:cr[ce],null==ce?av:ce.apply(cr,co)}function u(ce){return null!=ce&&dy(Y(ce))}function P(co,ce){return co=typeof co=="number"||bj.test(co)?+co:-1,ce=null==ce?M:ce,-1<co&&0==co%1&&co<ce}function c7(ct,ce,co){if(!ex(co)){return false}var cr=typeof ce;return("number"==cr?u(co)&&P(ce,co.length):"string"==cr&&ce in co)?(ce=co[ce],ct===ct?ct===ce:ce!==ce):false}function cH(cr,ce){var co=typeof cr;return"string"==co&&ai.test(cr)||"number"==co?true:eg(cr)?false:!bF.test(cr)||null!=ce&&cr in bn(ce)}function cY(cr){var ce=fl(cr),co=ew[ce];return typeof co=="function"&&ce in fB.prototype?cr===co?true:(ce=fw(co),!!ce&&cr===ce[0]):false}function dy(ce){return typeof ce=="number"&&-1<ce&&0==ce%1&&ce<=M}function j(co,ce){return co===av?ce:v(co,ce,j)}function es(de,co){de=bn(de);for(var cr=-1,ct=co.length,ce={};++cr<ct;){var cu=co[cr];cu in de&&(ce[cu]=de[cu])}return ce}function dj(cr,ce){var co={};return d9(cr,function(de,cu,ct){ce(de,cu,ct)&&(co[cu]=de)}),co}function eQ(dt){for(var cr=dL(dt),ct=cr.length,de=ct&&dt.length,ce=!!de&&dy(de)&&(eg(dt)||cJ(dt)),dr=-1,co=[];++dr<ct;){var cu=cr[dr];(ce&&P(cu,de)||c0.call(dt,cu))&&co.push(cu)}return co}function fz(ce){return null==ce?[]:u(ce)?ex(ce)?ce:cW(ce):x(ce)}function bn(ce){return ex(ce)?ce:cW(ce)}function E(co){if(eg(co)){return co}var ce=[];return ay(co).replace(bC,function(de,ct,cu,cr){ce.push(cu?cr.replace(bK,"$1"):ct||de)}),ce}function eF(ce){return ce instanceof fB?ce.clone():new eT(ce.__wrapped__,ce.__chain__,cq(ce.__actions__))}function cn(cr,ce,co){return cr&&cr.length?((co?c7(cr,ce,co):null==ce)&&(ce=1),t(cr,0>ce?0:ce)):[]}function d3(ct,ce,co){var cr=ct?ct.length:0;return cr?((co?c7(ct,ce,co):null==ce)&&(ce=1),ce=cr-(+ce||0),t(ct,0,0>ce?0:ce)):[]}function e1(ce){return ce?ce[0]:av}function cR(ct,co,cr){var ce=ct?ct.length:0;if(!ce){return -1}if(typeof cr=="number"){cr=0>cr?fj(ce+cr,0):cr}else{if(cr){return cr=eP(ct,co),cr<ce&&(co===co?co===ct[cr]:ct[cr]!==ct[cr])?cr:-1}}return aB(ct,co,cr||0)}function b0(co){var ce=co?co.length:0;return ce?co[ce-1]:av}function cg(ce){return cn(ce,1)}function fV(co,du,cu,dt){if(!co||!co.length){return[]}null!=du&&typeof du!="boolean"&&(dt=cu,cu=c7(co,du,dt)?av:du,du=false);var ce=p();if((null!=cu||ce!==J)&&(cu=ce(cu,dt,3)),du&&a()===aB){du=cu;var cr;cu=-1,dt=co.length;for(var ce=-1,ct=[];++cu<dt;){var dr=co[cu],de=du?du(dr,cu,co):dr;cu&&cr===de||(cr=de,ct[++ce]=dr)}co=ct}else{co=dx(co,cu)}return co}function fc(ct){if(!ct||!ct.length){return[]}var ce=-1,co=0;ct=cT(ct,function(cu){return u(cu)?(co=fj(cu.length,co),true):void 0});for(var cr=bU(co);++ce<co;){cr[ce]=fX(ct,dN(ce))}return cr}function cw(cr,ce,co){return cr&&cr.length?(cr=fc(cr),null==ce?cr:(ce=an(ce,co,4),fX(cr,function(ct){return cy(ct,ce,av,true)}))):[]}function fJ(de,co){var cr=-1,ct=de?de.length:0,ce={};for(!ct||co||eg(de[0])||(co=[]);++cr<ct;){var cu=de[cr];co?ce[cu]=co[cr]:cu&&(ce[cu[0]]=cu[1])}return ce}function dS(ce){return ce=ew(ce),ce.__chain__=true,ce}function da(cr,ce,co){return ce.call(co,cr)}function Z(ct,ce,co){var cr=eg(ct)?e3:fD;return co&&c7(ct,ce,co)&&(ce=av),(typeof ce!="function"||co!==av)&&(ce=p(ce,co,3)),cr(ct,ce)}function cj(ct,ce,co){var cr=eg(ct)?cT:dq;return ce=p(ce,co,3),cr(ct,ce)}function eU(cu,co,cr,ct){var ce=cu?Y(cu):0;return dy(ce)||(cu=x(cu),ce=cu.length),cr=typeof cr!="number"||ct&&c7(co,cr,ct)?0:0>cr?fj(ce+cr,0):cr||0,typeof cu=="string"||!eg(cu)&&fv(cu)?cr<=ce&&-1<cu.indexOf(co,cr):!!ce&&-1<a(cu,co,cr)}function N(ct,ce,co){var cr=eg(ct)?fX:o;return ce=p(ce,co,3),cr(ct,ce)}function cU(de,co,cr){if(cr?c7(de,co,cr):null==co){de=fz(de);var ct=de.length;return 0<ct?de[dH(0,ct-1)]:av}cr=-1,de=dV(de);var ct=de.length,ce=ct-1;for(co=fY(0>co?0:+co||0,ct);++cr<co;){var ct=dH(cr,ce),cu=de[ct];de[ct]=de[cr],de[cr]=cu}return de.length=co,de}function d6(ct,ce,co){var cr=eg(ct)?fL:O;return co&&c7(ct,ce,co)&&(ce=av),(typeof ce!="function"||co!==av)&&(ce=p(ce,co,3)),cr(ct,ce)}function eI(ct,ce){var co;if(typeof ce!="function"){if(typeof ct!="function"){throw new fZ(bk)}var cr=ct;ct=ce,ce=cr}return function(){return 0<--ct&&(co=ce.apply(this,arguments)),1>=ct&&(ce=av),co}}function fM(du,ct,de){function eu(ft,fu){fu&&dX(fu),fo=dr=eo=av,ft&&(fr=eb(),fe=du.apply(cu,et),dr||fo||(et=cu=av))}function cr(){var ft=ct-(eb()-ee);0>=ft||ft>ct?eu(eo,fo):dr=bT(cr,ft)}function dt(){eu(er,dr)}function ei(){if(et=arguments,ee=eb(),cu=this,eo=er&&(dr||!ce),false===co){var fu=ce&&!dr}else{fo||ce||(fr=ee);var f1=co-(ee-fr),ft=0>=f1||f1>co;ft?(fo&&(fo=dX(fo)),fr=ee,fe=du.apply(cu,et)):fo||(fo=bT(dt,f1))}return ft&&dr?dr=dX(dr):dr||ct===co||(dr=bT(cr,ct)),fu&&(ft=true,fe=du.apply(cu,et)),!ft||dr||fo||(et=cu=av),fe}var et,fo,fe,ee,cu,dr,eo,fr=0,co=false,er=true;if(typeof du!="function"){throw new fZ(bk)}if(ct=0>ct?0:+ct||0,true===de){var ce=true,er=false}else{ex(de)&&(ce=!!de.leading,co="maxWait" in de&&fj(+de.maxWait||0,ct),er="trailing" in de?!!de.trailing:er)}return ei.cancel=function(){dr&&dX(dr),fo&&dX(fo),fr=0,fo=dr=eo=av},ei}function fg(cr,ce){function co(){var cu=arguments,ct=ce?ce.apply(this,cu):cu[0],de=co.cache;return de.has(ct)?de.get(ct):(cu=cr.apply(this,cu),co.cache=de.set(ct,cu),cu)}if(typeof cr!="function"||ce&&typeof ce!="function"){throw new fZ(bk)}return co.cache=new fg.Cache,co}function dA(co,ce){if(typeof co!="function"){throw new fZ(bk)}return ce=fj(ce===av?co.length-1:+ce||0,0),function(){for(var ct=arguments,cu=-1,cr=fj(ct.length-ce,0),de=bU(cr);++cu<cr;){de[cu]=ct[ce+cu]}switch(ce){case 0:return co.call(this,de);case 1:return co.call(this,ct[0],de);case 2:return co.call(this,ct[0],ct[1],de)}for(cr=bU(ce+1),cu=-1;++cu<ce;){cr[cu]=ct[cu]}return cr[ce]=de,co.apply(this,cr)}}function b3(co,ce){return co>ce}function cJ(ce){return aO(ce)&&u(ce)&&c0.call(ce,"callee")&&!e6.call(ce,"callee")}function eh(ct,ce,co,cr){return cr=(co=typeof co=="function"?an(co,cr,3):av)?co(ct,ce):av,cr===av?eX(ct,ce,co):!!cr}function l(ce){return aO(ce)&&typeof ce.message=="string"&&b8.call(ce)==be}function C(ce){return ex(ce)&&b8.call(ce)==bl}function ex(co){var ce=typeof co;return !!co&&("object"==ce||"function"==ce)}function fT(ce){return null==ce?false:C(ce)?H.test(dW.call(ce)):aO(ce)&&ah.test(ce)}function e4(ce){return typeof ce=="number"||aO(ce)&&b8.call(ce)==a5}function dm(cr){var ce;if(!aO(cr)||b8.call(cr)!=aZ||cJ(cr)||!(c0.call(cr,"constructor")||(ce=cr.constructor,typeof ce!="function"||ce instanceof ce))){return false}var co;return d9(cr,function(cu,ct){co=ct}),co===av||c0.call(cr,co)}function s(ce){return ex(ce)&&b8.call(ce)==a0}function fv(ce){return typeof ce=="string"||aO(ce)&&b8.call(ce)==bs}function h(ce){return aO(ce)&&dy(ce.length)&&!!bP[b8.call(ce)]}function b9(co,ce){return co<ce}function dV(co){var ce=co?Y(co):0;return dy(ce)?ce?cq(co):[]:x(co)}function dK(ce){return eL(ce,dL(ce))}function fx(ce){return el(ce,dL(ce))}function dL(dr){if(null==dr){return[]}ex(dr)||(dr=cW(dr));for(var cr=dr.length,cr=cr&&dy(cr)&&(eg(dr)||cJ(dr))&&cr||0,ct=dr.constructor,cu=-1,ct=typeof ct=="function"&&ct.prototype===dr,ce=bU(cr),de=0<cr;++cu<cr;){ce[cu]=cu+""}for(var co in dr){de&&P(co,cr)||"constructor"==co&&(ct||!c0.call(dr,co))||ce.push(co)}return ce}function ej(de){de=bn(de);for(var co=-1,cr=fA(de),ct=cr.length,ce=bU(ct);++co<ct;){var cu=cr[co];ce[co]=[cu,de[cu]]}return ce}function x(ce){return i(ce,fA(ce))}function S(ce){return(ce=ay(ce))&&ce.replace(ak,aW).replace(bO,"")}function db(cr,ce){var co="";if(cr=ay(cr),ce=+ce,1>ce||!cr||!dc(ce)){return co}do{ce%2&&(co+=cr),ce=fN(ce/2),cr+=cr}while(ce);return co}function cK(ct,ce,co){var cr=ct;return(ct=ay(ct))?(co?c7(cr,ce,co):null==ce)?ct.slice(aP(ct),at(ct)+1):(ce+="",ct.slice(aF(ct,ce),aN(ct,ce)+1)):ct}function c5(cr,ce,co){return co&&c7(cr,ce,co)&&(ce=av),cr=ay(cr),cr.match(ce||ap)||[]}function dB(cr,ce,co){return co&&c7(cr,ce,co)&&(ce=av),aO(cr)?ey(cr):J(cr,ce)}function n(ce){return ce}function ey(ce){return fk(cM(ce,true))}function dn(cr,du,ce){if(null==ce){var de=ex(du),dt=de?fA(du):av;((dt=dt&&dt.length?el(du,dt):av)?dt.length:de)||(dt=false,ce=du,du=cr,cr=this)}dt||(dt=el(du,fA(du)));var co=true,de=-1,ct=C(cr),cu=dt.length;false===ce?co=false:ex(ce)&&"chain" in ce&&(co=ce.chain);for(;++de<cu;){ce=dt[de];var dr=du[ce];cr[ce]=dr,ct&&(cr.prototype[ce]=function(ee){return function(){var ei=this.__chain__;if(co||ei){var eo=cr(this.__wrapped__);return(eo.__actions__=cq(this.__actions__)).push({func:ee,args:arguments,thisArg:cr}),eo.__chain__=ei,eo}return ee.apply(cr,ff([this.value()],arguments))}}(dr))}return cr}function eV(){}function fH(ce){return cH(ce)?dN(ce):dD(ce)}fh=fh?bQ.defaults(bI.Object(),fh,bQ.pick(bI,bd)):bI;var bU=fh.Array,I=fh.Date,eJ=fh.Error,cz=fh.Function,d7=fh.Math,e5=fh.Number,cW=fh.Object,b7=fh.RegExp,ck=fh.String,fZ=fh.TypeError,fi=bU.prototype,cA=cW.prototype,fO=ck.prototype,dW=cz.prototype.toString,c0=cA.hasOwnProperty,R=0,b8=cA.toString,eK=bI._,H=b7("^"+dW.call(c0).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cL=fh.ArrayBuffer,dX=fh.clearTimeout,ez=fh.parseFloat,fC=d7.pow,e6=cA.propertyIsEnumerable,dp=dO(fh,"Set"),bT=fh.setTimeout,cB=fi.splice,d8=fh.Uint8Array,c=dO(fh,"WeakMap"),w=d7.ceil,ek=dO(cW,"create"),fN=d7.floor,eW=dO(bU,"isArray"),dc=fh.isFinite,m=dO(cW,"keys"),fj=d7.max,fY=d7.min,b2=dO(I,"now"),dM=fh.parseInt,dC=d7.random,fn=e5.NEGATIVE_INFINITY,dG=e5.POSITIVE_INFINITY,ec=4294967294,r=2147483647,M=9007199254740991,c4=c&&new c,cF={};ew.support={},ew.templateSettings={escape:aa,evaluate:ao,interpolate:bA,variable:"",imports:{_:ew}};var cV=function(){function ce(){}return function(co){if(ex(co)){ce.prototype=co;var cr=new ce;ce.prototype=av}return cr||{}}}(),dw=cQ(d),g=cQ(y,true),ep=bZ(),dh=bZ(true),eO=c4?function(co,ce){return c4.set(co,ce),co}:n,fw=c4?function(ce){return c4.get(ce)}:eV,Y=dN("length"),B=function(){var co=0,ce=0;return function(ct,cu){var cr=eb(),de=a8-(cr-ce);if(ce=cr,0<de){if(++co>=bH){return ct}}else{co=0}return eO(ct,cu)}}(),eD=dA(function(co,ce){return aO(co)&&u(co)?eA(co,cC(ce,false,true)):[]}),cl=U(),d1=U(true),eZ=dA(function(cr){for(var ei=cr.length,dr=ei,ee=bU(ct),co=a(),cu=co===aB,de=[];dr--;){var du=cr[dr]=u(du=cr[dr])?du:[];ee[dr]=cu&&120<=du.length&&ek&&dp?new G(dr&&du):null}var cu=cr[0],dt=-1,ct=cu?cu.length:0,eo=ee[0];cr:for(;++dt<ct;){if(du=cu[dt],0>(eo?eH(eo,du):co(de,du,0))){for(dr=ei;--dr;){var ce=ee[dr];if(0>(ce?eH(ce,du):co(cr[dr],du,0))){continue cr}}eo&&eo.push(du),de.push(du)}}return de}),cP=dA(function(ce,co){co=cC(co);var cr=ca(ce,co);return fp(ce,co.sort(aG)),cr}),bY=z(),cd=z(true),fS=dA(function(ce){return dx(cC(ce,false,true))}),fa=dA(function(co,ce){return u(co)?eA(co,ce):[]}),cs=dA(fc),fG=dA(function(ct){var ce=ct.length,co=2<ce?ct[ce-2]:av,cr=1<ce?ct[ce-1]:av;return 2<ce&&typeof co=="function"?ce-=2:(co=1<ce&&typeof cr=="function"?(--ce,cr):av,cr=av),ct.length=ce,cw(ct,co,cr)}),dQ=dA(function(ce){return ce=cC(ce),this.thru(function(ct){ct=eg(ct)?ct:[bn(ct)];for(var cu=ce,dr=-1,co=ct.length,dt=-1,cr=cu.length,de=bU(co+cr);++dr<co;){de[dr]=ct[dr]}for(;++dt<cr;){de[dr++]=cu[dt]}return de})}),c3=dA(function(co,ce){return ca(co,cC(ce))}),W=d2(function(cr,ce,co){c0.call(cr,co)?++cr[co]:cr[co]=1}),cc=c2(dw),eN=c2(g,true),L=K(d5,dw),cO=K(function(cr,ce){for(var co=cr.length;co--&&false!==ce(cr[co],co,cr);){}return cr},g),d0=d2(function(cr,ce,co){c0.call(cr,co)?cr[co].push(ce):cr[co]=[ce]}),eC=d2(function(cr,ce,co){cr[co]=ce}),fF=dA(function(dr,cr,ct){var cu=-1,ce=typeof cr=="function",de=cH(cr),co=u(dr)?bU(dr.length):[];return dw(dr,function(du){var dt=ce?cr:de&&null!=du?du[cr]:av;co[++cu]=dt?dt.apply(du,ct):ef(du,cr,ct)}),co}),e9=d2(function(cr,ce,co){cr[co?0:1].push(ce)},function(){return[[],[]]}),dv=ds(cy,dw),bX=ds(function(cu,co,cr,ct){var ce=cu.length;for(ct&&ce&&(cr=cu[--ce]);ce--;){cr=co(cr,cu[ce],ce,cu)}return cr},g),cE=dA(function(cr,ce){if(null==cr){return[]}var co=ce[2];return co&&c7(ce[0],ce[1],co)&&(ce.length=1),cG(cr,cC(ce),[])}),eb=b2||function(){return(new I).getTime()},f=dA(function(cu,co,cr){var ct=au;if(cr.length){var ce=aw(cr,f.placeholder),ct=ct|ba}return em(cu,ct,co,cr,ce)}),A=dA(function(cu,co){co=co.length?cC(co):fx(cu);for(var cr=-1,ct=co.length;++cr<ct;){var ce=co[cr];cu[ce]=em(cu[ce],au,cu)}return cu}),en=dA(function(cu,co,cr){var ct=au|by;if(cr.length){var ce=aw(cr,en.placeholder),ct=ct|ba}return em(co,ct,cu,cr,ce)}),fR=cv(aL),dg=cv(bo),q=dA(function(co,ce){return dY(co,1,ce)}),fm=dA(function(cr,ce,co){return dY(cr,ce,co)}),b=eM(),b6=eM(true),dP=dA(function(cr,ce){if(ce=cC(ce),typeof cr!="function"||!e3(ce,aS)){throw new fZ(bk)}var co=ce.length;return dA(function(cu){for(var ct=fY(cu.length,co);ct--;){cu[ct]=ce[ct](cu[ct])}return cr.apply(this,cu)})}),dF=e8(ba),fs=e8(bf),dJ=dA(function(co,ce){return em(co,bw,av,av,av,cC(ce))}),eg=eW||function(ce){return aO(ce)&&dy(ce.length)&&b8.call(ce)==bv},v=e0(b4),Q=e0(function(cr,ce,co){return co?c1(cr,ce,co):T(cr,ce)}),c9=fI(Q,function(co,ce){return co===av?ce:co}),cI=fI(v,j),cZ=cb(d),dz=cb(y),k=cN(ep),ev=cN(dh),dk=dZ(d),eS=dZ(y),fA=m?function(co){var ce=null==co?av:co.constructor;return typeof ce=="function"&&ce.prototype===co||typeof co!="function"&&u(co)?eQ(co):ex(co)?m(co):[]}:eQ,bR=eB(true),F=eB(),eG=dA(function(cr,ce){if(null==cr){return{}}if("function"!=typeof ce[0]){return ce=fX(cC(ce),ck),es(cr,eA(dL(cr),ce))}var co=an(ce[0],ce[1],3);return dj(cr,function(de,ct,cu){return !co(de,ct,cu)})}),cp=dA(function(co,ce){return null==co?{}:"function"==typeof ce[0]?dj(co,an(ce[0],ce[1],3)):es(co,cC(ce))}),d4=fU(function(cr,ce,co){return ce=ce.toLowerCase(),cr+(co?ce.charAt(0).toUpperCase()+ce.slice(1):ce)}),e2=fU(function(cr,ce,co){return cr+(co?"-":"")+ce.toLowerCase()}),cS=fE(),b1=fE(true),ci=fU(function(cr,ce,co){return cr+(co?"_":"")+ce.toLowerCase()}),fW=fU(function(cr,ce,co){return cr+(co?" ":"")+(ce.charAt(0).toUpperCase()+ce.slice(1))}),fd=dA(function(cr,ce){try{return cr.apply(av,ce)}catch(co){return l(co)?co:new eJ(co)}}),cx=dA(function(co,ce){return function(cr){return ef(cr,co,ce)}}),fK=dA(function(co,ce){return function(cr){return ef(co,cr,ce)}}),dT=e("ceil"),c8=e("floor"),X=dR(b3,fn),ch=dR(b9,dG),eR=e("round");return ew.prototype=dl.prototype,eT.prototype=cV(dl.prototype),eT.prototype.constructor=eT,fB.prototype=cV(dl.prototype),fB.prototype.constructor=fB,bS.prototype["delete"]=function(ce){return this.has(ce)&&delete this.__data__[ce]},bS.prototype.get=function(ce){return"__proto__"==ce?av:this.__data__[ce]},bS.prototype.has=function(ce){return"__proto__"!=ce&&c0.call(this.__data__,ce)},bS.prototype.set=function(co,ce){return"__proto__"!=co&&(this.__data__[co]=ce),this},G.prototype.push=function(co){var ce=this.data;typeof co=="string"||ex(co)?ce.set.add(co):ce.hash[co]=true},fg.Cache=bS,ew.after=function(cr,ce){if(typeof ce!="function"){if(typeof cr!="function"){throw new fZ(bk)}var co=cr;cr=ce,ce=co}return cr=dc(cr=+cr)?cr:0,function(){return 1>--cr?ce.apply(this,arguments):void 0}},ew.ary=function(cr,ce,co){return co&&c7(cr,ce,co)&&(ce=av),ce=cr&&null==ce?cr.length:fj(+ce||0,0),em(cr,bu,av,av,av,av,ce)},ew.assign=Q,ew.at=c3,ew.before=eI,ew.bind=f,ew.bindAll=A,ew.bindKey=en,ew.callback=dB,ew.chain=dS,ew.chunk=function(de,co,cr){co=(cr?c7(de,co,cr):null==co)?1:fj(fN(co)||1,1),cr=0;for(var ct=de?de.length:0,ce=-1,cu=bU(w(ct/co));cr<ct;){cu[++ce]=t(de,cr,cr+=co)}return cu},ew.compact=function(de){for(var co=-1,cr=de?de.length:0,ct=-1,ce=[];++co<cr;){var cu=de[co];cu&&(ce[++ct]=cu)}return ce},ew.constant=function(ce){return function(){return ce}},ew.countBy=W,ew.create=function(ct,ce,co){var cr=cV(ct);return co&&c7(ct,ce,co)&&(ce=av),ce?T(cr,ce):cr},ew.curry=fR,ew.curryRight=dg,ew.debounce=fM,ew.defaults=c9,ew.defaultsDeep=cI,ew.defer=q,ew.delay=fm,ew.difference=eD,ew.drop=cn,ew.dropRight=d3,ew.dropRightWhile=function(cr,ce,co){return cr&&cr.length?eq(cr,p(ce,co,3),true,true):[]},ew.dropWhile=function(cr,ce,co){return cr&&cr.length?eq(cr,p(ce,co,3),true):[]},ew.fill=function(cu,co,cr,ct){var ce=cu?cu.length:0;if(!ce){return[]}for(cr&&typeof cr!="number"&&c7(cu,co,cr)&&(cr=0,ct=ce),ce=cu.length,cr=null==cr?0:+cr||0,0>cr&&(cr=-cr>ce?0:ce+cr),ct=ct===av||ct>ce?ce:+ct||0,0>ct&&(ct+=ce),ce=cr>ct?0:ct>>>0,cr>>>=0;cr<ce;){cu[cr++]=co}return cu},ew.filter=cj,ew.flatten=function(ct,ce,co){var cr=ct?ct.length:0;return co&&c7(ct,ce,co)&&(ce=false),cr?cC(ct,ce):[]},ew.flattenDeep=function(ce){return ce&&ce.length?cC(ce,true):[]},ew.flow=b,ew.flowRight=b6,ew.forEach=L,ew.forEachRight=cO,ew.forIn=k,ew.forInRight=ev,ew.forOwn=dk,ew.forOwnRight=eS,ew.functions=fx,ew.groupBy=d0,ew.indexBy=eC,ew.initial=function(ce){return d3(ce,1)},ew.intersection=eZ,ew.invert=function(dt,cr,ct){ct&&c7(dt,cr,ct)&&(cr=av),ct=-1;for(var de=fA(dt),ce=de.length,dr={};++ct<ce;){var co=de[ct],cu=dt[co];cr?c0.call(dr,cu)?dr[cu].push(co):dr[cu]=[co]:dr[cu]=co}return dr},ew.invoke=fF,ew.keys=fA,ew.keysIn=dL,ew.map=N,ew.mapKeys=bR,ew.mapValues=F,ew.matches=ey,ew.matchesProperty=function(co,ce){return f0(co,cM(ce,true))},ew.memoize=fg,ew.merge=v,ew.method=cx,ew.methodOf=fK,ew.mixin=dn,ew.modArgs=dP,ew.negate=function(ce){if(typeof ce!="function"){throw new fZ(bk)}return function(){return !ce.apply(this,arguments)}},ew.omit=eG,ew.once=function(ce){return eI(2,ce)},ew.pairs=ej,ew.partial=dF,ew.partialRight=fs,ew.partition=e9,ew.pick=cp,ew.pluck=function(co,ce){return N(co,fH(ce))},ew.property=fH,ew.propertyOf=function(ce){return function(co){return fP(ce,E(co),co+"")}},ew.pull=function(){var dr=arguments,cr=dr[0];if(!cr||!cr.length){return cr}for(var ct=0,cu=a(),ce=dr.length;++ct<ce;){for(var de=0,co=dr[ct];-1<(de=cu(cr,co,de));){cB.call(cr,de,1)}}return cr},ew.pullAt=cP,ew.range=function(cu,co,cr){cr&&c7(cu,co,cr)&&(co=cr=av),cu=+cu||0,cr=null==cr?1:+cr||0,null==co?(co=cu,cu=0):co=+co||0;var ct=-1;co=fj(w((co-cu)/(cr||1)),0);for(var ce=bU(co);++ct<co;){ce[ct]=cu,cu+=cr}return ce},ew.rearg=dJ,ew.reject=function(ct,ce,co){var cr=eg(ct)?cT:dq;return ce=p(ce,co,3),cr(ct,function(dr,cu,de){return !ce(dr,cu,de)})},ew.remove=function(dr,cr,ct){var cu=[];if(!dr||!dr.length){return cu}var ce=-1,de=[],co=dr.length;for(cr=p(cr,ct,3);++ce<co;){ct=dr[ce],cr(ct,ce,dr)&&(cu.push(ct),de.push(ce))}return fp(dr,de),cu},ew.rest=cg,ew.restParam=dA,ew.set=function(dt,cr,ct){if(null==dt){return dt}var de=cr+"";cr=null!=dt[de]||cH(cr,dt)?[de]:E(cr);for(var de=-1,ce=cr.length,dr=ce-1,co=dt;null!=co&&++de<ce;){var cu=cr[de];ex(co)&&(de==dr?co[cu]=ct:null==co[cu]&&(co[cu]=P(cr[de+1])?[]:{})),co=co[cu]}return dt},ew.shuffle=function(ce){return cU(ce,dG)},ew.slice=function(ct,ce,co){var cr=ct?ct.length:0;return cr?(co&&typeof co!="number"&&c7(ct,ce,co)&&(ce=0,co=cr),t(ct,ce,co)):[]},ew.sortBy=function(ct,ce,co){if(null==ct){return[]}co&&c7(ct,ce,co)&&(ce=av);var cr=-1;return ce=p(ce,co,3),ct=o(ct,function(dr,de,cu){return{a:ce(dr,de,cu),b:++cr,c:dr}}),c6(ct,aR)},ew.sortByAll=cE,ew.sortByOrder=function(ct,ce,co,cr){return null==ct?[]:(cr&&c7(ce,co,cr)&&(co=av),eg(ce)||(ce=null==ce?[]:[ce]),eg(co)||(co=null==co?[]:[co]),cG(ct,ce,co))},ew.spread=function(ce){if(typeof ce!="function"){throw new fZ(bk)}return function(co){return ce.apply(this,co)}},ew.take=function(cr,ce,co){return cr&&cr.length?((co?c7(cr,ce,co):null==ce)&&(ce=1),t(cr,0,0>ce?0:ce)):[]},ew.takeRight=function(ct,ce,co){var cr=ct?ct.length:0;return cr?((co?c7(ct,ce,co):null==ce)&&(ce=1),ce=cr-(+ce||0),t(ct,0>ce?0:ce)):[]},ew.takeRightWhile=function(cr,ce,co){return cr&&cr.length?eq(cr,p(ce,co,3),false,true):[]},ew.takeWhile=function(cr,ce,co){return cr&&cr.length?eq(cr,p(ce,co,3)):[]},ew.tap=function(cr,ce,co){return ce.call(co,cr),cr},ew.throttle=function(cu,co,cr){var ct=true,ce=true;if(typeof cu!="function"){throw new fZ(bk)}return false===cr?ct=false:ex(cr)&&(ct="leading" in cr?!!cr.leading:ct,ce="trailing" in cr?!!cr.trailing:ce),fM(cu,co,{leading:ct,maxWait:+co,trailing:ce})},ew.thru=da,ew.times=function(cu,co,cr){if(cu=fN(cu),1>cu||!dc(cu)){return[]}var ct=-1,ce=bU(fY(cu,4294967295));for(co=an(co,cr,1);++ct<cu;){4294967295>ct?ce[ct]=co(ct):co(ct)}return ce},ew.toArray=dV,ew.toPlainObject=dK,ew.transform=function(cu,co,cr,ct){var ce=eg(cu)||h(cu);return co=p(co,ct,4),null==cr&&(ce||ex(cu)?(ct=cu.constructor,cr=ce?eg(cu)?new ct:[]:cV(C(ct)?ct.prototype:av)):cr={}),(ce?d5:d)(cu,function(dt,dr,de){return co(cr,dt,dr,de)}),cr},ew.union=fS,ew.uniq=fV,ew.unzip=fc,ew.unzipWith=cw,ew.values=x,ew.valuesIn=function(ce){return i(ce,dL(ce))},ew.where=function(co,ce){return cj(co,fk(ce))},ew.without=fa,ew.wrap=function(co,ce){return ce=null==ce?n:ce,em(ce,ba,av,[co],[])},ew.xor=function(){for(var ct=-1,ce=arguments.length;++ct<ce;){var co=arguments[ct];if(u(co)){var cr=cr?ff(eA(cr,co),eA(co,cr)):co}}return cr?dx(cr):[]},ew.zip=cs,ew.zipObject=fJ,ew.zipWith=fG,ew.backflow=b6,ew.collect=N,ew.compose=b6,ew.each=L,ew.eachRight=cO,ew.extend=Q,ew.iteratee=dB,ew.methods=fx,ew.object=fJ,ew.select=cj,ew.tail=cg,ew.unique=fV,dn(ew,ew),ew.add=function(co,ce){return(+co||0)+(+ce||0)},ew.attempt=fd,ew.camelCase=d4,ew.capitalize=function(ce){return(ce=ay(ce))&&ce.charAt(0).toUpperCase()+ce.slice(1)},ew.ceil=dT,ew.clone=function(ct,ce,co,cr){return ce&&typeof ce!="boolean"&&c7(ct,ce,co)?ce=false:typeof ce=="function"&&(cr=co,co=ce,ce=false),typeof co=="function"?cM(ct,ce,an(co,cr,3)):cM(ct,ce)},ew.cloneDeep=function(cr,ce,co){return typeof ce=="function"?cM(cr,true,an(ce,co,3)):cM(cr,true)},ew.deburr=S,ew.endsWith=function(ct,ce,co){ct=ay(ct),ce+="";var cr=ct.length;return co=co===av?cr:fY(0>co?0:+co||0,cr),co-=ce.length,0<=co&&ct.indexOf(ce,co)==co},ew.escape=function(ce){return(ce=ay(ce))&&a2.test(ce)?ce.replace(bD,aU):ce},ew.escapeRegExp=function(ce){return(ce=ay(ce))&&aY.test(ce)?ce.replace(ag,aI):ce||"(?:)"},ew.every=Z,ew.find=cc,ew.findIndex=cl,ew.findKey=cZ,ew.findLast=eN,ew.findLastIndex=d1,ew.findLastKey=dz,ew.findWhere=function(co,ce){return cc(co,fk(ce))},ew.first=e1,ew.floor=c8,ew.get=function(cr,ce,co){return cr=null==cr?av:fP(cr,E(ce),ce+""),cr===av?co:cr},ew.gt=b3,ew.gte=function(co,ce){return co>=ce},ew.has=function(cr,ce){if(null==cr){return false}var co=c0.call(cr,ce);if(!co&&!cH(ce)){if(ce=E(ce),cr=1==ce.length?cr:fP(cr,t(ce,0,-1)),null==cr){return false}ce=b0(ce),co=c0.call(cr,ce)}return co||dy(cr.length)&&P(ce,cr.length)&&(eg(cr)||cJ(cr))},ew.identity=n,ew.includes=eU,ew.indexOf=cR,ew.inRange=function(cr,ce,co){return ce=+ce||0,co===av?(co=ce,ce=0):co=+co||0,cr>=fY(ce,co)&&cr<fj(ce,co)},ew.isArguments=cJ,ew.isArray=eg,ew.isBoolean=function(ce){return true===ce||false===ce||aO(ce)&&b8.call(ce)==bi},ew.isDate=function(ce){return aO(ce)&&b8.call(ce)==aC},ew.isElement=function(ce){return !!ce&&1===ce.nodeType&&aO(ce)&&!dm(ce)},ew.isEmpty=function(ce){return null==ce?true:u(ce)&&(eg(ce)||fv(ce)||cJ(ce)||aO(ce)&&C(ce.splice))?!ce.length:!fA(ce).length},ew.isEqual=eh,ew.isError=l,ew.isFinite=function(ce){return typeof ce=="number"&&dc(ce)},ew.isFunction=C,ew.isMatch=function(ct,ce,co,cr){return co=typeof co=="function"?an(co,cr,3):av,dd(ct,b5(ce),co)},ew.isNaN=function(ce){return e4(ce)&&ce!=+ce},ew.isNative=fT,ew.isNull=function(ce){return null===ce},ew.isNumber=e4,ew.isObject=ex,ew.isPlainObject=dm,ew.isRegExp=s,ew.isString=fv,ew.isTypedArray=h,ew.isUndefined=function(ce){return ce===av},ew.kebabCase=e2,ew.last=b0,ew.lastIndexOf=function(cu,co,cr){var ct=cu?cu.length:0;if(!ct){return -1}var ce=ct;if(typeof cr=="number"){ce=(0>cr?fj(ct+cr,0):fY(cr||0,ct-1))+1}else{if(cr){return ce=eP(cu,co,true)-1,cu=cu[ce],(co===co?co===cu:cu!==cu)?ce:-1}}if(co!==co){return aE(cu,ce,true)}for(;ce--;){if(cu[ce]===co){return ce}}return -1},ew.lt=b9,ew.lte=function(co,ce){return co<=ce},ew.max=X,ew.min=ch,ew.noConflict=function(){return bI._=eK,this},ew.noop=eV,ew.now=eb,ew.pad=function(ct,ce,co){ct=ay(ct),ce=+ce;var cr=ct.length;return cr<ce&&dc(ce)?(cr=(ce-cr)/2,ce=fN(cr),cr=w(cr),co=cD("",cr,co),co.slice(0,ce)+ct+co):ct},ew.padLeft=cS,ew.padRight=b1,ew.parseInt=function(cr,ce,co){return(co?c7(cr,ce,co):null==ce)?ce=0:ce&&(ce=+ce),cr=cK(cr),dM(cr,ce||(bb.test(cr)?16:10))},ew.random=function(cu,co,cr){cr&&c7(cu,co,cr)&&(co=cr=av);var ct=null==cu,ce=null==co;return null==cr&&(ce&&typeof cu=="boolean"?(cr=cu,cu=1):typeof co=="boolean"&&(cr=co,ce=true)),ct&&ce&&(co=1,ce=false),cu=+cu||0,ce?(co=cu,cu=0):co=+co||0,cr||cu%1||co%1?(cr=dC(),fY(cu+cr*(co-cu+ez("1e-"+((cr+"").length-1))),co)):dH(cu,co)},ew.reduce=dv,ew.reduceRight=bX,ew.repeat=db,ew.result=function(ct,ce,co){var cr=null==ct?av:ct[ce];return cr===av&&(null==ct||cH(ce,ct)||(ce=E(ce),ct=1==ce.length?ct:fP(ct,t(ce,0,-1)),cr=null==ct?av:ct[b0(ce)]),cr=cr===av?co:cr),C(cr)?cr.call(ct):cr},ew.round=eR,ew.runInContext=aH,ew.size=function(co){var ce=co?Y(co):0;return dy(ce)?ce:fA(co).length},ew.snakeCase=ci,ew.some=d6,ew.sortedIndex=bY,ew.sortedLastIndex=cd,ew.startCase=fW,ew.startsWith=function(cr,ce,co){return cr=ay(cr),co=null==co?0:fY(0>co?0:+co||0,cr.length),cr.lastIndexOf(ce,co)==co},ew.sum=function(ct,ce,co){if(co&&c7(ct,ce,co)&&(ce=av),ce=p(ce,co,3),1==ce.length){ct=eg(ct)?ct:fz(ct),co=ct.length;for(var cr=0;co--;){cr+=+ce(ct[co])||0}ct=cr}else{ct=cX(ct,ce)}return ct},ew.template=function(ct,ei,ce){var dt=ew.templateSettings;ce&&c7(ct,ei,ce)&&(ei=ce=av),ct=ay(ct),ei=c1(T({},ce||ei),dt,dU),ce=c1(T({},ei.imports),dt.imports,dU);var cr,de,dr=fA(ce),ee=i(ce,dr),du=0;ce=ei.interpolate||a4;var cu="__p+='";ce=b7((ei.escape||a4).source+"|"+ce.source+"|"+(ce===bA?aj:a4).source+"|"+(ei.evaluate||a4).source+"|$","g");var co="sourceURL" in ei?"//# sourceURL="+ei.sourceURL+"\n":"";if(ct.replace(ce,function(et,eu,fo,er,fe,eo){return fo||(fo=er),cu+=ct.slice(du,eo).replace(br,aA),eu&&(cr=true,cu+="'+__e("+eu+")+'"),fe&&(de=true,cu+="';"+fe+";\n__p+='"),fo&&(cu+="'+((__t=("+fo+"))==null?'':__t)+'"),du=eo+et.length,et}),cu+="';",(ei=ei.variable)||(cu="with(obj){"+cu+"}"),cu=(de?cu.replace(bJ,""):cu).replace(bz,"$1").replace(aq,"$1;"),cu="function("+(ei||"obj")+"){"+(ei?"":"obj||(obj={});")+"var __t,__p=''"+(cr?",__e=_.escape":"")+(de?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+cu+"return __p}",ei=fd(function(){return cz(dr,co+"return "+cu).apply(av,ee)}),ei.source=cu,l(ei)){throw ei}return ei},ew.trim=cK,ew.trimLeft=function(ct,ce,co){var cr=ct;return(ct=ay(ct))?ct.slice((co?c7(cr,ce,co):null==ce)?aP(ct):aF(ct,ce+"")):ct},ew.trimRight=function(ct,ce,co){var cr=ct;return(ct=ay(ct))?(co?c7(cr,ce,co):null==ce)?ct.slice(0,at(ct)+1):ct.slice(0,aN(ct,ce+"")+1):ct},ew.trunc=function(dr,co,cr){cr&&c7(dr,co,cr)&&(co=av);var cu=a6;if(cr=a3,null!=co){if(ex(co)){var de="separator" in co?co.separator:de,cu="length" in co?+co.length||0:cu;cr="omission" in co?ay(co.omission):cr}else{cu=+co||0}}if(dr=ay(dr),cu>=dr.length){return dr}if(cu-=cr.length,1>cu){return cr}if(co=dr.slice(0,cu),null==de){return co+cr}if(s(de)){if(dr.slice(cu).search(de)){var ce,ct=dr.slice(0,cu);for(de.global||(de=b7(de.source,(ac.exec(de)||"")+"g")),de.lastIndex=0;dr=de.exec(ct);){ce=dr.index}co=co.slice(0,null==ce?cu:ce)}}else{dr.indexOf(de,cu)!=cu&&(de=co.lastIndexOf(de),-1<de&&(co=co.slice(0,de)))}return co+cr},ew.unescape=function(ce){return(ce=ay(ce))&&al.test(ce)?ce.replace(bL,aT):ce},ew.uniqueId=function(co){var ce=++R;return ay(co)+ce},ew.words=c5,ew.all=Z,ew.any=d6,ew.contains=eU,ew.eq=eh,ew.detect=cc,ew.foldl=dv,ew.foldr=bX,ew.head=e1,ew.include=eU,ew.inject=dv,dn(ew,function(){var ce={};return d(ew,function(co,cr){ew.prototype[cr]||(ce[cr]=co)}),ce}(),false),ew.sample=cU,ew.prototype.sample=function(ce){return this.__chain__||null!=ce?this.thru(function(co){return cU(co,ce)}):cU(this.value())},ew.VERSION=aV,d5("bind bindKey curry curryRight partial partialRight".split(" "),function(ce){ew[ce].placeholder=ew}),d5(["drop","take"],function(co,ce){fB.prototype[co]=function(ct){var cu=this.__filtered__;if(cu&&!ce){return new fB(this)}ct=null==ct?1:fj(fN(ct)||0,0);var cr=this.clone();return cu?cr.__takeCount__=fY(cr.__takeCount__,ct):cr.__views__.push({size:ct,type:co+(0>cr.__dir__?"Right":"")}),cr},fB.prototype[co+"Right"]=function(cr){return this.reverse()[co](cr).reverse()}}),d5(["filter","map","takeWhile"],function(ct,ce){var co=ce+1,cr=co!=a7;fB.prototype[ct]=function(dr,de){var cu=this.clone();return cu.__iteratees__.push({iteratee:p(dr,de,1),type:co}),cu.__filtered__=cu.__filtered__||cr,cu}}),d5(["first","last"],function(cr,ce){var co="take"+(ce?"Right":"");fB.prototype[cr]=function(){return this[co](1).value()[0]}}),d5(["initial","rest"],function(cr,ce){var co="drop"+(ce?"":"Right");fB.prototype[cr]=function(){return this.__filtered__?new fB(this):this[co](1)}}),d5(["pluck","where"],function(ct,ce){var co=ce?"filter":"map",cr=ce?fk:fH;fB.prototype[ct]=function(cu){return this[co](cr(cu))}}),fB.prototype.compact=function(){return this.filter(n)},fB.prototype.reject=function(co,ce){return co=p(co,ce,1),this.filter(function(cr){return !co(cr)})},fB.prototype.slice=function(cr,ce){cr=null==cr?0:+cr||0;var co=this;return co.__filtered__&&(0<cr||0>ce)?new fB(co):(0>cr?co=co.takeRight(-cr):cr&&(co=co.drop(cr)),ce!==av&&(ce=+ce||0,co=0>ce?co.dropRight(-ce):co.take(ce-cr)),co)},fB.prototype.takeRightWhile=function(co,ce){return this.reverse().takeWhile(co,ce).reverse()},fB.prototype.toArray=function(){return this.take(dG)},d(fB.prototype,function(cu,co){var cr=/^(?:filter|map|reject)|While$/.test(co),ct=/^(?:first|last)$/.test(co),ce=ew[ct?"take"+("last"==co?"Right":""):co];ce&&(ew.prototype[co]=function(){function du(et){return ct&&dt?ce(et,1)[0]:ce.apply(av,ff([et],eo))}var eo=ct?[1]:arguments,dt=this.__chain__,ei=this.__wrapped__,dr=!!this.__actions__.length,er=ei instanceof fB,de=eo[0],ee=er||eg(ei);return ee&&cr&&typeof de=="function"&&1!=de.length&&(er=ee=false),de={func:da,args:[du],thisArg:av},dr=er&&!dr,ct&&!dt?dr?(ei=ei.clone(),ei.__actions__.push(de),cu.call(ei)):ce.call(av,this.value())[0]:!ct&&ee?(ei=dr?ei:new fB(this),ei=cu.apply(ei,eo),ei.__actions__.push(de),new eT(ei,dt)):this.thru(du)})}),d5("join pop push replace shift sort splice split unshift".split(" "),function(ct){var ce=(/^(?:replace|split)$/.test(ct)?fO:fi)[ct],co=/^(?:push|sort|unshift)$/.test(ct)?"tap":"thru",cr=/^(?:join|pop|replace|shift)$/.test(ct);ew.prototype[ct]=function(){var cu=arguments;return cr&&!this.__chain__?ce.apply(this.value(),cu):this[co](function(de){return ce.apply(de,cu)})}}),d(fB.prototype,function(ct,ce){var co=ew[ce];if(co){var cr=co.name+"";(cF[cr]||(cF[cr]=[])).push({name:ce,func:co})}}),cF[bW(av,by).name]=[{name:"wrapper",func:av}],fB.prototype.clone=function(){var ce=new fB(this.__wrapped__);return ce.__actions__=cq(this.__actions__),ce.__dir__=this.__dir__,ce.__filtered__=this.__filtered__,ce.__iteratees__=cq(this.__iteratees__),ce.__takeCount__=this.__takeCount__,ce.__views__=cq(this.__views__),ce},fB.prototype.reverse=function(){if(this.__filtered__){var ce=new fB(this);ce.__dir__=-1,ce.__filtered__=true}else{ce=this.clone(),ce.__dir__*=-1}return ce},fB.prototype.value=function(){var ct,eo=this.__wrapped__.value(),ce=this.__dir__,dt=eg(eo),ei=0>ce,cr=dt?eo.length:0;ct=cr;for(var de=this.__views__,dr=0,ee=-1,du=de.length;++ee<du;){var cu=de[ee],er=cu.size;switch(cu.type){case"drop":dr+=er;break;case"dropRight":ct-=er;break;case"take":ct=fY(ct,dr+er);break;case"takeRight":dr=fj(dr,ct-er)}}if(ct={start:dr,end:ct},de=ct.start,dr=ct.end,ct=dr-de,ei=ei?dr:de-1,de=this.__iteratees__,dr=de.length,ee=0,du=fY(ct,this.__takeCount__),!dt||cr<bt||cr==ct&&du==ct){return di(eo,this.__actions__)}dt=[];ct:for(;ct--&&ee<du;){for(ei+=ce,cr=-1,cu=eo[ei];++cr<dr;){var co=de[cr],er=co.type,co=co.iteratee(cu);if(er==a7){cu=co}else{if(!co){if(er==bg){continue ct}break ct}}}dt[ee++]=cu}return dt},ew.prototype.chain=function(){return dS(this)},ew.prototype.commit=function(){return new eT(this.value(),this.__chain__)},ew.prototype.concat=dQ,ew.prototype.plant=function(cu){for(var co,cr=this;cr instanceof dl;){var ct=eF(cr);co?ce.__wrapped__=ct:co=ct;var ce=ct,cr=cr.__wrapped__}return ce.__wrapped__=cu,co},ew.prototype.reverse=function(){function co(cr){return cr.reverse()}var ce=this.__wrapped__;return ce instanceof fB?(this.__actions__.length&&(ce=new fB(this)),ce=ce.reverse(),ce.__actions__.push({func:da,args:[co],thisArg:av}),new eT(ce,this.__chain__)):this.thru(co)},ew.prototype.toString=function(){return this.value()+""},ew.prototype.run=ew.prototype.toJSON=ew.prototype.valueOf=ew.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},ew.prototype.collect=ew.prototype.map,ew.prototype.head=ew.prototype.first,ew.prototype.select=ew.prototype.filter,ew.prototype.tail=ew.prototype.rest,ew}var av,aV="3.10.1",au=1,by=2,aM=4,aL=8,bo=16,ba=32,bf=64,bu=128,bw=256,a6=30,a3="...",bH=150,a8=16,bt=200,bg=1,a7=2,bk="Expected a function",ar="__lodash_placeholder__",bx="[object Arguments]",bv="[object Array]",bi="[object Boolean]",aC="[object Date]",be="[object Error]",bl="[object Function]",a5="[object Number]",aZ="[object Object]",a0="[object RegExp]",bs="[object String]",bm="[object ArrayBuffer]",a1="[object Float32Array]",bq="[object Float64Array]",bc="[object Int8Array]",a9="[object Int16Array]",bh="[object Int32Array]",bM="[object Uint8Array]",ab="[object Uint8ClampedArray]",aJ="[object Uint16Array]",aD="[object Uint32Array]",bJ=/\b__p\+='';/g,bz=/\b(__p\+=)''\+/g,aq=/(__e\(.*?\)|\b__t\))\+'';/g,bL=/&(?:amp|lt|gt|quot|#39|#96);/g,bD=/[&<>"'`]/g,al=RegExp(bL.source),a2=RegExp(bD.source),aa=/<%-([\s\S]+?)%>/g,ao=/<%([\s\S]+?)%>/g,bA=/<%=([\s\S]+?)%>/g,bF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ai=/^\w*$/,bC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ag=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,aY=RegExp(ag.source),bO=/[\u0300-\u036f\ufe20-\ufe23]/g,bK=/\\(\\)?/g,aj=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ac=/\w*$/,bb=/^0[xX]/,ah=/^\[object .+?Constructor\]$/,bj=/^\d+$/,ak=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,a4=/($^)/,br=/['\n\r\u2028\u2029\\]/g,ap=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),bd="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),bP={};bP[a1]=bP[bq]=bP[bc]=bP[a9]=bP[bh]=bP[bM]=bP[ab]=bP[aJ]=bP[aD]=true,bP[bx]=bP[bv]=bP[bm]=bP[bi]=bP[aC]=bP[be]=bP[bl]=bP["[object Map]"]=bP[a5]=bP[aZ]=bP[a0]=bP["[object Set]"]=bP[bs]=bP["[object WeakMap]"]=false;var ad={};ad[bx]=ad[bv]=ad[bm]=ad[bi]=ad[aC]=ad[a1]=ad[bq]=ad[bc]=ad[a9]=ad[bh]=ad[a5]=ad[aZ]=ad[a0]=ad[bs]=ad[bM]=ad[ab]=ad[aJ]=ad[aD]=true,ad[be]=ad[bl]=ad["[object Map]"]=ad["[object Set]"]=ad["[object WeakMap]"]=false;var bE={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},bG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},af={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},bp={"function":true,object:true},bB={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},ax={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bN=bp[typeof exports]&&exports&&!exports.nodeType&&exports,ae=bp[typeof module]&&module&&!module.nodeType&&module,aK=bp[typeof self]&&self&&self.Object&&self,am=bp[typeof window]&&window&&window.Object&&window,aQ=ae&&ae.exports===bN&&bN,bI=bN&&ae&&typeof global=="object"&&global&&global.Object&&global||am!==(this&&this.window)&&am||aK||this,bQ=aH();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(bI._=bQ,define(function(){return bQ})):bN&&ae?aQ?(ae.exports=bQ)._=bQ:bN._=bQ:bI._=bQ}).call(this);(function(b){var f=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(e,h,g){f.Backbone=b(f,g,e,h)})}else{if(typeof exports!=="undefined"){var a=require("underscore"),d;try{d=require("jquery")}catch(c){}b(f,exports,a,d)}else{f.Backbone=b(f,{},f._,f.jQuery||f.Zepto||f.ender||f.$)}}})(function(ag,aw,ar,ai){var ah=ag.Backbone;var am=[].slice;aw.VERSION="1.2.1";aw.$=ai;aw.noConflict=function(){ag.Backbone=ah;return this};aw.emulateHTTP=false;aw.emulateJSON=false;var aA=function(a,c,b){switch(a){case 1:return function(){return ar[c](this[b])};case 2:return function(d){return ar[c](this[b],d)};case 3:return function(d,e){return ar[c](this[b],d,e)};case 4:return function(d,e,f){return ar[c](this[b],d,e,f)};default:return function(){var d=am.call(arguments);d.unshift(this[b]);return ar[c].apply(ar,d)}}};var al=function(a,c,b){ar.each(c,function(f,d){if(ar[d]){a.prototype[d]=aA(f,d,b)}})};var at=aw.Events={};var af=/\s+/;var ao=function(c,g,f,d,i){var b=0,h;if(f&&typeof f==="object"){if(d!==void 0&&"context" in i&&i.context===void 0){i.context=d}for(h=ar.keys(f);b<h.length;b++){g=c(g,h[b],f[h[b]],i)}}else{if(f&&af.test(f)){for(h=f.split(af);b<h.length;b++){g=c(g,h[b],d,i)}}else{g=c(g,f,d,i)}}return g};at.on=function(b,c,a){return ay(this,b,c,a)};var ay=function(b,f,a,d,c){b._events=ao(av,b._events||{},f,a,{context:d,ctx:b,listening:c});if(c){var g=b._listeners||(b._listeners={});g[c.id]=c}return b};at.listenTo=function(c,g,f){if(!c){return this}var d=c._listenId||(c._listenId=ar.uniqueId("l"));var i=this._listeningTo||(this._listeningTo={});var b=i[d];if(!b){var h=this._listenId||(this._listenId=ar.uniqueId("l"));b=i[d]={obj:c,objId:d,id:h,listeningTo:i,count:0}}ay(c,g,f,this,b);return this};var av=function(d,h,c,g){if(c){var f=d[h]||(d[h]=[]);var k=g.context,b=g.ctx,j=g.listening;if(j){j.count++}f.push({callback:c,context:k,ctx:k||b,listening:j})}return d};at.off=function(b,c,a){if(!this._events){return this}this._events=ao(ax,this._events,b,c,{context:a,listeners:this._listeners});return this};at.stopListening=function(c,g,f){var d=this._listeningTo;if(!d){return this}var i=c?[c._listenId]:ar.keys(d);for(var b=0;b<i.length;b++){var h=d[i[b]];if(!h){break}h.obj.off(g,f,this)}if(ar.isEmpty(d)){this._listeningTo=void 0}return this};var ax=function(C,p,b,E){if(!C){return}var i=0,x;var g=E.context,k=E.listeners;if(!p&&!b&&!g){var A=ar.keys(k);for(;i<A.length;i++){x=k[A[i]];delete k[x.id];delete x.listeningTo[x.objId]}return}var j=p?[p]:ar.keys(C);for(;i<j.length;i++){p=j[i];var w=C[p];if(!w){break}var m=[];for(var q=0;q<w.length;q++){var y=w[q];if(b&&b!==y.callback&&b!==y.callback._callback||g&&g!==y.context){m.push(y)}else{x=y.listening;if(x&&--x.count===0){delete k[x.id];delete x.listeningTo[x.objId]}}}if(m.length){C[p]=m}else{delete C[p]}}if(ar.size(C)){return C}};at.once=function(a,d,c){var b=ao(ae,{},a,d,ar.bind(this.off,this));return this.on(b,void 0,c)};at.listenToOnce=function(a,d,c){var b=ao(ae,{},d,c,ar.bind(this.stopListening,this,a));return this.listenTo(a,b)};var ae=function(a,d,c,b){if(c){var f=a[d]=ar.once(function(){b(d,f);c.apply(this,arguments)});f._callback=c}return a};at.trigger=function(b){if(!this._events){return this}var d=Math.max(0,arguments.length-1);var a=Array(d);for(var c=0;c<d;c++){a[c]=arguments[c+1]}ao(au,this._events,b,void 0,a);return this};var au=function(b,f,a,d){if(b){var c=b[f];var g=b.all;if(c&&g){g=g.slice()}if(c){ak(c,d)}if(g){ak(g,[f].concat(d))}}return b};var ak=function(d,h){var c,g=-1,f=d.length,k=h[0],b=h[1],j=h[2];switch(h.length){case 0:while(++g<f){(c=d[g]).callback.call(c.ctx)}return;case 1:while(++g<f){(c=d[g]).callback.call(c.ctx,k)}return;case 2:while(++g<f){(c=d[g]).callback.call(c.ctx,k,b)}return;case 3:while(++g<f){(c=d[g]).callback.call(c.ctx,k,b,j)}return;default:while(++g<f){(c=d[g]).callback.apply(c.ctx,h)}return}};at.bind=at.on;at.unbind=at.off;ar.extend(aw,at);var an=aw.Model=function(a,c){var b=a||{};c||(c={});this.cid=ar.uniqueId(this.cidPrefix);this.attributes={};if(c.collection){this.collection=c.collection}if(c.parse){b=this.parse(b,c)||{}}b=ar.defaults({},b,ar.result(this,"defaults"));this.set(b,c);this.changed={};this.initialize.apply(this,arguments)};ar.extend(an.prototype,at,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return ar.clone(this.attributes)},sync:function(){return aw.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return ar.escape(this.get(a))},has:function(a){return this.get(a)!=null},matches:function(a){return !!ar.iteratee(a,this)(this.attributes)},set:function(y,p,b){if(y==null){return this}var A;if(typeof y==="object"){A=y;b=p}else{(A={})[y]=p}b||(b={});if(!this._validate(A,b)){return false}var i=b.unset;var w=b.silent;var g=[];var k=this._changing;this._changing=true;if(!k){this._previousAttributes=ar.clone(this.attributes);this.changed={}}var x=this.attributes;var j=this.changed;var v=this._previousAttributes;if(this.idAttribute in A){this.id=A[this.idAttribute]}for(var m in A){p=A[m];if(!ar.isEqual(x[m],p)){g.push(m)}if(!ar.isEqual(v[m],p)){j[m]=p}else{delete j[m]}i?delete x[m]:x[m]=p}if(!w){if(g.length){this._pending=b}for(var q=0;q<g.length;q++){this.trigger("change:"+g[q],this,x[g[q]],b)}}if(k){return this}if(!w){while(this._pending){b=this._pending;this._pending=false;this.trigger("change",this,b)}}this._pending=false;this._changing=false;return this},unset:function(a,b){return this.set(a,void 0,ar.extend({},b,{unset:true}))},clear:function(a){var c={};for(var b in this.attributes){c[b]=void 0}return this.set(c,ar.extend({},a,{unset:true}))},hasChanged:function(a){if(a==null){return !ar.isEmpty(this.changed)}return ar.has(this.changed,a)},changedAttributes:function(a){if(!a){return this.hasChanged()?ar.clone(this.changed):false}var d=this._changing?this._previousAttributes:this.attributes;var c={};for(var b in a){var f=a[b];if(ar.isEqual(d[b],f)){continue}c[b]=f}return ar.size(c)?c:false},previous:function(a){if(a==null||!this._previousAttributes){return null}return this._previousAttributes[a]},previousAttributes:function(){return ar.clone(this._previousAttributes)},fetch:function(a){a=ar.extend({parse:true},a);var c=this;var b=a.success;a.success=function(d){var e=a.parse?c.parse(d,a):d;if(!c.set(e,a)){return false}if(b){b.call(a.context,c,d,a)}c.trigger("sync",c,d,a)};aj(this,a);return this.sync("read",this,a)},save:function(m,i,b){var p;if(m==null||typeof m==="object"){p=m;b=i}else{(p={})[m]=i}b=ar.extend({validate:true,parse:true},b);var d=b.wait;if(p&&!d){if(!this.set(p,b)){return false}}else{if(!this._validate(p,b)){return false}}var j=this;var c=b.success;var g=this.attributes;b.success=function(a){j.attributes=g;var h=b.parse?j.parse(a,b):a;if(d){h=ar.extend({},p,h)}if(h&&!j.set(h,b)){return false}if(c){c.call(b.context,j,a,b)}j.trigger("sync",j,a,b)};aj(this,b);if(p&&d){this.attributes=ar.extend({},g,p)}var k=this.isNew()?"create":b.patch?"patch":"update";if(k==="patch"&&!b.attrs){b.attrs=p}var f=this.sync(k,this,b);this.attributes=g;return f},destroy:function(c){c=c?ar.clone(c):{};var g=this;var f=c.success;var d=c.wait;var h=function(){g.stopListening();g.trigger("destroy",g,g.collection,c)};c.success=function(a){if(d){h()}if(f){f.call(c.context,g,a,c)}if(!g.isNew()){g.trigger("sync",g,a,c)}};var b=false;if(this.isNew()){ar.defer(c.success)}else{aj(this,c);b=this.sync("delete",this,c)}if(!d){h()}return b},url:function(){var a=ar.result(this,"urlRoot")||ar.result(this.collection,"url")||L();if(this.isNew()){return a}var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return !this.has(this.idAttribute)},isValid:function(a){return this._validate({},ar.defaults({validate:true},a))},_validate:function(a,c){if(!c.validate||!this.validate){return true}a=ar.extend({},this.attributes,a);var b=this.validationError=this.validate(a,c)||null;if(!b){return true}this.trigger("invalid",this,b,ar.extend(c,{validationError:b}));return false}});var aB={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};al(an,aB,"attributes");var ab=aw.Collection=function(a,b){b||(b={});if(b.model){this.model=b.model}if(b.comparator!==void 0){this.comparator=b.comparator}this._reset();this.initialize.apply(this,arguments);if(a){this.reset(a,ar.extend({silent:true},b))}};var az={add:true,remove:true,merge:true};var ac={add:true,remove:false};ar.extend(ab.prototype,at,{model:an,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return aw.sync.apply(this,arguments)},add:function(a,b){return this.set(a,ar.extend({merge:false},b,ac))},remove:function(a,d){d=ar.extend({},d);var c=!ar.isArray(a);a=c?[a]:ar.clone(a);var b=this._removeModels(a,d);if(!d.silent&&b){this.trigger("update",this,d)}return c?b[0]:b},set:function(C,aC){aC=ar.defaults({},aC,az);if(aC.parse&&!this._isModel(C)){C=this.parse(C,aC)}var I=!ar.isArray(C);C=I?C?[C]:[]:C.slice();var H,O,aF,N,S;var q=aC.at;if(q!=null){q=+q}if(q<0){q+=this.length+1}var R=this.comparator&&q==null&&aC.sort!==false;var aE=ar.isString(this.comparator)?this.comparator:null;var U=[],aD=[],k={};var T=aC.add,M=aC.merge,P=aC.remove;var aG=!R&&T&&P?[]:false;var b=false;for(var i=0;i<C.length;i++){aF=C[i];if(N=this.get(aF)){if(P){k[N.cid]=true}if(M&&aF!==N){aF=this._isModel(aF)?aF.attributes:aF;if(aC.parse){aF=N.parse(aF,aC)}N.set(aF,aC);if(R&&!S&&N.hasChanged(aE)){S=true}}C[i]=N}else{if(T){O=C[i]=this._prepareModel(aF,aC);if(!O){continue}U.push(O);this._addReference(O,aC)}}O=N||O;if(!O){continue}H=this.modelId(O.attributes);if(aG&&(O.isNew()||!k[H])){aG.push(O);b=b||!this.models[i]||O.cid!==this.models[i].cid}k[H]=true}if(P){for(var i=0;i<this.length;i++){if(!k[(O=this.models[i]).cid]){aD.push(O)}}if(aD.length){this._removeModels(aD,aC)}}if(U.length||b){if(R){S=true}this.length+=U.length;if(q!=null){for(var i=0;i<U.length;i++){this.models.splice(q+i,0,U[i])}}else{if(aG){this.models.length=0}var j=aG||U;for(var i=0;i<j.length;i++){this.models.push(j[i])}}}if(S){this.sort({silent:true})}if(!aC.silent){var A=q!=null?ar.clone(aC):aC;for(var i=0;i<U.length;i++){if(q!=null){A.index=q+i}(O=U[i]).trigger("add",O,this,A)}if(S||b){this.trigger("sort",this,aC)}if(U.length||aD.length){this.trigger("update",this,aC)}}return I?C[0]:C},reset:function(a,c){c=c?ar.clone(c):{};for(var b=0;b<this.models.length;b++){this._removeReference(this.models[b],c)}c.previousModels=this.models;this._reset();a=this.add(a,ar.extend({silent:true},c));if(!c.silent){this.trigger("reset",this,c)}return a},push:function(a,b){return this.add(a,ar.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,ar.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return am.apply(this.models,arguments)},get:function(a){if(a==null){return void 0}var b=this.modelId(this._isModel(a)?a.attributes:a);return this._byId[a]||this._byId[b]||this._byId[a.cid]},at:function(a){if(a<0){a+=this.length}return this.models[a]},where:function(a,c){var b=ar.matches(a);return this[c?"find":"filter"](function(d){return b(d.attributes)})},findWhere:function(a){return this.where(a,true)},sort:function(a){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}a||(a={});if(ar.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(ar.bind(this.comparator,this))}if(!a.silent){this.trigger("sort",this,a)}return this},pluck:function(a){return ar.invoke(this.models,"get",a)},fetch:function(a){a=ar.extend({parse:true},a);var c=a.success;var b=this;a.success=function(d){var e=a.reset?"reset":"set";b[e](d,a);if(c){c.call(a.context,b,d,a)}b.trigger("sync",b,d,a)};aj(this,a);return this.sync("read",this,a)},create:function(a,d){d=d?ar.clone(d):{};var c=d.wait;a=this._prepareModel(a,d);if(!a){return false}if(!c){this.add(a,d)}var b=this;var f=d.success;d.success=function(h,j,g){if(c){b.add(h,g)}if(f){f.call(g.context,h,j,g)}};a.save(null,d);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,c){if(this._isModel(a)){if(!a.collection){a.collection=this}return a}c=c?ar.clone(c):{};c.collection=this;var b=new this.model(a,c);if(!b.validationError){return b}this.trigger("invalid",this,b.validationError,c);return false},_removeModels:function(b,f){var a=[];for(var d=0;d<b.length;d++){var c=this.get(b[d]);if(!c){continue}var g=this.indexOf(c);this.models.splice(g,1);this.length--;if(!f.silent){f.index=g;c.trigger("remove",c,this,f)}a.push(c);this._removeReference(c,f)}return a.length?a:false},_isModel:function(a){return a instanceof an},_addReference:function(b,c){this._byId[b.cid]=b;var a=this.modelId(b.attributes);if(a!=null){this._byId[a]=b}b.on("all",this._onModelEvent,this)},_removeReference:function(b,c){delete this._byId[b.cid];var a=this.modelId(b.attributes);if(a!=null){delete this._byId[a]}if(this===b.collection){delete b.collection}b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,f,a,d){if((b==="add"||b==="remove")&&a!==this){return}if(b==="destroy"){this.remove(f,d)}if(b==="change"){var c=this.modelId(f.previousAttributes());var g=this.modelId(f.attributes);if(c!==g){if(c!=null){delete this._byId[c]}if(g!=null){this._byId[g]=f}}}this.trigger.apply(this,arguments)}});var ad={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};al(ab,ad,"models");var X=["groupBy","countBy","sortBy","indexBy"];ar.each(X,function(a){if(!ar[a]){return}ab.prototype[a]=function(d,c){var b=ar.isFunction(d)?d:function(e){return e.get(d)};return ar[a](this.models,b,c)}});var ap=aw.View=function(a){this.cid=ar.uniqueId("view");ar.extend(this,ar.pick(a,Q));this._ensureElement();this.initialize.apply(this,arguments)};var D=/^(\S+)\s*(.*)$/;var Q=["model","collection","el","id","attributes","className","tagName","events"];ar.extend(ap.prototype,at,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof aw.$?a:aw.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=ar.result(this,"events"));if(!a){return this}this.undelegateEvents();for(var d in a){var c=a[d];if(!ar.isFunction(c)){c=this[c]}if(!c){continue}var b=d.match(D);this.delegate(b[1],b[2],ar.bind(c,this))}return this},delegate:function(b,c,a){this.$el.on(b+".delegateEvents"+this.cid,c,a);return this},undelegateEvents:function(){if(this.$el){this.$el.off(".delegateEvents"+this.cid)}return this},undelegate:function(b,c,a){this.$el.off(b+".delegateEvents"+this.cid,c,a);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(!this.el){var a=ar.extend({},ar.result(this,"attributes"));if(this.id){a.id=ar.result(this,"id")}if(this.className){a["class"]=ar.result(this,"className")}this.setElement(this._createElement(ar.result(this,"tagName")));this._setAttributes(a)}else{this.setElement(ar.result(this,"el"))}},_setAttributes:function(a){this.$el.attr(a)}});aw.sync=function(d,g,f){var j=B[d];ar.defaults(f||(f={}),{emulateHTTP:aw.emulateHTTP,emulateJSON:aw.emulateJSON});var b={type:j,dataType:"json"};if(!f.url){b.url=ar.result(g,"url")||L()}if(f.data==null&&g&&(d==="create"||d==="update"||d==="patch")){b.contentType="application/json";b.data=JSON.stringify(f.attrs||g.toJSON(f))}if(f.emulateJSON){b.contentType="application/x-www-form-urlencoded";b.data=b.data?{model:b.data}:{}}if(f.emulateHTTP&&(j==="PUT"||j==="DELETE"||j==="PATCH")){b.type="POST";if(f.emulateJSON){b.data._method=j}var i=f.beforeSend;f.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",j);if(i){return i.apply(this,arguments)}}}if(b.type!=="GET"&&!f.emulateJSON){b.processData=false}var e=f.error;f.error=function(h,k,a){f.textStatus=k;f.errorThrown=a;if(e){e.call(f.context,h,k,a)}};var c=f.xhr=aw.ajax(ar.extend(b,f));g.trigger("request",g,c,f);return c};var B={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};aw.ajax=function(){return aw.$.ajax.apply(aw.$,arguments)};var G=aw.Router=function(a){a||(a={});if(a.routes){this.routes=a.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var W=/\((.*?)\)/g;var aa=/(\(\?)?:\w+/g;var Z=/\*\w+/g;var Y=/[\-{}\[\]+?.,\\\^$|#\s]/g;ar.extend(G.prototype,at,{initialize:function(){},route:function(a,c,b){if(!ar.isRegExp(a)){a=this._routeToRegExp(a)}if(ar.isFunction(c)){b=c;c=""}if(!b){b=this[c]}var d=this;aw.history.route(a,function(f){var e=d._extractParameters(a,f);if(d.execute(b,e,c)!==false){d.trigger.apply(d,["route:"+c].concat(e));d.trigger("route",c,e);aw.history.trigger("route",d,c,e)}});return this},execute:function(b,c,a){if(b){b.apply(this,c)}},navigate:function(b,a){aw.history.navigate(b,a);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=ar.result(this,"routes");var a,b=ar.keys(this.routes);while((a=b.pop())!=null){this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(Y,"\\$&").replace(W,"(?:$1)?").replace(aa,function(b,c){return c?b:"([^/?]+)"}).replace(Z,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,c){var b=a.exec(c).slice(1);return ar.map(b,function(d,f){if(f===b.length-1){return d||null}return d?decodeURIComponent(d):null})}});var K=aw.History=function(){this.handlers=[];ar.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var F=/^[#\/]|\s+$/g;var aq=/^\/+|\/+$/g;var J=/#.*$/;K.started=false;ar.extend(K.prototype,at,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},matchRoot:function(){var a=this.decodeFragment(this.location.pathname);var b=a.slice(0,this.root.length-1)+"/";return b===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return a.charAt(0)==="/"?a.slice(1):a},getFragment:function(a){if(a==null){if(this._usePushState||!this._wantsHashChange){a=this.getPath()}else{a=this.getHash()}}return a.replace(F,"")},start:function(a){if(K.started){throw new Error("Backbone.history has already been started")}K.started=true;this.options=ar.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange" in window;this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(aq,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var d=this.root.slice(0,-1)||"/";this.location.replace(d+"#"+this.getPath());return true}else{if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var c=document.body;var b=c.insertBefore(this.iframe,c.firstChild).contentWindow;b.document.open();b.document.close();b.location.hash="#"+this.fragment}var f=window.addEventListener||function(g,h){return attachEvent("on"+g,h)};if(this._usePushState){f("popstate",this.checkUrl,false)}else{if(this._useHashChange&&!this.iframe){f("hashchange",this.checkUrl,false)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){var a=window.removeEventListener||function(b,c){return detachEvent("on"+b,c)};if(this._usePushState){a("popstate",this.checkUrl,false)}else{if(this._useHashChange&&!this.iframe){a("hashchange",this.checkUrl,false)}}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval){clearInterval(this._checkUrlInterval)}K.started=false},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();if(b===this.fragment&&this.iframe){b=this.getHash(this.iframe.contentWindow)}if(b===this.fragment){return false}if(this.iframe){this.navigate(b)}this.loadUrl()},loadUrl:function(a){if(!this.matchRoot()){return false}a=this.fragment=this.getFragment(a);return ar.any(this.handlers,function(b){if(b.route.test(a)){b.callback(a);return true}})},navigate:function(b,f){if(!K.started){return false}if(!f||f===true){f={trigger:!!f}}b=this.getFragment(b||"");var a=this.root;if(b===""||b.charAt(0)==="?"){a=a.slice(0,-1)||"/"}var d=a+b;b=this.decodeFragment(b.replace(J,""));if(this.fragment===b){return}this.fragment=b;if(this._usePushState){this.history[f.replace?"replaceState":"pushState"]({},document.title,d)}else{if(this._wantsHashChange){this._updateHash(this.location,b,f.replace);if(this.iframe&&b!==this.getHash(this.iframe.contentWindow)){var c=this.iframe.contentWindow;if(!f.replace){c.document.open();c.document.close()}this._updateHash(c.location,b,f.replace)}}else{return this.location.assign(d)}}if(f.trigger){return this.loadUrl(b)}},_updateHash:function(b,d,a){if(a){var c=b.href.replace(/(javascript:|#).*$/,"");b.replace(c+"#"+d)}else{b.hash="#"+d}}});aw.history=new K;var z=function(a,d){var c=this;var b;if(a&&ar.has(a,"constructor")){b=a.constructor}else{b=function(){return c.apply(this,arguments)}}ar.extend(b,c,d);var f=function(){this.constructor=b};f.prototype=c.prototype;b.prototype=new f;if(a){ar.extend(b.prototype,a)}b.__super__=c.prototype;return b};an.extend=ab.extend=G.extend=ap.extend=K.extend=z;var L=function(){throw new Error('A "url" property or function must be specified')};var aj=function(b,c){var a=c.error;c.error=function(d){if(a){a.call(c.context,b,d,c)}b.trigger("error",b,d,c)}};return aw});
/*! JointJS v0.9.9 - JavaScript diagramming library  2016-05-31 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(["backbone","lodash","jquery"],function(h,f,g){h.$=g;return b(a,h,f,g)})}else{if(typeof exports!=="undefined"){var e=require("backbone");var c=require("lodash");var d=e.$=require("jquery");module.exports=b(a,e,c,d)}else{var e=a.Backbone;var c=a._;var d=e.$=a.jQuery||a.$;a.joint=b(a,e,c,d);a.g=a.joint.g;a.V=a.Vectorizer=a.joint.V}}}(this,function(i,j,k,f){var h=function(){var P={},O=Math,N=O.abs,M=O.cos,L=O.sin,K=O.sqrt,J=O.min,I=O.max,H=(O.atan,O.atan2),G=(O.acos,O.round),F=O.floor,E=O.PI,D=O.random,C=(P.bezier={curveThroughPoints:function(l){for(var g=this.getCurveControlPoints(l),n=["M",l[0].x,l[0].y],m=0;m<g[0].length;m++){n.push("C",g[0][m].x,g[0][m].y,g[1][m].x,g[1][m].y,l[m+1].x,l[m+1].y)}return n},getCurveControlPoints:function(m){var l,s=[],r=[],q=m.length-1;if(1==q){return s[0]=A((2*m[0].x+m[1].x)/3,(2*m[0].y+m[1].y)/3),r[0]=A(2*s[0].x-m[0].x,2*s[0].y-m[0].y),[s,r]}var p=[];for(l=1;q-1>l;l++){p[l]=4*m[l].x+2*m[l+1].x}p[0]=m[0].x+2*m[1].x,p[q-1]=(8*m[q-1].x+m[q].x)/2;var o=this.getFirstControlPoints(p);for(l=1;q-1>l;++l){p[l]=4*m[l].y+2*m[l+1].y}p[0]=m[0].y+2*m[1].y,p[q-1]=(8*m[q-1].y+m[q].y)/2;var n=this.getFirstControlPoints(p);for(l=0;q>l;l++){s.push(A(o[l],n[l])),q-1>l?r.push(A(2*m[l+1].x-o[l+1],2*m[l+1].y-n[l+1])):r.push(A((m[q].x+o[q-1])/2,(m[q].y+n[q-1])/2))}return[s,r]},getCurveDivider:function(l,g,n,m){return function(u){var t=B(l,g).pointAt(u),s=B(g,n).pointAt(u),r=B(n,m).pointAt(u),q=B(t,s).pointAt(u),p=B(s,r).pointAt(u),o=B(q,p).pointAt(u);return[{p0:l,p1:t,p2:q,p3:o},{p0:o,p1:p,p2:r,p3:m}]}},getFirstControlPoints:function(l){var g=l.length,p=[],o=[],n=2;p[0]=l[0]/n;for(var m=1;g>m;m++){o[m]=1/n,n=(g-1>m?4:3.5)-o[m],p[m]=(l[m]-p[m-1])/n}for(m=1;g>m;m++){p[g-m-1]-=o[g-m]*p[g-m]}return p},getInversionSolver:function(l,g,p,o){function n(r,q){var t=m[r],s=m[q];return function(R){var Q=(r%3?3:1)*(q%3?3:1),u=R.x*(t.y-s.y)+R.y*(s.x-t.x)+t.x*s.y-t.y*s.x;return Q*u}}var m=arguments;return function(Q){var u=3*n(2,3)(g),t=n(1,3)(l)/u,s=-n(2,3)(l)/u,r=t*n(3,1)(Q)+s*(n(3,0)(Q)+n(2,1)(Q))+n(2,0)(Q),q=t*n(3,0)(Q)+s*n(2,0)(Q)+n(1,0)(Q);return q/(q-r)}}},P.Ellipse=function(l,g,m){return this instanceof C?l instanceof C?new C(A(l),l.a,l.b):(l=A(l),this.x=l.x,this.y=l.y,this.a=g,void (this.b=m)):new C(l,g,m)});P.Ellipse.fromRect=function(g){return g=z(g),C(g.center(),g.width/2,g.height/2)},P.Ellipse.prototype={bbox:function(){return z(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},clone:function(){return C(this)},equals:function(g){return g=C(g),g.x===this.x&&g.y===this.y&&g.a===this.a&&g.b===this.b},intersectionWithLineFromCenterToPoint:function(R,Q){R=A(R),Q&&R.rotate(A(this.x,this.y),Q);var u,t=R.x-this.x,s=R.y-this.y;if(0===t){return u=this.bbox().pointNearestToPoint(R),Q?u.rotate(A(this.x,this.y),-Q):u}var r=s/t,q=r*r,p=this.a*this.a,o=this.b*this.b,n=K(1/(1/p+q/o));n=0>t?-n:n;var m=r*n;return u=A(this.x+n,this.y+m),Q?u.rotate(A(this.x,this.y),-Q):u},toString:function(){return A(this.x,this.y).toString()+" "+this.a+" "+this.b}};var B=P.Line=function(l,g){return this instanceof B?(this.start=A(l),void (this.end=A(g))):new B(l,g)};P.Line.prototype={bearing:function(){var R=v(this.start.y),Q=v(this.end.y),u=this.start.x,t=this.end.x,s=v(t-u),r=L(s)*M(Q),q=M(R)*L(Q)-L(R)*M(Q)*M(s),p=w(H(r,q)),o=["NE","E","SE","S","SW","W","NW","N"],n=p-22.5;return 0>n&&(n+=360),n=parseInt(n/45),o[n]},clone:function(){return B(this)},intersection:function(m){var l=A(this.end.x-this.start.x,this.end.y-this.start.y),r=A(m.end.x-m.start.x,m.end.y-m.start.y),q=l.x*r.y-l.y*r.x,p=A(m.start.x-this.start.x,m.start.y-this.start.y),o=p.x*r.y-p.y*r.x,n=p.x*l.y-p.y*l.x;if(0===q||0>o*q||0>n*q){return null}if(q>0){if(o>q||n>q){return null}}else{if(q>o||q>n){return null}}return A(this.start.x+o*l.x/q,this.start.y+o*l.y/q)},length:function(){return K(this.squaredLength())},midpoint:function(){return A((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},pointAt:function(l){var g=(1-l)*this.start.x+l*this.end.x,m=(1-l)*this.start.y+l*this.end.y;return A(g,m)},pointOffset:function(g){return((this.end.x-this.start.x)*(g.y-this.start.y)-(this.end.y-this.start.y)*(g.x-this.start.x))/2},squaredLength:function(){var l=this.start.x,g=this.start.y,n=this.end.x,m=this.end.y;return(l-=n)*l+(g-=m)*g},toString:function(){return this.start.toString()+" "+this.end.toString()}};var A=P.Point=function(l,g){if(!(this instanceof A)){return new A(l,g)}if("string"==typeof l){var m=l.split(-1===l.indexOf("@")?" ":"@");l=parseInt(m[0],10),g=parseInt(m[1],10)}else{Object(l)===l&&(g=l.y,l=l.x)}this.x=void 0===l?0:l,this.y=void 0===g?0:g};P.Point.fromPolar=function(m,l,q){q=q&&A(q)||A(0,0);var p=N(m*M(l)),o=N(m*L(l)),n=y(w(l));return 90>n?o=-o:180>n?(p=-p,o=-o):270>n&&(p=-p),A(q.x+p,q.y+o)},P.Point.random=function(l,g,n,m){return A(F(D()*(g-l+1)+l),F(D()*(m-n+1)+n))},P.Point.prototype={adhereToRect:function(g){return g.containsPoint(this)?this:(this.x=J(I(this.x,g.x),g.x+g.width),this.y=J(I(this.y,g.y),g.y+g.height),this)},bearing:function(g){return B(this,g).bearing()},changeInAngle:function(l,g,m){return A(this).offset(-l,-g).theta(m)-this.theta(m)},clone:function(){return A(this)},difference:function(g){return A(this.x-g.x,this.y-g.y)},distance:function(g){return B(this,g).length()},equals:function(g){return this.x===g.x&&this.y===g.y},magnitude:function(){return K(this.x*this.x+this.y*this.y)||0.01},manhattanDistance:function(g){return N(g.x-this.x)+N(g.y-this.y)},move:function(l,g){var m=v(A(l).theta(this));return this.offset(M(m)*g,-L(m)*g)},normalize:function(l){var g=(l||1)/this.magnitude();return this.scale(g,g)},offset:function(l,g){return this.x+=l||0,this.y+=g||0,this},reflection:function(g){return A(g).move(this,this.distance(g))},rotate:function(l,g){g=(g+360)%360,this.toPolar(l),this.y+=v(g);var m=A.fromPolar(this.x,this.y,l);return this.x=m.x,this.y=m.y,this},round:function(g){return this.x=g?this.x.toFixed(g):G(this.x),this.y=g?this.y.toFixed(g):G(this.y),this},scale:function(l,g,m){return m=m&&A(m)||A(0,0),this.x=m.x+l*(this.x-m.x),this.y=m.y+g*(this.y-m.y),this},snapToGrid:function(l,g){return this.x=x(this.x,l),this.y=x(this.y,g||l),this},theta:function(l){l=A(l);var g=-(l.y-this.y),o=l.x-this.x,n=10,m=0==g.toFixed(n)&&0==o.toFixed(n)?0:H(g,o);return 0>m&&(m=2*E+m),180*m/E},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(l){l=l&&A(l)||A(0,0);var g=this.x,m=this.y;return this.x=K((g-l.x)*(g-l.x)+(m-l.y)*(m-l.y)),this.y=v(l.theta(A(g,m))),this},toString:function(){return this.x+"@"+this.y},update:function(l,g){return this.x=l||0,this.y=g||0,this}};var z=P.Rect=function(l,g,n,m){return this instanceof z?(Object(l)===l&&(g=l.y,n=l.width,m=l.height,l=l.x),this.x=void 0===l?0:l,this.y=void 0===g?0:g,this.width=void 0===n?0:n,void (this.height=void 0===m?0:m)):new z(l,g,n,m)};P.Rect.fromEllipse=function(g){return g=C(g),z(g.x-g.a,g.y-g.b,2*g.a,2*g.b)},P.Rect.prototype={bbox:function(m){var l=v(m||0),q=N(L(l)),p=N(M(l)),o=this.width*p+this.height*q,n=this.width*q+this.height*p;return z(this.x+(this.width-o)/2,this.y+(this.height-n)/2,o,n)},bottomLeft:function(){return A(this.x,this.y+this.height)},bottomMiddle:function(){return A(this.x+this.width/2,this.y+this.height)},center:function(){return A(this.x+this.width/2,this.y+this.height/2)},clone:function(){return z(this)},containsPoint:function(g){return g=A(g),g.x>=this.x&&g.x<=this.x+this.width&&g.y>=this.y&&g.y<=this.y+this.height},containsRect:function(Q){var u=z(this).normalize(),t=z(Q).normalize(),s=u.width,r=u.height,q=t.width,p=t.height;if(!(s&&r&&q&&p)){return !1}var o=u.x,n=u.y,m=t.x,l=t.y;return q+=m,s+=o,p+=l,r+=n,m>=o&&s>=q&&l>=n&&r>=p},corner:function(){return A(this.x+this.width,this.y+this.height)},equals:function(l){var g=z(this).normalize(),m=z(l).normalize();return g.x===m.x&&g.y===m.y&&g.width===m.width&&g.height===m.height},intersect:function(m){var l=this.origin(),r=this.corner(),q=m.origin(),p=m.corner();if(p.x<=l.x||p.y<=l.y||q.x>=r.x||q.y>=r.y){return null}var o=Math.max(l.x,q.x),n=Math.max(l.y,q.y);return z(o,n,Math.min(r.x,p.x)-o,Math.min(r.y,p.y)-n)},intersectionWithLineFromCenterToPoint:function(m,l){m=A(m);var s,r=A(this.x+this.width/2,this.y+this.height/2);l&&m.rotate(r,l);for(var q=[B(this.origin(),this.topRight()),B(this.topRight(),this.corner()),B(this.corner(),this.bottomLeft()),B(this.bottomLeft(),this.origin())],p=B(r,m),o=q.length-1;o>=0;--o){var n=q[o].intersection(p);if(null!==n){s=n;break}}return s&&l&&s.rotate(r,-l),s},leftMiddle:function(){return A(this.x,this.y+this.height/2)},moveAndExpand:function(g){return this.x+=g.x||0,this.y+=g.y||0,this.width+=g.width||0,this.height+=g.height||0,this},normalize:function(){var l=this.x,g=this.y,n=this.width,m=this.height;return this.width<0&&(l=this.x+this.width,n=-this.width),this.height<0&&(g=this.y+this.height,m=-this.height),this.x=l,this.y=g,this.width=n,this.height=m,this},origin:function(){return A(this.x,this.y)},pointNearestToPoint:function(l){if(l=A(l),this.containsPoint(l)){var g=this.sideNearestToPoint(l);switch(g){case"right":return A(this.x+this.width,l.y);case"left":return A(this.x,l.y);case"bottom":return A(l.x,this.y+this.height);case"top":return A(l.x,this.y)}}return l.adhereToRect(this)},rightMiddle:function(){return A(this.x+this.width,this.y+this.height/2)},round:function(g){return this.x=g?this.x.toFixed(g):G(this.x),this.y=g?this.y.toFixed(g):G(this.y),this.width=g?this.width.toFixed(g):G(this.width),this.height=g?this.height.toFixed(g):G(this.height),this},scale:function(l,g,m){var m=this.origin().scale(l,g,m);return this.x=m.x,this.y=m.y,this.width*=l,this.height*=g,this},sideNearestToPoint:function(m){m=A(m);var l=m.x-this.x,r=this.x+this.width-m.x,q=m.y-this.y,p=this.y+this.height-m.y,o=l,n="left";return o>r&&(o=r,n="right"),o>q&&(o=q,n="top"),o>p&&(o=p,n="bottom"),n},snapToGrid:function(l,g){var n=this.origin().snapToGrid(l,g),m=this.corner().snapToGrid(l,g);return this.x=n.x,this.y=n.y,this.width=m.x-n.x,this.height=m.y-n.y,this},topMiddle:function(){return A(this.x+this.width/2,this.y)},topRight:function(){return A(this.x+this.width,this.y)},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){var s=this.origin(),r=this.corner(),q=t.origin(),p=t.corner(),o=Math.min(s.x,q.x),n=Math.min(s.y,q.y),m=Math.max(r.x,p.x),l=Math.max(r.y,p.y);return z(o,n,m-o,l-n)}};var y=P.normalizeAngle=function(g){return g%360+(0>g?360:0)},x=(P.scale={linear:function(l,g,o){var n=l[1]-l[0],m=g[1]-g[0];return(o-l[0])/n*m+g[0]||0}},P.snapToGrid=function(l,g){return g*Math.round(l/g)}),w=P.toDeg=function(g){return 180*g/E%360},v=P.toRad=function(l,g){return g=g||!1,l=g?l:l%360,l*E/180};return P.ellipse=P.Ellipse,P.line=P.Line,P.point=P.Point,P.rect=P.Rect,P}();var c,b;c=b=function(){var l="object"==typeof window&&!(!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));if(!l){return function(){throw new Error("SVG is required to use Vectorizer.")}}var g={xmlns:"http://www.w3.org/2000/svg",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink"},o="1.1",n=function(p,w,v){if(!(this instanceof n)){return n.apply(Object.create(n.prototype),arguments)}if(p){if(n.isV(p)&&(p=p.node),w=w||{},n.isString(p)){if("svg"===p.toLowerCase()){p=n.createSvgDocument()}else{if("<"===p[0]){var u=n.createSvgDocument(p);if(u.childNodes.length>1){var t,s,r=[];for(t=0,s=u.childNodes.length;s>t;t++){var q=u.childNodes[t];r.push(new n(document.importNode(q,!0)))}return r}p=document.importNode(u.firstChild,!0)}else{p=document.createElementNS(g.xmlns,p)}}}return this.node=p,this.node.id||(this.node.id=n.uniqueId()),this.setAttributes(w),v&&this.append(v),this}};n.prototype.getTransformToElement=function(p){return p.getScreenCTM().inverse().multiply(this.node.getScreenCTM())},n.prototype.transform=function(q){if(n.isUndefined(q)){return this.node.parentNode?this.getTransformToElement(this.node.parentNode):this.node.getScreenCTM()}var p=n.createSVGTransform(q);return this.node.transform.baseVal.appendItem(p),this},n.prototype.translate=function(q,p,w){w=w||{},p=p||0;var v=this.attr("transform")||"",u=n.parseTransformString(v);if(n.isUndefined(q)){return u.translate}v=v.replace(/translate\([^\)]*\)/g,"").trim();var t=w.absolute?q:u.translate.tx+q,s=w.absolute?p:u.translate.ty+p,r="translate("+t+","+s+")";return this.attr("transform",(r+" "+v).trim()),this},n.prototype.rotate=function(x,w,v,u){u=u||{};var t=this.attr("transform")||"",s=n.parseTransformString(t);if(n.isUndefined(x)){return s.rotate}t=t.replace(/rotate\([^\)]*\)/g,"").trim(),x%=360;var r=u.absolute?x:s.rotate.angle+x,q=void 0!==w&&void 0!==v?","+w+","+v:"",p="rotate("+r+q+")";return this.attr("transform",(t+" "+p).trim()),this},n.prototype.scale=function(q,p){p=n.isUndefined(p)?q:p;var t=this.attr("transform")||"",s=n.parseTransformString(t);if(n.isUndefined(q)){return s.scale}t=t.replace(/scale\([^\)]*\)/g,"").trim();var r="scale("+q+","+p+")";return this.attr("transform",(t+" "+r).trim()),this},n.prototype.bbox=function(q,p){if(!this.node.ownerSVGElement){return{x:0,y:0,width:0,height:0}}var t;try{t=this.node.getBBox(),t={x:t.x,y:t.y,width:t.width,height:t.height}}catch(s){t={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}if(q){return t}var r=this.getTransformToElement(p||this.node.ownerSVGElement);return n.transformRect(t,r)},n.prototype.text=function(O,N){O=n.sanitizeText(O),N=N||{};var M,L=O.split("\n"),K=this.attr("y");K||this.attr("y","0.8em"),this.attr("display",O?null:"none"),this.attr("xml:space","preserve"),this.node.textContent="";var J=this.node;if(N.textPath){var I=this.find("defs");0===I.length&&(I=n("defs"),this.append(I));var H=Object(N.textPath)===N.textPath?N.textPath.d:N.textPath;if(H){var G=n("path",{d:H});I.append(G)}var F=n("textPath");!N.textPath["xlink:href"]&&G&&F.attr("xlink:href","#"+G.node.id),Object(N.textPath)===N.textPath&&F.attr(N.textPath),this.append(F),J=F.node}for(var E=0,D=0;D<L.length;D++){var C=L[D],B=N.lineHeight||"1em";"auto"===N.lineHeight&&(B="1.5em");var A=n("tspan",{dy:0==D?"0em":B,x:this.attr("x")||0});if(A.addClass("v-line"),C){if(N.annotations){for(var z=0,y=n.annotateString(L[D],n.isArray(N.annotations)?N.annotations:[N.annotations],{offset:-E,includeAnnotationIndices:N.includeAnnotationIndices}),x=0;x<y.length;x++){var w=y[x];if(n.isObject(w)){var v=parseInt(w.attrs["font-size"],10);v&&v>z&&(z=v),M=n("tspan",w.attrs),N.includeAnnotationIndices&&M.attr("annotations",w.annotations),w.attrs["class"]&&M.addClass(w.attrs["class"]),M.node.textContent=w.t}else{M=document.createTextNode(w||" ")}A.append(M)}"auto"===N.lineHeight&&z&&0!==D&&A.attr("dy",1.2*z+"px")}else{A.node.textContent=C}}else{A.addClass("v-empty-line"),A.node.style.opacity=0,A.node.textContent="-"}n(J).append(A),E+=C.length+1}return this},n.prototype.removeAttr=function(q){var p=n.qualifyAttr(q),r=this.node;return p.ns?r.hasAttributeNS(p.ns,p.local)&&r.removeAttributeNS(p.ns,p.local):r.hasAttribute(q)&&r.removeAttribute(q),this},n.prototype.attr=function(q,p){if(n.isUndefined(q)){for(var u=this.node.attributes,t={},s=0;s<u.length;s++){t[u[s].nodeName]=u[s].nodeValue}return t}if(n.isString(q)&&n.isUndefined(p)){return this.node.getAttribute(q)}if("object"==typeof q){for(var r in q){q.hasOwnProperty(r)&&this.setAttribute(r,q[r])}}else{this.setAttribute(q,p)}return this},n.prototype.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},n.prototype.empty=function(){for(;this.node.firstChild;){this.node.removeChild(this.node.firstChild)}return this},n.prototype.setAttributes=function(q){for(var p in q){q.hasOwnProperty(p)&&this.setAttribute(p,q[p])}return this},n.prototype.append=function(q){n.isArray(q)||(q=[q]);for(var p=0,r=q.length;r>p;p++){this.node.appendChild(n.toNode(q[p]))}return this},n.prototype.prepend=function(q){var p=this.node.firstChild;return p?n(p).before(q):this.append(q)},n.prototype.before=function(q){var p=this.node,t=p.parentNode;if(t){n.isArray(q)||(q=[q]);for(var s=0,r=q.length;r>s;s++){t.insertBefore(n.toNode(q[s]),p)}}return this},n.prototype.svg=function(){return this.node instanceof window.SVGSVGElement?this:n(this.node.ownerSVGElement)},n.prototype.defs=function(){var p=this.svg().node.getElementsByTagName("defs");return p&&p.length?n(p[0]):void 0},n.prototype.clone=function(){var p=n(this.node.cloneNode(!0));return p.node.id=n.uniqueId(),p},n.prototype.findOne=function(q){var p=this.node.querySelector(q);return p?n(p):void 0},n.prototype.find=function(q){var p=[],s=this.node.querySelectorAll(q);if(s){for(var r=0;r<s.length;r++){p.push(n(s[r]))}}return p},n.prototype.index=function(){for(var q=0,p=this.node.previousSibling;p;){1===p.nodeType&&q++,p=p.previousSibling}return q},n.prototype.findParentByClass=function(q,p){for(var t=this.node.ownerSVGElement,s=this.node.parentNode;s&&s!==p&&s!==t;){var r=n(s);if(r.hasClass(q)){return r}s=s.parentNode}return null},n.prototype.toLocalPoint=function(q,p){var v=this.svg().node,u=v.createSVGPoint();u.x=q,u.y=p;try{var t=u.matrixTransform(v.getScreenCTM().inverse()),s=this.getTransformToElement(v).inverse()}catch(r){return u}return t.matrixTransform(s)},n.prototype.translateCenterToPoint=function(q){var p=this.bbox(),r=h.rect(p).center();this.translate(q.x-r.x,q.y-r.y)},n.prototype.translateAndAutoOrient=function(D,C,B){var A=this.scale();this.attr("transform",""),this.scale(A.sx,A.sy);var z=this.svg().node,y=this.bbox(!1,B),x=z.createSVGTransform();x.setTranslate(-y.x-y.width/2,-y.y-y.height/2);var w=z.createSVGTransform(),v=h.point(D).changeInAngle(D.x-C.x,D.y-C.y,C);w.setRotate(v,0,0);var u=z.createSVGTransform(),t=h.point(D).move(C,y.width/2);u.setTranslate(D.x+(D.x-t.x),D.y+(D.y-t.y));var s=this.getTransformToElement(B),r=z.createSVGTransform();r.setMatrix(u.matrix.multiply(w.matrix.multiply(x.matrix.multiply(s))));var q=n.decomposeMatrix(r.matrix);return this.translate(q.translateX,q.translateY),this.rotate(q.rotation),this},n.prototype.animateAlongPath=function(A,z){var y=n("animateMotion",A),x=n("mpath",{"xlink:href":"#"+n(z).node.id});y.append(x),this.append(y);try{y.node.beginElement()}catch(w){if("fake"===document.documentElement.getAttribute("smiling")){var v=y.node;v.animators=[];var u=v.getAttribute("id");u&&(id2anim[u]=v);for(var t=getTargets(v),s=0,r=t.length;r>s;s++){var q=t[s],p=new Animator(v,q,s);animators.push(p),v.animators[s]=p,p.register()}}}},n.prototype.hasClass=function(p){return new RegExp("(\\s|^)"+p+"(\\s|$)").test(this.node.getAttribute("class"))},n.prototype.addClass=function(q){if(!this.hasClass(q)){var p=this.node.getAttribute("class")||"";this.node.setAttribute("class",(p+" "+q).trim())}return this},n.prototype.removeClass=function(q){if(this.hasClass(q)){var p=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+q+"(\\s|$)","g"),"$2");this.node.setAttribute("class",p)}return this},n.prototype.toggleClass=function(q,p){var r=n.isUndefined(p)?this.hasClass(q):!p;return r?this.removeClass(q):this.addClass(q),this},n.prototype.sample=function(q){q=q||1;for(var p,u=this.node,t=u.getTotalLength(),s=[],r=0;t>r;){p=u.getPointAtLength(r),s.push({x:p.x,y:p.y,distance:r}),r+=q}return s},n.prototype.convertToPath=function(){var q=n("path");q.attr(this.attr());var p=this.convertToPathData();return p&&q.attr("d",p),q},n.prototype.convertToPathData=function(){var p=this.node.tagName.toUpperCase();switch(p){case"PATH":return this.attr("d");case"LINE":return n.convertLineToPathData(this.node);case"POLYGON":return n.convertPolygonToPathData(this.node);case"POLYLINE":return n.convertPolylineToPathData(this.node);case"ELLIPSE":return n.convertEllipseToPathData(this.node);case"CIRCLE":return n.convertCircleToPathData(this.node);case"RECT":return n.convertRectToPathData(this.node)}throw new Error(p+" cannot be converted to PATH.")},n.prototype.findIntersection=function(T,S){var R=this.svg().node;S=S||R;var Q=h.rect(this.bbox(!1,S)),P=Q.center();if(Q.intersectionWithLineFromCenterToPoint(T)){var O,N=this.node.localName.toUpperCase();if("RECT"===N){var M=h.rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),L=this.getTransformToElement(S),K=n.decomposeMatrix(L),J=R.createSVGTransform();J.setRotate(-K.rotation,P.x,P.y);var I=n.transformRect(M,J.matrix.multiply(L));O=h.rect(I).intersectionWithLineFromCenterToPoint(T,K.rotation)}else{if("PATH"===N||"POLYGON"===N||"POLYLINE"===N||"CIRCLE"===N||"ELLIPSE"===N){var H,G,F,E,D,C,B="PATH"===N?this:this.convertToPath(),A=B.sample(),z=1/0,y=[];for(H=0;H<A.length;H++){G=A[H],F=n.createSVGPoint(G.x,G.y),F=F.matrixTransform(this.getTransformToElement(S)),G=h.point(F),E=G.distance(P),D=1.1*G.distance(T),C=E+D,z>C?(z=C,y=[{sample:G,refDistance:D}]):z+1>C&&y.push({sample:G,refDistance:D})}y.sort(function(q,p){return q.refDistance-p.refDistance}),y[0]&&(O=y[0].sample)}}return O}},n.prototype.setAttribute=function(q,p){var s=this.node;if(null===p){return this.removeAttr(q),this}var r=n.qualifyAttr(q);return r.ns?s.setAttributeNS(r.ns,q,p):"id"===q?s.id=p:s.setAttribute(q,p),this},n.createSvgDocument=function(p){var r='<svg xmlns="'+g.xmlns+'" xmlns:xlink="'+g.xlink+'" version="'+o+'">'+(p||"")+"</svg>",q=n.parseXML(r,{async:!1});return q.documentElement},n.idCounter=0,n.uniqueId=function(){var p=++n.idCounter+"";return"v-"+p},n.sanitizeText=function(p){return(p||"").replace(/ /g,"\xa0")},n.isUndefined=function(p){return"undefined"==typeof p},n.isString=function(p){return"string"==typeof p},n.isObject=function(p){return p&&"object"==typeof p},n.isArray=Array.isArray,n.parseXML=function(q,p){p=p||{};var t;try{var s=new DOMParser;n.isUndefined(p.async)||(s.async=p.async),t=s.parseFromString(q,"text/xml")}catch(r){t=void 0}if(!t||t.getElementsByTagName("parsererror").length){throw new Error("Invalid XML: "+q)}return t},n.qualifyAttr=function(p){if(-1!==p.indexOf(":")){var q=p.split(":");return{ns:g[q[0]],local:q[1]}}return{ns:null,local:p}},n.parseTransformString=function(x){var w,v,u;if(x){var t=/[ ,]+/,s=x.match(/translate\((.*)\)/);s&&(w=s[1].split(t));var r=x.match(/rotate\((.*)\)/);r&&(v=r[1].split(t));var q=x.match(/scale\((.*)\)/);q&&(u=q[1].split(t))}var p=u&&u[0]?parseFloat(u[0]):1;return{translate:{tx:w&&w[0]?parseInt(w[0],10):0,ty:w&&w[1]?parseInt(w[1],10):0},rotate:{angle:v&&v[0]?parseInt(v[0],10):0,cx:v&&v[1]?parseInt(v[1],10):void 0,cy:v&&v[2]?parseInt(v[2],10):void 0},scale:{sx:p,sy:u&&u[1]?parseFloat(u[1]):p}}},n.deltaTransformPoint=function(q,p){var s=p.x*q.a+p.y*q.c+0,r=p.x*q.b+p.y*q.d+0;return{x:s,y:r}},n.decomposeMatrix=function(q){var p=n.deltaTransformPoint(q,{x:0,y:1}),t=n.deltaTransformPoint(q,{x:1,y:0}),s=180/Math.PI*Math.atan2(p.y,p.x)-90,r=180/Math.PI*Math.atan2(t.y,t.x);return{translateX:q.e,translateY:q.f,scaleX:Math.sqrt(q.a*q.a+q.b*q.b),scaleY:Math.sqrt(q.c*q.c+q.d*q.d),skewX:s,skewY:r,rotation:s}},n.isV=function(p){return p instanceof n},n.isVElement=n.isV;var m=n("svg").node;return n.createSVGMatrix=function(q){var p=m.createSVGMatrix();for(var r in q){p[r]=q[r]}return p},n.createSVGTransform=function(p){return n.isUndefined(p)?m.createSVGTransform():(p instanceof SVGMatrix||(p=n.createSVGMatrix(p)),m.createSVGTransformFromMatrix(p))},n.createSVGPoint=function(q,p){var r=m.createSVGPoint();return r.x=q,r.y=p,r},n.transformRect=function(z,y){var x=m.createSVGPoint();x.x=z.x,x.y=z.y;var w=x.matrixTransform(y);x.x=z.x+z.width,x.y=z.y;var v=x.matrixTransform(y);x.x=z.x+z.width,x.y=z.y+z.height;var u=x.matrixTransform(y);x.x=z.x,x.y=z.y+z.height;var t=x.matrixTransform(y),s=Math.min(w.x,v.x,u.x,t.x),r=Math.max(w.x,v.x,u.x,t.x),q=Math.min(w.y,v.y,u.y,t.y),p=Math.max(w.y,v.y,u.y,t.y);return{x:s,y:q,width:r-s,height:p-q}},n.transformPoint=function(q,p){return n.createSVGPoint(q.x,q.y).matrixTransform(p)},n.styleToObject=function(q){for(var p={},u=q.split(";"),t=0;t<u.length;t++){var s=u[t],r=s.split("=");p[r[0].trim()]=r[1].trim()}return p},n.createSlicePathData=function(D,C,B,A){var z=2*Math.PI-0.000001,y=D,x=C,w=B,v=A,u=(w>v&&(u=w,w=v,v=u),v-w),t=u<Math.PI?"0":"1",s=Math.cos(w),r=Math.sin(w),q=Math.cos(v),p=Math.sin(v);return u>=z?y?"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+-x+"A"+x+","+x+" 0 1,1 0,"+x+"M0,"+y+"A"+y+","+y+" 0 1,0 0,"+-y+"A"+y+","+y+" 0 1,0 0,"+y+"Z":"M0,"+x+"A"+x+","+x+" 0 1,1 0,"+-x+"A"+x+","+x+" 0 1,1 0,"+x+"Z":y?"M"+x*s+","+x*r+"A"+x+","+x+" 0 "+t+",1 "+x*q+","+x*p+"L"+y*q+","+y*p+"A"+y+","+y+" 0 "+t+",0 "+y*s+","+y*r+"Z":"M"+x*s+","+x*r+"A"+x+","+x+" 0 "+t+",1 "+x*q+","+x*p+"L0,0Z"},n.mergeAttrs=function(q,p){for(var r in p){"class"===r?q[r]=q[r]?q[r]+" "+p[r]:p[r]:"style"===r?n.isObject(q[r])&&n.isObject(p[r])?q[r]=n.mergeAttrs(q[r],p[r]):n.isObject(q[r])?q[r]=n.mergeAttrs(q[r],n.styleToObject(p[r])):n.isObject(p[r])?q[r]=n.mergeAttrs(n.styleToObject(q[r]),p[r]):q[r]=n.mergeAttrs(n.styleToObject(q[r]),n.styleToObject(p[r])):q[r]=p[r]}return q},n.annotateString=function(C,B,A){B=B||[],A=A||{};for(var z,y,x,w=A.offset||0,v=[],u=[],t=0;t<C.length;t++){y=u[t]=C[t];for(var s=0;s<B.length;s++){var r=B[s],q=r.start+w,p=r.end+w;t>=q&&p>t&&(n.isObject(y)?y.attrs=n.mergeAttrs(n.mergeAttrs({},y.attrs),r.attrs):y=u[t]={t:C[t],attrs:r.attrs},A.includeAnnotationIndices&&(y.annotations||(y.annotations=[])).push(s))}x=u[t-1],x?n.isObject(y)&&n.isObject(x)?JSON.stringify(y.attrs)===JSON.stringify(x.attrs)?z.t+=y.t:(v.push(z),z=y):n.isObject(y)?(v.push(z),z=y):n.isObject(x)?(v.push(z),z=y):z=(z||"")+y:z=y}return z&&v.push(z),v},n.findAnnotationsAtIndex=function(q,p){var r=[];return q&&q.forEach(function(s){s.start<p&&p<=s.end&&r.push(s)}),r},n.findAnnotationsBetweenIndexes=function(q,p,s){var r=[];return q&&q.forEach(function(t){(p>=t.start&&p<t.end||s>t.start&&s<=t.end||t.start>=p&&t.end<s)&&r.push(t)}),r},n.shiftAnnotations=function(q,p,r){return q&&q.forEach(function(s){s.start<p&&s.end>=p?s.end+=r:s.start>=p&&(s.start+=r,s.end+=r)}),q},n.convertLineToPathData=function(q){q=n(q);var p=["M",q.attr("x1"),q.attr("y1"),"L",q.attr("x2"),q.attr("y2")].join(" ");return p},n.convertPolygonToPathData=function(q){q=n(q);var p=n.getPointsFromSvgNode(q.node);return p.length>0?n.svgPointsToPath(p):null},n.convertPolylineToPathData=function(q){var p=n.getPointsFromSvgNode(q.node);return p.length>0?n.svgPointsToPath(p):null},n.svgPointsToPath=function(q){var p;for(p=0;p<q.length;p++){q[p]=q[p].x+" "+q[p].y}return"M "+q.join(" L")+" Z"},n.getPointsFromSvgNode=function(q){var p,r=[];for(p=0;p<q.points.numberOfItems;p++){r.push(q.points.getItem(p))}return r},n.KAPPA=0.5522847498307935,n.convertCircleToPathData=function(q){q=n(q);var p=parseFloat(q.attr("cx"))||0,u=parseFloat(q.attr("cy"))||0,t=parseFloat(q.attr("r")),s=t*n.KAPPA,r=["M",p,u-t,"C",p+s,u-t,p+t,u-s,p+t,u,"C",p+t,u+s,p+s,u+t,p,u+t,"C",p-s,u+t,p-t,u+s,p-t,u,"C",p-t,u-s,p-s,u-t,p,u-t,"Z"].join(" ");return r},n.convertEllipseToPathData=function(q){q=n(q);var p=parseFloat(q.attr("cx"))||0,w=parseFloat(q.attr("cy"))||0,v=parseFloat(q.attr("rx")),u=parseFloat(q.attr("ry"))||v,t=v*n.KAPPA,s=u*n.KAPPA,r=["M",p,w-u,"C",p+t,w-u,p+v,w-s,p+v,w,"C",p+v,w+s,p+t,w+u,p,w+u,"C",p-t,w+u,p-v,w+s,p-v,w,"C",p-v,w-s,p-t,w-u,p,w-u,"Z"].join(" ");return r},n.convertRectToPathData=function(z){z=n(z);var y,x=parseFloat(z.attr("x"))||0,w=parseFloat(z.attr("y"))||0,v=parseFloat(z.attr("width"))||0,u=parseFloat(z.attr("height"))||0,t=parseFloat(z.attr("rx"))||0,s=parseFloat(z.attr("ry"))||0,r=h.rect(x,w,v,u);if(t||s){var q=x+v,p=w+u;y=["M",x+t,w,"L",q-t,w,"Q",q,w,q,w+s,"L",q,w+u-s,"Q",q,p,q-t,p,"L",x+t,p,"Q",x,p,x,p-t,"L",x,w+s,"Q",x,w,x+t,w,"Z"].join(" ")}else{y=["M",r.origin().x,r.origin().y,"H",r.corner().x,"V",r.corner().y,"H",r.origin().x,"V",r.origin().y,"Z"].join(" ")}return y},n.rectToPath=function(q){var p=q.rx||q["top-rx"]||0,t=q.rx||q["bottom-rx"]||0,s=q.ry||q["top-ry"]||0,r=q.ry||q["bottom-ry"]||0;return["M",q.x,q.y+s,"v",q.height-s-r,"a",t,r,0,0,0,t,r,"h",q.width-2*t,"a",t,r,0,0,0,t,-r,"v",-(q.height-r-s),"a",p,s,0,0,0,-p,-s,"h",-(q.width-2*p),"a",p,s,0,0,0,-p,s].join(" ")},n.toNode=function(p){return n.isV(p)?p.node:p.nodeName&&p||p[0]},n}();var e={version:"0.9.8",dia:{},ui:{},layout:{},shapes:{},format:{},connectors:{},highlighters:{},routers:{},mvc:{views:{}},setTheme:function(l,g){g=g||{},k.invoke(e.mvc.views,"setTheme",l,g),e.mvc.View.prototype.defaultTheme=l},env:{_results:{},_tests:{svgforeignobject:function(){return !!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(l,g){return e.env._tests[l]=g},test:function(l){var g=e.env._tests[l];if(!g){throw new Error('Test not defined ("'+l+'"). Use `joint.env.addTest(name, fn) to add a new test.`')}var n=e.env._results[l];if("undefined"!=typeof n){return n}try{n=g()}catch(m){n=!1}return e.env._results[l]=n,n}},util:{hashCode:function(l){var g=0;if(0==l.length){return g}for(var n=0;n<l.length;n++){var m=l.charCodeAt(n);g=(g<<5)-g+m,g&=g}return g},getByPath:function(l,g,o){o=o||"/";for(var n,m=g.split(o);m.length;){if(n=m.shift(),!(Object(l)===l&&n in l)){return}l=l[n]}return l},setByPath:function(m,l,s,r){r=r||"/";var q=l.split(r),p=m,o=0;if(l.indexOf(r)>-1){for(var n=q.length;n-1>o;o++){p=p[q[o]]||(p[q[o]]={})}p[q[n-1]]=s}else{m[l]=s}return m},unsetByPath:function(l,g,o){o=o||"/";var n=g.lastIndexOf(o);if(n>-1){var m=e.util.getByPath(l,g.substr(0,n),o);m&&delete m[g.slice(n+1)]}else{delete l[g]}return l},flattenObject:function(m,l,s){l=l||"/";var r={};for(var q in m){if(m.hasOwnProperty(q)){var p="object"==typeof m[q];if(p&&s&&s(m[q])&&(p=!1),p){var o=this.flattenObject(m[q],l,s);for(var n in o){o.hasOwnProperty(n)&&(r[q+l+n]=o[n])}}else{r[q]=m[q]}}}return r},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var g=16*Math.random()|0,m="x"==l?g:3&g|8;return m.toString(16)})},guid:function(g){return this.guid.id=this.guid.id||1,g.id=void 0===g.id?"j_"+this.guid.id++:g.id,g.id},mixin:function(){for(var l=arguments[0],g=1,n=arguments.length;n>g;g++){var m=arguments[g];(Object(m)===m||k.isFunction(m)||null!==m&&void 0!==m)&&k.each(m,function(o,p){return this.mixin.deep&&Object(o)===o?(l[p]||(l[p]=k.isArray(o)?[]:{}),void this.mixin(l[p],o)):void (l[p]!==o&&(this.mixin.supplement&&l.hasOwnProperty(p)||(l[p]=o)))},this)}return l},supplement:function(){this.mixin.supplement=!0;var g=this.mixin.apply(this,arguments);return this.mixin.supplement=!1,g},deepMixin:function(){this.mixin.deep=!0;var g=this.mixin.apply(this,arguments);return this.mixin.deep=!1,g},deepSupplement:function(){this.mixin.deep=this.mixin.supplement=!0;var g=this.mixin.apply(this,arguments);return this.mixin.deep=this.mixin.supplement=!1,g},normalizeEvent:function(l){var g=l.originalEvent&&l.originalEvent.changedTouches&&l.originalEvent.changedTouches[0];if(g){for(var m in l){void 0===g[m]&&(g[m]=l[m])}return g}return l},nextFrame:function(){var l;if("undefined"!=typeof window&&(l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!l){var g=0;l=function(m){var p=(new Date).getTime(),o=Math.max(0,16-(p-g)),n=setTimeout(function(){m(p+o)},o);return g=p+o,n}}return function(m,n){return l(n?k.bind(m,n):m)}}(),cancelFrame:function(){var l,g="undefined"!=typeof window;return g&&(l=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),l=l||clearTimeout,g?k.bind(l,window):l}(),shapePerimeterConnectionPoint:function(l,g,r,q){var p,o;if(!r){var n=g.$(".scalable")[0],m=g.$(".rotatable")[0];n&&n.firstChild?r=n.firstChild:m&&m.firstChild&&(r=m.firstChild)}return r?(o=c(r).findIntersection(q,l.paper.viewport),o||(p=h.rect(c(r).bbox(!1,l.paper.viewport)))):(p=g.model.getBBox(),o=p.intersectionWithLineFromCenterToPoint(q)),o||p.center()},breakText:function(N,M,L,K){K=K||{};var J=M.width,I=M.height,H=K.svgDocument||c("svg").node,G=c("<text><tspan></tspan></text>").attr(L||{}).node,F=G.firstChild,E=document.createTextNode("");G.style.opacity=0,G.style.display="block",F.style.display="block",F.appendChild(E),H.appendChild(G),K.svgDocument||document.body.appendChild(H);for(var D,C=N.split(" "),B=[],A=[],z=0,y=0,x=C.length;x>z;z++){var w=C[z];if(E.data=A[y]?A[y]+" "+w:w,F.getComputedTextLength()<=J){A[y]=E.data,D&&(B[y++]=!0,D=0)}else{if(!A[y]||D){var v=!!D;if(D=w.length-1,v||!D){if(!D){if(!A[y]){A=[];break}C.splice(z,2,w+C[z+1]),x--,B[y++]=!0,z--;continue}C[z]=w.substring(0,D),C[z+1]=w.substring(D)+C[z+1]}else{C.splice(z,1,w.substring(0,D),w.substring(D)),x++,y&&!B[y-1]&&y--}z--;continue}y++,z--}if("undefined"!=typeof I){var u=u||1.25*G.getBBox().height;if(u*A.length>I){A.splice(Math.floor(I/u));break}}}return K.svgDocument?H.removeChild(G):document.body.removeChild(H),A.join("\n")},imageToDataUri:function(l,g){if(!l||"data:"===l.substr(0,"data:".length)){return setTimeout(function(){g(null,l)},0)}var n=document.createElement("canvas"),m=document.createElement("img");m.onload=function(){var t=n.getContext("2d");n.width=m.width,n.height=m.height,t.drawImage(m,0,0);try{var s=(l.split(".").pop()||"png","jpeg"),r=n.toDataURL(s)}catch(q){if(/\.svg$/.test(l)){var p=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");p.open("GET",l,!1),p.send(null);var o=p.responseText;return g(null,"data:image/svg+xml,"+encodeURIComponent(o))}console.error(m.src,"fails to convert",q)}g(null,r)},m.ononerror=function(){g(new Error("Failed to load image."))},m.src=l},getElementBBox:function(m){var l,r=f(m),q=r.offset();if(m.ownerSVGElement){l=c(m).bbox();var p=m.getBoundingClientRect(),o=(p.width-l.width)/2,n=(p.height-l.height)/2;l.x=q.left+o,l.y=q.top+n}else{l={x:q.left,y:q.top,width:r.outerWidth(),height:r.outerHeight()}}return l},sortElements:function(l,g){var n=f(l),m=n.map(function(){var p=this,o=p.parentNode,q=o.insertBefore(document.createTextNode(""),p.nextSibling);return function(){if(o===this){throw new Error("You can't sort elements if any one is a descendant of another.")}o.insertBefore(this,q),o.removeChild(q)}});return Array.prototype.sort.call(n,g).each(function(o){m[o].call(this)})},setAttributesBySelector:function(l,g){var m=f(l);k.each(g,function(o,n){var p=m.find(n).addBack().filter(n);k.has(o,"class")&&(p.addClass(o["class"]),o=k.omit(o,"class")),p.attr(o)})},normalizeSides:function(g){return Object(g)!==g?(g=g||0,{top:g,bottom:g,left:g,right:g}):{top:g.top||0,bottom:g.bottom||0,left:g.left||0,right:g.right||0}},timing:{linear:function(g){return g},quad:function(g){return g*g},cubic:function(g){return g*g*g},inout:function(l){if(0>=l){return 0}if(l>=1){return 1}var g=l*l,m=g*l;return 4*(0.5>l?m:3*(l-g)+m-0.75)},exponential:function(g){return Math.pow(2,10*(g-1))},bounce:function(l){for(var g=0,n=1;1;g+=n,n/=2){if(l>=(7-4*g)/11){var m=(11-6*g-11*l)/4;return -m*m+n*n}}},reverse:function(g){return function(l){return 1-g(1-l)}},reflect:function(g){return function(l){return 0.5*(0.5>l?g(2*l):2-g(2-2*l))}},clamp:function(l,g,m){return g=g||0,m=m||1,function(o){var n=l(o);return g>n?g:n>m?m:n}},back:function(g){return g||(g=1.70158),function(l){return l*l*((g+1)*l-g)}},elastic:function(g){return g||(g=1.5),function(l){return Math.pow(2,10*(l-1))*Math.cos(20*Math.PI*g/3*l)}}},interpolate:{number:function(l,g){var m=g-l;return function(n){return l+m*n}},object:function(l,g){var m=k.keys(l);return function(q){var p,o,n={};for(p=m.length-1;-1!=p;p--){o=m[p],n[o]=l[o]+(g[o]-l[o])*q}return n}},hexColor:function(u,t){var s=parseInt(u.slice(1),16),r=parseInt(t.slice(1),16),q=255&s,p=(255&r)-q,o=65280&s,n=(65280&r)-o,m=16711680&s,l=(16711680&r)-m;return function(v){var g=q+p*v&255,x=o+n*v&65280,w=m+l*v&16711680;return"#"+(1<<24|g|x|w).toString(16).slice(1)}},unit:function(t,s){var r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,q=r.exec(t),p=r.exec(s),o=p[1].indexOf("."),n=o>0?p[1].length-o-1:0;t=+q[1];var m=+p[1]-t,l=q[2];return function(g){return(t+m*g).toFixed(n)+l}}},filter:{outline:function(l){var g='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=k.isFinite(l.margin)?l.margin:2,m=k.isFinite(l.width)?l.width:1;return e.util.template(g)({color:l.color||"blue",opacity:k.isFinite(l.opacity)?l.opacity:1,outerRadius:n+m,innerRadius:n})},highlight:function(l){var g='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return e.util.template(g)({color:l.color||"red",width:k.isFinite(l.width)?l.width:1,blur:k.isFinite(l.blur)?l.blur:0,opacity:k.isFinite(l.opacity)?l.opacity:1})},blur:function(l){var g=k.isFinite(l.x)?l.x:2;return e.util.template('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:k.isFinite(l.y)?[g,l.y]:g})},dropShadow:function(l){var g="SVGFEDropShadowElement" in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return e.util.template(g)({dx:l.dx||0,dy:l.dy||0,opacity:k.isFinite(l.opacity)?l.opacity:1,color:l.color||"black",blur:k.isFinite(l.blur)?l.blur:4})},grayscale:function(l){var g=k.isFinite(l.amount)?l.amount:1;return e.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:0.2126+0.7874*(1-g),b:0.7152-0.7152*(1-g),c:0.0722-0.0722*(1-g),d:0.2126-0.2126*(1-g),e:0.7152+0.2848*(1-g),f:0.0722-0.0722*(1-g),g:0.2126-0.2126*(1-g),h:0.0722+0.9278*(1-g)})},sepia:function(l){var g=k.isFinite(l.amount)?l.amount:1;return e.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:0.393+0.607*(1-g),b:0.769-0.769*(1-g),c:0.189-0.189*(1-g),d:0.349-0.349*(1-g),e:0.686+0.314*(1-g),f:0.168-0.168*(1-g),g:0.272-0.272*(1-g),h:0.534-0.534*(1-g),i:0.131+0.869*(1-g)})},saturate:function(l){var g=k.isFinite(l.amount)?l.amount:1;return e.util.template('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-g})},hueRotate:function(g){return e.util.template('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:g.angle||0})},invert:function(l){var g=k.isFinite(l.amount)?l.amount:1;return e.util.template('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:g,amount2:1-g})},brightness:function(g){return e.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:k.isFinite(g.amount)?g.amount:1})},contrast:function(l){var g=k.isFinite(l.amount)?l.amount:1;return e.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:g,amount2:0.5-g/2})}},format:{number:function(ae,ad,ac){function ab(l){for(var g=l.length,o=[],n=0,m=ac.grouping[0];g>0&&m>0;){o.push(l.substring(g-=m,g+m)),m=ac.grouping[n=(n+1)%ac.grouping.length]}return o.reverse().join(ac.thousands)}ac=ac||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var aa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Z=aa.exec(ae),Y=Z[1]||" ",X=Z[2]||">",W=Z[3]||"",U=Z[4]||"",T=Z[5],S=+Z[6],R=Z[7],Q=Z[8],P=Z[9],O=1,M="",K="",J=!1;switch(Q&&(Q=+Q.substring(1)),(T||"0"===Y&&"="===X)&&(T=Y="0",X="=",R&&(S-=Math.floor((S-1)/4))),P){case"n":R=!0,P="g";break;case"%":O=100,K="%",P="f";break;case"p":O=100,K="%",P="r";break;case"b":case"o":case"x":case"X":"#"===U&&(M="0"+P.toLowerCase());case"c":case"d":J=!0,Q=0;break;case"s":O=-1,P="r"}"$"===U&&(M=ac.currency[0],K=ac.currency[1]),"r"!=P||Q||(P="g"),null!=Q&&("g"==P?Q=Math.max(1,Math.min(21,Q)):"e"!=P&&"f"!=P||(Q=Math.max(0,Math.min(20,Q))));var I=T&&R;if(J&&ad%1){return""}var H=0>ad||0===ad&&0>1/ad?(ad=-ad,"-"):W,G=K;if(0>O){var F=this.prefix(ad,Q);ad=F.scale(ad),G=F.symbol+K}else{ad*=O}ad=this.convert(P,ad,Q);var E=ad.lastIndexOf("."),D=0>E?ad:ad.substring(0,E),C=0>E?"":ac.decimal+ad.substring(E+1);!T&&R&&ac.grouping&&(D=ab(D));var N=M.length+D.length+C.length+(I?0:H.length),L=S>N?new Array(N=S-N+1).join(Y):"";return I&&(D=ab(L+D)),H+=M,ad=D+C,("<"===X?H+ad+L:">"===X?L+H+ad:"^"===X?L.substring(0,N>>=1)+H+ad+L.substring(N):H+(I?ad:L+ad))+G},string:function(u,t){for(var s,r="{",q=!1,p=[];-1!==(s=u.indexOf(r));){var o,n,m;if(o=u.slice(0,s),q){n=o.split(":"),m=n.shift().split("."),o=t;for(var l=0;l<m.length;l++){o=o[m[l]]}n.length&&(o=this.number(n,o))}p.push(o),u=u.slice(s+1),r=(q=!q)?"}":"{"}return p.push(u),p.join("")},convert:function(l,g,m){switch(l){case"b":return g.toString(2);case"c":return String.fromCharCode(g);case"o":return g.toString(8);case"x":return g.toString(16);case"X":return g.toString(16).toUpperCase();case"g":return g.toPrecision(m);case"e":return g.toExponential(m);case"f":return g.toFixed(m);case"r":return(g=this.round(g,this.precision(g,m))).toFixed(Math.max(0,Math.min(20,this.precision(g*(1+1e-15),m))));default:return g+""}},round:function(l,g){return g?Math.round(l*(g=Math.pow(10,g)))/g:Math.round(l)},precision:function(l,g){return g-(l?Math.ceil(Math.log(l)/Math.LN10):1)},prefix:function(l,g){var n=k.map(["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],function(p,o){var q=Math.pow(10,3*Math.abs(8-o));return{scale:o>8?function(r){return r/q}:function(r){return r*q},symbol:p}}),m=0;return l&&(0>l&&(l*=-1),g&&(l=this.round(l,this.precision(l,g))),m=1+Math.floor(1e-12+Math.log(l)/Math.LN10),m=Math.max(-24,Math.min(24,3*Math.floor((0>=m?m+1:m-1)/3)))),n[8+m/3]}},template:function(l){var g=/<%= ([^ ]+) %>|\$\{ ?([^\{\} ]+) ?\}|\{\{([^\{\} ]+)\}\}/g;return function(m){return l.replace(g,function(o){for(var n=Array.prototype.slice.call(arguments),r=k.find(n.slice(1,4),function(s){return !!s}),q=r.split("."),p=m[q.shift()];!k.isUndefined(p)&&q.length;){p=p[q.shift()]}return k.isUndefined(p)?"":p})}},toggleFullScreen:function(l){function g(n,m){for(var r=["webkit","moz","ms","o",""],q=0;q<r.length;q++){var p=r[q],o=p?p+m:m.substr(0,1).toLowerCase()+m.substr(1);if(!k.isUndefined(n[o])){return k.isFunction(n[o])?n[o]():n[o]}}}l=l||document.body,g(document,"FullScreen")||g(document,"IsFullScreen")?g(document,"CancelFullScreen"):g(l,"RequestFullScreen")},wrapWith:function(l,g,m){if(k.isString(m)){if(!e.util.wrappers[m]){throw new Error('Unknown wrapper: "'+m+'"')}m=e.util.wrappers[m]}if(!k.isFunction(m)){throw new Error("Wrapper must be a function.")}k.each(g,function(n){l[n]=m(l[n])})},wrappers:{cells:function(g){return function(){var l=Array.prototype.slice.call(arguments),n=l.length>0&&k.first(l)||[],m=l.length>1&&k.last(l)||{};return k.isArray(n)||(m instanceof e.dia.Cell?(n=l,m={}):n=k.initial(l)),g.call(this,n,m)}}}}};e.mvc.View=j.View.extend({options:{},theme:null,themeClassNamePrefix:"joint-theme-",requireSetThemeOverride:!1,defaultTheme:"default",constructor:function(g){j.View.call(this,g)},initialize:function(g){this.requireSetThemeOverride=g&&!!g.theme,this.options=k.extend({},this.options,g),k.bindAll(this,"setTheme","onSetTheme","remove","onRemove"),e.mvc.views[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this._ensureElClassName(),this.init()},_ensureElClassName:function(){var g=k.result(this,"className");this.$el.addClass(g)},init:function(){},onRender:function(){},setTheme:function(l,g){return g=g||{},this.theme&&this.requireSetThemeOverride&&!g.override?void 0:(this.theme&&this.$el.removeClass(this.themeClassNamePrefix+this.theme),this.$el.addClass(this.themeClassNamePrefix+l),this.onSetTheme(this.theme,l),this.theme=l,this)},onSetTheme:function(l,g){},remove:function(){return this.onRemove(),e.mvc.views[this.cid]=null,j.View.prototype.remove.apply(this,arguments),this},onRemove:function(){}}),function(){e.mvc.View._extend=e.mvc.View.extend,e.mvc.View.extend=function(l,g){l=l||{};var m=l.render||this.prototype.render||null;return l.render=function(){return m&&m.apply(this,arguments),this.onRender(),this},e.mvc.View._extend.call(this,l,g)}}(),e.dia.GraphCells=j.Collection.extend({cellNamespace:e.shapes,initialize:function(l,g){g.cellNamespace&&(this.cellNamespace=g.cellNamespace),this.graph=g.graph},model:function(l,g){var p=g.collection,o=p.cellNamespace,n="link"===l.type?e.dia.Link:e.util.getByPath(o,l.type,".")||e.dia.Element,m=new n(l,g);return m.graph=p.graph,m},comparator:function(g){return g.get("z")||0}}),e.dia.Graph=j.Model.extend({_batches:{},initialize:function(l,g){g=g||{};var m=new e.dia.GraphCells([],{model:g.cellModel,cellNamespace:g.cellNamespace,graph:this});j.Model.prototype.set.call(this,"cells",m),m.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this.on("batch:stop",this._onBatchStop,this),this._out={},this._in={},this._nodes={},this._edges={},m.on("add",this._restructureOnAdd,this),m.on("remove",this._restructureOnRemove,this),m.on("reset",this._restructureOnReset,this),m.on("change:source",this._restructureOnChangeSource,this),m.on("change:target",this._restructureOnChangeTarget,this),m.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.hasActiveBatch("to-front")||this.hasActiveBatch("to-back")||this.get("cells").sort()},_onBatchStop:function(l){var g=l&&l.batchName;"to-front"!==g&&"to-back"!==g||this.hasActiveBatch(g)||this.get("cells").sort()},_restructureOnAdd:function(l){if(l.isLink()){this._edges[l.id]=!0;var g=l.get("source"),m=l.get("target");g.id&&((this._out[g.id]||(this._out[g.id]={}))[l.id]=!0),m.id&&((this._in[m.id]||(this._in[m.id]={}))[l.id]=!0)}else{this._nodes[l.id]=!0}},_restructureOnRemove:function(l){if(l.isLink()){delete this._edges[l.id];var g=l.get("source"),m=l.get("target");g.id&&this._out[g.id]&&this._out[g.id][l.id]&&delete this._out[g.id][l.id],m.id&&this._in[m.id]&&this._in[m.id][l.id]&&delete this._in[m.id][l.id]}else{delete this._nodes[l.id]}},_restructureOnReset:function(g){g=g.models,this._out={},this._in={},this._nodes={},this._edges={},k.each(g,this._restructureOnAdd,this)},_restructureOnChangeSource:function(l){var g=l.previous("source");g.id&&this._out[g.id]&&delete this._out[g.id][l.id];var m=l.get("source");m.id&&((this._out[m.id]||(this._out[m.id]={}))[l.id]=!0)},_restructureOnChangeTarget:function(l){var g=l.previous("target");g.id&&this._in[g.id]&&delete this._in[g.id][l.id];var m=l.get("target");m.id&&((this._in[m.id]||(this._in[m.id]={}))[l.id]=!0)},getOutboundEdges:function(g){return this._out&&this._out[g]||{}},getInboundEdges:function(g){return this._in&&this._in[g]||{}},toJSON:function(){var g=j.Model.prototype.toJSON.apply(this,arguments);return g.cells=this.get("cells").toJSON(),g},fromJSON:function(l,g){if(!l.cells){throw new Error("Graph JSON must contain cells array.")}return this.set(l,g)},set:function(l,g,n){var m;return"object"==typeof l?(m=l,n=g):(m={})[l]=g,m.hasOwnProperty("cells")&&(this.resetCells(m.cells,n),m=k.omit(m,"cells")),j.Model.prototype.set.call(this,m,n)},clear:function(l){l=k.extend({},l,{clear:!0});var g=this.get("cells");if(0===g.length){return this}this.startBatch("clear",l);var m=g.sortBy(function(n){return n.isLink()?1:2});do{m.shift().remove(l)}while(m.length>0);return this.stopBatch("clear"),this},_prepareCell:function(l){var g;if(l instanceof j.Model?(g=l.attributes,l.graph=this):g=l,!k.isString(g.type)){throw new TypeError("dia.Graph: cell type must be a string.")}return l},maxZIndex:function(){var g=this.get("cells").last();return g?g.get("z")||0:0},addCell:function(l,g){return k.isArray(l)?this.addCells(l,g):(l instanceof j.Model?l.has("z")||l.set("z",this.maxZIndex()+1):k.isUndefined(l.z)&&(l.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(l),g||{}),this)},addCells:function(l,g){return l.length&&(g.position=l.length,this.startBatch("add"),k.each(l,function(m){g.position--,this.addCell(m,g)},this),this.stopBatch("add")),this},resetCells:function(l,g){return this.get("cells").reset(k.map(l,this._prepareCell,this),g),this},removeCells:function(l,g){return l.length&&(this.startBatch("remove"),k.invoke(l,"remove",g),this.stopBatch("remove")),this},_removeCell:function(l,g,m){m=m||{},m.clear||(m.disconnectLinks?this.disconnectLinks(l,m):this.removeLinks(l,m)),this.get("cells").remove(l,{silent:!0}),delete l.graph},getCell:function(g){return this.get("cells").get(g)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return k.map(this._nodes,function(l,g){return this.getCell(g)},this)},getLinks:function(){return k.map(this._edges,function(l,g){return this.getCell(g)},this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(m,l){l=l||{};var s=l.inbound,r=l.outbound;k.isUndefined(s)&&k.isUndefined(r)&&(s=r=!0);var q=[],p={};if(r&&k.each(this.getOutboundEdges(m.id),function(t,g){p[g]||(q.push(this.getCell(g)),p[g]=!0)},this),s&&k.each(this.getInboundEdges(m.id),function(t,g){p[g]||(q.push(this.getCell(g)),p[g]=!0)},this),l.deep){var o=m.getEmbeddedCells({deep:!0}),n={};k.each(o,function(g){g.isLink()&&(n[g.id]=!0)}),k.each(o,function(g){g.isLink()||(r&&k.each(this.getOutboundEdges(g.id),function(u,t){p[t]||n[t]||(q.push(this.getCell(t)),p[t]=!0)},this),s&&k.each(this.getInboundEdges(g.id),function(u,t){p[t]||n[t]||(q.push(this.getCell(t)),p[t]=!0)},this))},this)}return q},getNeighbors:function(l,g){g=g||{};var o=g.inbound,n=g.outbound;k.isUndefined(o)&&k.isUndefined(n)&&(o=n=!0);var m=k.transform(this.getConnectedLinks(l,g),function(v,u){var t=u.get("source"),s=u.get("target"),r=u.hasLoop(g);if(o&&k.has(t,"id")&&!v[t.id]){var q=this.getCell(t.id);!r&&(!q||q===l||g.deep&&q.isEmbeddedIn(l))||(v[t.id]=q)}if(n&&k.has(s,"id")&&!v[s.id]){var p=this.getCell(s.id);!r&&(!p||p===l||g.deep&&p.isEmbeddedIn(l))||(v[s.id]=p)}},{},this);return k.values(m)},getCommonAncestor:function(){var l=k.map(arguments,function(n){for(var m=[],o=n.get("parent");o;){m.push(o),o=this.getCell(o).get("parent")}return m},this);l=k.sortBy(l,"length");var g=k.find(l.shift(),function(m){return k.every(l,function(n){return k.contains(n,m)})});return this.getCell(g)},getSuccessors:function(l,g){g=g||{};var m=[];return this.search(l,function(n){n!==l&&m.push(n)},k.extend({},g,{outbound:!0})),m},cloneCells:function(l){l=k.unique(l);var g=k.transform(l,function(n,m){n[m.id]=m.clone()},{});return k.each(l,function(m){var r=g[m.id];if(r.isLink()){var q=r.get("source"),p=r.get("target");q.id&&g[q.id]&&r.prop("source/id",g[q.id].id),p.id&&g[p.id]&&r.prop("target/id",g[p.id].id)}var o=m.get("parent");o&&g[o]&&r.set("parent",g[o].id);var n=k.reduce(m.get("embeds"),function(s,t){return g[t]&&s.push(g[t].id),s},[]);k.isEmpty(n)||r.set("embeds",n)}),g},cloneSubgraph:function(l,g){var m=this.getSubgraph(l,g);return this.cloneCells(m)},getSubgraph:function(l,g){g=g||{};var p=[],o={},n=[],m=[];return k.each(l,function(q){if(o[q.id]||(p.push(q),o[q.id]=q,q.isLink()?m.push(q):n.push(q)),g.deep){var r=q.getEmbeddedCells({deep:!0});k.each(r,function(s){o[s.id]||(p.push(s),o[s.id]=s,s.isLink()?m.push(s):n.push(s))})}}),k.each(m,function(r){var q=r.get("source"),u=r.get("target");if(q.id&&!o[q.id]){var t=this.getCell(q.id);p.push(t),o[t.id]=t,n.push(t)}if(u.id&&!o[u.id]){var s=this.getCell(u.id);p.push(this.getCell(u.id)),o[s.id]=s,n.push(s)}},this),k.each(n,function(q){var r=this.getConnectedLinks(q,g);k.each(r,function(t){var s=t.get("source"),u=t.get("target");!o[t.id]&&s.id&&o[s.id]&&u.id&&o[u.id]&&(p.push(t),o[t.id]=t)})},this),p},getPredecessors:function(l,g){g=g||{};var m=[];return this.search(l,function(n){n!==l&&m.push(n)},k.extend({},g,{inbound:!0})),m},search:function(l,g,m){m=m||{},m.breadthFirst?this.bfs(l,g,m):this.dfs(l,g,m)},bfs:function(m,l,r){r=r||{};var q={},p={},o=[];for(o.push(m),p[m.id]=0;o.length>0;){var n=o.shift();if(!q[n.id]){if(q[n.id]=!0,l(n,p[n.id])===!1){return}k.each(this.getNeighbors(n,r),function(g){p[g.id]=p[n.id]+1,o.push(g)})}}},dfs:function(m,l,r,q,p){r=r||{};var o=q||{},n=p||0;l(m,n)!==!1&&(o[m.id]=!0,k.each(this.getNeighbors(m,r),function(g){o[g.id]||this.dfs(g,l,r,o,n+1)},this))},getSources:function(){var g=[];return k.each(this._nodes,function(l,m){this._in[m]&&!k.isEmpty(this._in[m])||g.push(this.getCell(m))},this),g},getSinks:function(){var g=[];return k.each(this._nodes,function(l,m){this._out[m]&&!k.isEmpty(this._out[m])||g.push(this.getCell(m))},this),g},isSource:function(g){return !this._in[g.id]||k.isEmpty(this._in[g.id])},isSink:function(g){return !this._out[g.id]||k.isEmpty(this._out[g.id])},isSuccessor:function(l,g){var m=!1;return this.search(l,function(n){return n===g&&n!==l?(m=!0,!1):void 0},{outbound:!0}),m},isPredecessor:function(l,g){var m=!1;return this.search(l,function(n){return n===g&&n!==l?(m=!0,!1):void 0},{inbound:!0}),m},isNeighbor:function(l,g,p){p=p||{};var o=p.inbound,n=p.outbound;k.isUndefined(o)&&k.isUndefined(n)&&(o=n=!0);var m=!1;return k.each(this.getConnectedLinks(l,p),function(q){var s=q.get("source"),r=q.get("target");q.hasLoop(p);return o&&k.has(s,"id")&&s.id===g.id?(m=!0,!1):n&&k.has(r,"id")&&r.id===g.id?(m=!0,!1):void 0}),m},disconnectLinks:function(l,g){k.each(this.getConnectedLinks(l),function(m){m.set(m.get("source").id===l.id?"source":"target",h.point(0,0),g)})},removeLinks:function(l,g){k.invoke(this.getConnectedLinks(l),"remove",g)},findModelsFromPoint:function(g){return k.filter(this.getElements(),function(l){return l.getBBox().containsPoint(g)})},findModelsInArea:function(l,g){l=h.rect(l),g=k.defaults(g||{},{strict:!1});var m=g.strict?"containsRect":"intersect";return k.filter(this.getElements(),function(n){return l[m](n.getBBox())})},findModelsUnderElement:function(l,g){g=k.defaults(g||{},{searchBy:"bbox"});var n=l.getBBox(),m="bbox"==g.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[g.searchBy]());return k.reject(m,function(o){return l.id==o.id||o.isEmbeddedIn(l)})},getBBox:function(l,g){return this.getCellsBBox(l||this.getElements(),g)},getCellsBBox:function(l,g){return k.reduce(l,function(m,n){return n.isLink()?m:m?m.union(n.getBBox(g)):n.getBBox(g)},null)},translate:function(l,g,n){var m=k.reject(this.getCells(),function(o){return o.isEmbedded()});k.invoke(m,"translate",l,g,n)},resize:function(l,g,m){return this.resizeCells(l,g,this.getCells(),m)},resizeCells:function(m,l,r,q){var p=this.getCellsBBox(r);if(p){var o=Math.max(m/p.width,0),n=Math.max(l/p.height,0);k.invoke(r,"scale",o,n,p.origin(),q)}return this},startBatch:function(l,g){return g=g||{},this._batches[l]=(this._batches[l]||0)+1,this.trigger("batch:start",k.extend({},g,{batchName:l}))},stopBatch:function(l,g){return g=g||{},this._batches[l]=(this._batches[l]||0)-1,this.trigger("batch:stop",k.extend({},g,{batchName:l}))},hasActiveBatch:function(g){return g?this._batches[g]:k.any(this._batches,function(l){return l>0})}}),e.util.wrapWith(e.dia.Graph.prototype,["resetCells","addCells","removeCells"],"cells"),e.dia.Cell=j.Model.extend({constructor:function(l,g){var n,m=l||{};this.cid=k.uniqueId("c"),this.attributes={},g&&g.collection&&(this.collection=g.collection),g&&g.parse&&(m=this.parse(m,g)||{}),(n=k.result(this,"defaults"))&&(m=k.merge({},n,m)),this.set(m,g),this.changed={},this.initialize.apply(this,arguments)},translate:function(l,g,m){throw new Error("Must define a translate() method.")},toJSON:function(){var l=this.constructor.prototype.defaults.attrs||{},g=this.attributes.attrs,n={};k.each(g,function(o,q){var p=l[q];k.each(o,function(s,r){k.isObject(s)&&!k.isArray(s)?k.each(s,function(t,u){p&&p[r]&&k.isEqual(p[r][u],t)||(n[q]=n[q]||{},(n[q][r]||(n[q][r]={}))[u]=t)}):p&&k.isEqual(p[r],s)||(n[q]=n[q]||{},n[q][r]=s)})});var m=k.cloneDeep(k.omit(this.attributes,"attrs"));return m.attrs=n,m},initialize:function(g){g&&g.id||this.set("id",e.util.uuid(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},processPorts:function(){var l=this.ports,g={};k.each(this.get("attrs"),function(p,q){p&&p.port&&(k.isUndefined(p.port.id)?g[p.port]={id:p.port}:g[p.port.id]=p.port)});var o={};if(k.each(l,function(p,q){g[q]||(o[q]=!0)}),this.graph&&!k.isEmpty(o)){var n=this.graph.getConnectedLinks(this,{inbound:!0});k.each(n,function(p){o[p.get("target").port]&&p.remove()});var m=this.graph.getConnectedLinks(this,{outbound:!0});k.each(m,function(p){o[p.get("source").port]&&p.remove()})}this.ports=g},remove:function(l){l=l||{};var g=this.graph;g&&g.startBatch("remove");var n=this.get("parent");if(n){var m=g&&g.getCell(n);m.unembed(this)}return k.invoke(this.getEmbeddedCells(),"remove",l),this.trigger("remove",this,this.collection,l),g&&g.stopBatch("remove"),this},toFront:function(l){if(this.graph){l=l||{};var g=(this.graph.getLastCell().get("z")||0)+1;if(this.startBatch("to-front").set("z",g,l),l.deep){var m=this.getEmbeddedCells({deep:!0,breadthFirst:!0});k.each(m,function(n){n.set("z",++g,l)})}this.stopBatch("to-front")}return this},toBack:function(l){if(this.graph){l=l||{};var g=(this.graph.getFirstCell().get("z")||0)-1;if(this.startBatch("to-back"),l.deep){var m=this.getEmbeddedCells({deep:!0,breadthFirst:!0});k.eachRight(m,function(n){n.set("z",g--,l)})}this.set("z",g,l).stopBatch("to-back")}return this},embed:function(l,g){if(this===l||this.isEmbeddedIn(l)){throw new Error("Recursive embedding not allowed.")}this.startBatch("embed");var m=k.clone(this.get("embeds")||[]);return m[l.isLink()?"unshift":"push"](l.id),l.set("parent",this.id,g),this.set("embeds",k.uniq(m),g),this.stopBatch("embed"),this},unembed:function(l,g){return this.startBatch("unembed"),l.unset("parent",g),this.set("embeds",k.without(this.get("embeds"),l.id),g),this.stopBatch("unembed"),this},getAncestors:function(){var l=[],g=this.get("parent");if(!this.graph){return l}for(;void 0!==g;){var m=this.graph.getCell(g);if(void 0===m){break}l.push(m),g=m.get("parent")}return l},getEmbeddedCells:function(l){if(l=l||{},this.graph){var g;if(l.deep){if(l.breadthFirst){g=[];for(var n=this.getEmbeddedCells();n.length>0;){var m=n.shift();g.push(m),n.push.apply(n,m.getEmbeddedCells())}}else{g=this.getEmbeddedCells(),k.each(g,function(o){g.push.apply(g,o.getEmbeddedCells(l))})}}else{g=k.map(this.get("embeds"),this.graph.getCell,this.graph)}return g}return[]},isEmbeddedIn:function(l,g){var n=k.isString(l)?l:l.id,m=this.get("parent");if(g=k.defaults({deep:!0},g),this.graph&&g.deep){for(;m;){if(m===n){return !0}m=this.graph.getCell(m).get("parent")}return !1}return m===n},isEmbedded:function(){return !!this.get("parent")},clone:function(l){if(l=l||{},l.deep){return k.values(e.dia.Graph.prototype.cloneCells.call(null,[this].concat(this.getEmbeddedCells({deep:!0}))))}var g=j.Model.prototype.clone.apply(this,arguments);return g.set("id",e.util.uuid()),g.unset("embeds"),g.unset("parent"),g},prop:function(x,w,v){var u="/";if(k.isString(x)){if(arguments.length>1){var t=x,s=t.split("/"),r=s[0];if(s.shift(),v=v||{},v.propertyPath=t,v.propertyValue=w,0===s.length){return this.set(r,w,v)}var q={},p=q,o=r;k.each(s,function(g){p=p[o]=k.isFinite(Number(g))?[]:{},o=g}),q=e.util.setByPath(q,t,w,"/");var n=k.merge({},this.attributes);v.rewrite&&e.util.unsetByPath(n,t,"/");var m=k.merge(n,q);return this.set(r,m[r],v)}return e.util.getByPath(this.attributes,x,u)}return this.set(k.merge({},this.attributes,x),w)},removeProp:function(l,g){g=g||{},g.dirty=!0;var p=l.split("/");if(1===p.length){return this.unset(l,g)}var o=p[0],n=p.slice(1).join("/"),m=k.merge({},this.get(o));return e.util.unsetByPath(m,n,"/"),this.set(o,m,g)},attr:function(l,g,n){var m=Array.prototype.slice.call(arguments);return k.isString(l)?m[0]="attrs/"+l:m[0]={attrs:l},this.prop.apply(this,m)},removeAttr:function(l,g){return k.isArray(l)?(k.each(l,function(m){this.removeAttr(m,g)},this),this):this.removeProp("attrs/"+l,g)},transition:function(t,s,r,q){q=q||"/";var p={duration:100,delay:10,timingFunction:e.util.timing.linear,valueFunction:e.util.interpolate.number};r=k.extend(p,r);var o,n=0,m=k.bind(function(g){var w,v,u;n=n||g,g-=n,v=g/r.duration,1>v?this._transitionIds[t]=w=e.util.nextFrame(m):(v=1,delete this._transitionIds[t]),u=o(r.timingFunction(v)),r.transitionId=w,this.prop(t,u,r),w||this.trigger("transition:end",this,t)},this),l=k.bind(function(g){this.stopTransitions(t),o=r.valueFunction(e.util.getByPath(this.attributes,t,q),s),this._transitionIds[t]=e.util.nextFrame(g),this.trigger("transition:start",this,t)},this);return k.delay(l,r.delay,m)},getTransitions:function(){return k.keys(this._transitionIds)},stopTransitions:function(l,g){g=g||"/";var m=l&&l.split(g);return k(this._transitionIds).keys().filter(m&&function(n){return k.isEqual(m,n.split(g).slice(0,m.length))}).each(function(n){e.util.cancelFrame(this._transitionIds[n]),delete this._transitionIds[n],this.trigger("transition:end",this,n)},this),this},addTo:function(l,g){return l.addCell(this,g),this},findView:function(g){return g.findViewByModel(this)},isElement:function(){return !1},isLink:function(){return !1},startBatch:function(l,g){return this.graph&&this.graph.startBatch(l,k.extend({},g,{cell:this})),this},stopBatch:function(l,g){return this.graph&&this.graph.stopBatch(l,k.extend({},g,{cell:this})),this}}),e.dia.CellView=e.mvc.View.extend({tagName:"g",attributes:function(){return{"model-id":this.model.id}},constructor:function(g){g.id=g.id||e.util.guid(this),e.mvc.View.call(this,g)},init:function(){k.bindAll(this,"remove","update"),this.$el.data("view",this),this.listenTo(this.model,"change:attrs",this.onChangeAttrs)},onChangeAttrs:function(l,g,m){return m.dirty?this.render():this.update(l,g,m)},can:function(l){var g=k.isFunction(this.options.interactive)?this.options.interactive(this):this.options.interactive;return k.isObject(g)&&g[l]!==!1||k.isBoolean(g)&&g!==!1},_ensureElement:function(){var l;if(this.el){l=k.result(this,"el")}else{var g=k.extend({id:this.id},k.result(this,"attributes"));this.className&&(g["class"]=k.result(this,"className")),l=c(k.result(this,"tagName"),g).node}this.setElement(l,!1)},_setElement:function(g){this.$el=g instanceof j.$?g:j.$(g),this.el=this.$el[0],this.vel=c(this.el)},findBySelector:function(l){var g="."===l?this.$el:this.$el.find(l);return g},notify:function(l){if(this.paper){var g=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[l].concat(g)),this.paper.trigger.apply(this.paper,[l,this].concat(g))}},getStrokeBBox:function(l){var g=!!l;l=l||this.el;var n,m=c(l).bbox(!1,this.paper.viewport);return n=g?c(l).attr("stroke-width"):this.model.attr("rect/stroke-width")||this.model.attr("circle/stroke-width")||this.model.attr("ellipse/stroke-width")||this.model.attr("path/stroke-width"),n=parseFloat(n)||0,h.rect(m).moveAndExpand({x:-n/2,y:-n/2,width:n,height:n})},getBBox:function(){return h.rect(this.vel.bbox())},highlight:function(l,g){return l=l?this.$(l)[0]||this.el:this.el,g=g||{},g.partial=l!=this.el,this.notify("cell:highlight",l,g),this},unhighlight:function(l,g){return l=l?this.$(l)[0]||this.el:this.el,g=g||{},g.partial=l!=this.el,this.notify("cell:unhighlight",l,g),this},findMagnet:function(l){var g=this.$(l);if(0===g.length||g[0]===this.el){var m=this.model.get("attrs")||{};if(m["."]&&m["."].magnet===!1){return}return this.el}return g.attr("magnet")?g[0]:this.findMagnet(g.parent())},applyFilter:function(l,g){var p=k.isString(l)?this.findBySelector(l):f(l),o=g.name+this.paper.svg.id+e.util.hashCode(JSON.stringify(g));if(!this.paper.svg.getElementById(o)){var n=e.util.filter[g.name]&&e.util.filter[g.name](g.args||{});if(!n){throw new Error("Non-existing filter "+g.name)}var m=c(n);m.attr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3}),g.attrs&&m.attr(g.attrs),m.node.id=o,c(this.paper.svg).defs().append(m)}p.each(function(){c(this).attr("filter","url(#"+o+")")})},applyGradient:function(m,l,r){var q=k.isString(m)?this.findBySelector(m):f(m),p=r.type+this.paper.svg.id+e.util.hashCode(JSON.stringify(r));if(!this.paper.svg.getElementById(p)){var o=["<"+r.type+">",k.map(r.stops,function(g){return'<stop offset="'+g.offset+'" stop-color="'+g.color+'" stop-opacity="'+(k.isFinite(g.opacity)?g.opacity:1)+'" />'}).join(""),"</"+r.type+">"].join(""),n=c(o);r.attrs&&n.attr(r.attrs),n.node.id=p,c(this.paper.svg).defs().append(n)}q.each(function(){c(this).attr(l,"url(#"+p+")")})},getSelector:function(l,g){if(l===this.el){return g}var n=c(l).index()+1,m=l.tagName+":nth-child("+n+")";return g&&(m+=" > "+g),this.getSelector(l.parentNode,m)},pointerdblclick:function(l,g,m){this.notify("cell:pointerdblclick",l,g,m)},pointerclick:function(l,g,m){this.notify("cell:pointerclick",l,g,m)},pointerdown:function(l,g,m){this.model.graph&&(this.model.startBatch("pointer"),this._graph=this.model.graph),this.notify("cell:pointerdown",l,g,m)},pointermove:function(l,g,m){this.notify("cell:pointermove",l,g,m)},pointerup:function(l,g,m){this.notify("cell:pointerup",l,g,m),this._graph&&(this._graph.stopBatch("pointer",{cell:this.model}),delete this._graph)},mouseover:function(g){this.notify("cell:mouseover",g)},mouseout:function(g){this.notify("cell:mouseout",g)},mousewheel:function(l,g,n,m){this.notify("cell:mousewheel",l,g,n,m)},contextmenu:function(l,g,m){this.notify("cell:contextmenu",l,g,m)},onSetTheme:function(l,g){l&&this.vel.removeClass(this.themeClassNamePrefix+l),this.vel.addClass(this.themeClassNamePrefix+g)},setInteractivity:function(g){this.options.interactive=g}}),e.dia.Element=e.dia.Cell.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},isElement:function(){return !0},position:function(l,g,q){var p=k.isNumber(g);if(q=(p?q:l)||{},q.parentRelative){if(!this.graph){throw new Error("Element must be part of a graph.")}var o=this.graph.getCell(this.get("parent")),n=o&&!o.isLink()?o.get("position"):{x:0,y:0}}if(p){return q.parentRelative&&(l+=n.x,g+=n.y),this.set("position",{x:l,y:g},q)}var m=h.point(this.get("position"));return q.parentRelative?m.difference(n):m},translate:function(v,u,t){if(v=v||0,u=u||0,0===v&&0===u){return this}t=t||{},t.translateBy=t.translateBy||this.id;var s=this.get("position")||{x:0,y:0};if(t.restrictedArea&&t.translateBy===this.id){var r=this.getBBox({deep:!0}),q=t.restrictedArea,p=s.x-r.x,o=s.y-r.y,n=Math.max(q.x+p,Math.min(q.x+q.width+p-r.width,s.x+v)),m=Math.max(q.y+o,Math.min(q.y+q.height+o-r.height,s.y+u));v=n-s.x,u=m-s.y}var l={x:s.x+v,y:s.y+u};return t.tx=v,t.ty=u,t.transition?(k.isObject(t.transition)||(t.transition={}),this.transition("position",l,k.extend({},t.transition,{valueFunction:e.util.interpolate.object}))):(this.set("position",l,t),k.invoke(this.getEmbeddedCells(),"translate",v,u,t)),this},resize:function(z,y,x){if(x=x||{},this.startBatch("resize",x),x.direction){var w=this.get("size");switch(x.direction){case"left":case"right":y=w.height;break;case"top":case"bottom":z=w.width}var v=h.normalizeAngle(this.get("angle")||0),u={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[x.direction];x.absolute&&(u+=Math.floor((v+45)/90),u%=4);var t=this.getBBox(),s=t[["bottomLeft","corner","topRight","origin"][u]](),r=h.point(s).rotate(t.center(),-v),q=Math.sqrt(z*z+y*y)/2,p=u*Math.PI/2;p+=Math.atan(u%2==0?y/z:z/y),p-=h.toRad(v);var o=h.point.fromPolar(q,p,r),g=h.point(o).offset(z/-2,y/-2);this.set("size",{width:z,height:y},x),this.position(g.x,g.y,x)}else{this.set("size",{width:z,height:y},x)}return this.stopBatch("resize",x),this},scale:function(l,g,o,n){var m=this.getBBox().scale(l,g,o);return this.startBatch("scale",n),this.position(m.x,m.y,n),this.resize(m.width,m.height,n),this.stopBatch("scale"),this},fitEmbeds:function(l){if(l=l||{},!this.graph){throw new Error("Element must be part of a graph.")}var g=this.getEmbeddedCells();if(g.length>0){this.startBatch("fit-embeds",l),l.deep&&k.invoke(g,"fitEmbeds",l);var n=this.graph.getCellsBBox(g),m=e.util.normalizeSides(l.padding);n.moveAndExpand({x:-m.left,y:-m.top,width:m.right+m.left,height:m.bottom+m.top}),this.set({position:{x:n.x,y:n.y},size:{width:n.width,height:n.height}},l),this.stopBatch("fit-embeds")}return this},rotate:function(m,l,s){if(s){var r=this.getBBox().center(),q=this.get("size"),p=this.get("position");r.rotate(s,this.get("angle")-m);var o=r.x-q.width/2-p.x,n=r.y-q.height/2-p.y;this.startBatch("rotate",{angle:m,absolute:l,origin:s}),this.translate(o,n),this.rotate(m,l),this.stopBatch("rotate")}else{this.set("angle",l?m:(this.get("angle")+m)%360)}return this},getBBox:function(l){if(l=l||{},l.deep&&this.graph){var g=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return g.push(this),this.graph.getCellsBBox(g)}var n=this.get("position"),m=this.get("size");return h.rect(n.x,n.y,m.width,m.height)}}),e.dia.ElementView=e.dia.CellView.extend({SPECIAL_ATTRIBUTES:["style","text","html","ref-x","ref-y","ref-dx","ref-dy","ref-width","ref-height","ref","x-alignment","y-alignment","port"],className:function(){return"element "+this.model.get("type").replace(/\./g," ")},initialize:function(){k.bindAll(this,"translate","resize","rotate"),e.dia.CellView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:position",this.translate),this.listenTo(this.model,"change:size",this.resize),this.listenTo(this.model,"change:angle",this.rotate)},update:function(t,s){var r=this.model.get("attrs"),q=this.rotatableNode;if(q){var p=q.attr("transform");q.attr("transform","")}var o=[],n={};k.each(s||r,function(u,g){var x=this.findBySelector(g);if(0!==x.length){n[g]=x;var w=this.SPECIAL_ATTRIBUTES.slice();k.isObject(u.filter)&&(w.push("filter"),this.applyFilter(x,u.filter)),k.isObject(u.fill)&&(w.push("fill"),this.applyGradient(x,"fill",u.fill)),k.isObject(u.stroke)&&(w.push("stroke"),this.applyGradient(x,"stroke",u.stroke)),k.isUndefined(u.text)||(x.each(function(){c(this).text(u.text+"",{lineHeight:u.lineHeight,textPath:u.textPath,annotations:u.annotations})}),w.push("lineHeight","textPath","annotations"));var v=k.omit(u,w);x.each(function(){c(this).attr(v)}),u.port&&x.attr("port",k.isUndefined(u.port.id)?u.port:u.port.id),u.style&&x.css(u.style),k.isUndefined(u.html)||x.each(function(){f(this).html(u.html+"")}),k.isUndefined(u["ref-x"])&&k.isUndefined(u["ref-y"])&&k.isUndefined(u["ref-dx"])&&k.isUndefined(u["ref-dy"])&&k.isUndefined(u["x-alignment"])&&k.isUndefined(u["y-alignment"])&&k.isUndefined(u["ref-width"])&&k.isUndefined(u["ref-height"])||k.each(x,function(z,y,B){var A=f(z);A.selector=B.selector,o.push(A)})}},this);var m=this.model.get("size"),l={x:0,y:0,width:m.width,height:m.height};s=s||{},k.each(o,function(g){var v=s[g.selector],u=v?k.merge({},r[g.selector],v):r[g.selector];this.positionRelative(c(g[0]),l,u,n)},this),q&&q.attr("transform",p||"")},positionRelative:function(T,S,R,Q){var P=R.ref,O=parseFloat(R["ref-dx"]),N=parseFloat(R["ref-dy"]),M=R["y-alignment"],L=R["x-alignment"],K=R["ref-y"],J=k.isString(K)&&"%"===K.slice(-1);K=parseFloat(K),J&&(K/=100);var I=R["ref-x"],H=k.isString(I)&&"%"===I.slice(-1);I=parseFloat(I),H&&(I/=100);var G=R["ref-width"],F=k.isString(G)&&"%"===G.slice(-1);G=parseFloat(G),F&&(G/=100);var E=R["ref-height"],D=k.isString(E)&&"%"===E.slice(-1);E=parseFloat(E),D&&(E/=100);var C=T.findParentByClass("scalable",this.el);if(P){var B;if(B=Q&&Q[P]?c(Q[P][0]):"."===P?this.vel:this.vel.findOne(P),!B){throw new Error("dia.ElementView: reference does not exists.")}S=B.bbox(!1,this.el)}T.attr("transform")&&T.attr("transform",T.attr("transform").replace(/translate\([^)]*\)/g,"").trim()||""),isFinite(G)&&(F||G>=0&&1>=G?T.attr("width",G*S.width):T.attr("width",Math.max(G+S.width,0))),isFinite(E)&&(D||E>=0&&1>=E?T.attr("height",E*S.height):T.attr("height",Math.max(E+S.height,0)));var A,z=0,y=0;if(isFinite(O)&&(C?(A=A||C.scale(),z=S.x+S.width+O/A.sx):z=S.x+S.width+O),isFinite(N)&&(C?(A=A||C.scale(),y=S.y+S.height+N/A.sy):y=S.y+S.height+N),isFinite(I)&&(H||I>0&&1>I?z=S.x+S.width*I:C?(A=A||C.scale(),z=S.x+I/A.sx):z=S.x+I),isFinite(K)&&(J||K>0&&1>K?y=S.y+S.height*K:C?(A=A||C.scale(),y=S.y+K/A.sy):y=S.y+K),!k.isUndefined(M)||!k.isUndefined(L)){var x=T.bbox(!1,this.paper.viewport);"middle"===M?y-=x.height/2:"bottom"===M?y-=x.height:isFinite(M)&&(y+=M>-1&&1>M?x.height*M:M),"middle"===L?z-=x.width/2:"right"===L?z-=x.width:isFinite(L)&&(z+=L>-1&&1>L?x.width*L:L)}T.translate(z,y)},renderMarkup:function(){var l=this.model.get("markup")||this.model.markup;if(!l){throw new Error("properties.markup is missing while the default render() implementation is used.")}var g=c(l);this.vel.append(g)},render:function(){return this.$el.empty(),this.renderMarkup(),this.rotatableNode=this.vel.findOne(".rotatable"),this.scalableNode=this.vel.findOne(".scalable"),this.update(),this.resize(),this.rotate(),this.translate(),this},scale:function(l,g){this.vel.scale(l,g)},resize:function(){var m=this.model.get("size")||{width:1,height:1},l=this.model.get("angle")||0,r=this.scalableNode;if(r){var q=r.bbox(!0);r.attr("transform","scale("+m.width/(q.width||1)+","+m.height/(q.height||1)+")");var p=this.rotatableNode,o=p&&p.attr("transform");if(o&&"null"!==o){p.attr("transform",o+" rotate("+-l+","+m.width/2+","+m.height/2+")");var n=r.bbox(!1,this.paper.viewport);this.model.set("position",{x:n.x,y:n.y}),this.rotate()}this.update()}},translate:function(l,g,n){var m=this.model.get("position")||{x:0,y:0};this.vel.attr("transform","translate("+m.x+","+m.y+")")},rotate:function(){var l=this.rotatableNode;if(l){var g=this.model.get("angle")||0,o=this.model.get("size")||{width:1,height:1},n=o.width/2,m=o.height/2;l.attr("transform","rotate("+g+","+n+","+m+")")}},getBBox:function(l){if(l&&l.useModelGeometry){var g=this.model.getBBox().bbox(this.model.get("angle")),m=this.paper.viewport.getCTM();return h.rect(c.transformRect(g,m))}return e.dia.CellView.prototype.getBBox.apply(this,arguments)},prepareEmbedding:function(l){l=l||{};var g=l.model||this.model,n=l.paper||this.paper;g.startBatch("to-front",l),g.toFront({deep:!0,ui:!0}),k.invoke(n.model.getConnectedLinks(g,{deep:!0}),"toFront",{ui:!0}),g.stopBatch("to-front");var m=g.get("parent");m&&n.model.getCell(m).unembed(g,{ui:!0})},processEmbedding:function(u){u=u||{};var t=u.model||this.model,s=u.paper||this.paper,r=s.options,q=s.model.findModelsUnderElement(t,{searchBy:r.findParentBy});r.frontParentOnly&&(q=q.slice(-1));for(var p=null,o=this._candidateEmbedView,n=q.length-1;n>=0;n--){var m=q[n];if(o&&o.model.id==m.id){p=o;break}var l=m.findView(s);if(r.validateEmbedding.call(s,this,l)){p=l;break}}p&&p!=o&&(o&&o.unhighlight(null,{embedding:!0}),this._candidateEmbedView=p.highlight(null,{embedding:!0})),!p&&o&&(o.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView)},finalizeEmbedding:function(l){l=l||{};var g=this._candidateEmbedView,n=l.model||this.model,m=l.paper||this.paper;g&&(g.model.embed(n,{ui:!0}),g.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView),k.invoke(m.model.getConnectedLinks(n,{deep:!0}),"reparent",{ui:!0})},pointerdown:function(l,g,p){var o=this.paper;if(l.target.getAttribute("magnet")&&this.can("addLinkFromMagnet")&&o.options.validateMagnet.call(o,this,l.target)){this.model.startBatch("add-link");var n=o.getDefaultLink(this,l.target);n.set({source:{id:this.model.id,selector:this.getSelector(l.target),port:l.target.getAttribute("port")},target:{x:g,y:p}}),o.model.addCell(n);var m=this._linkView=o.findViewByModel(n);m.pointerdown(l,g,p),m.startArrowheadMove("target",{whenNotAllowed:"remove"})}else{this._dx=g,this._dy=p,this.restrictedArea=o.getRestrictedArea(this),e.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("element:pointerdown",l,g,p)}},pointermove:function(l,g,q){if(this._linkView){this._linkView.pointermove(l,g,q)}else{var p=this.paper.options.gridSize;if(this.can("elementMove")){var o=this.model.get("position"),n=h.snapToGrid(o.x,p)-o.x+h.snapToGrid(g-this._dx,p),m=h.snapToGrid(o.y,p)-o.y+h.snapToGrid(q-this._dy,p);this.model.translate(n,m,{restrictedArea:this.restrictedArea,ui:!0}),this.paper.options.embeddingMode&&(this._inProcessOfEmbedding||(this.prepareEmbedding(),this._inProcessOfEmbedding=!0),this.processEmbedding())}this._dx=h.snapToGrid(g,p),this._dy=h.snapToGrid(q,p),e.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("element:pointermove",l,g,q)}},pointerup:function(l,g,m){this._linkView?(this._linkView.pointerup(l,g,m),this._linkView=null,this.model.stopBatch("add-link")):(this._inProcessOfEmbedding&&(this.finalizeEmbedding(),this._inProcessOfEmbedding=!1),this.notify("element:pointerup",l,g,m),e.dia.CellView.prototype.pointerup.apply(this,arguments))}}),e.dia.Link=e.dia.Cell.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),labelMarkup:['<g class="label">',"<rect />","<text />","</g>"].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaults:{type:"link",source:{},target:{}},isLink:function(){return !0},disconnect:function(){return this.set({source:h.point(0,0),target:h.point(0,0)})},label:function(l,g){l=l||0;var o=this.get("labels")||[];if(0===arguments.length||1===arguments.length){return o[l]}var n=k.merge({},o[l],g),m=o.slice();return m[l]=n,this.set({labels:m})},translate:function(l,g,m){return m=m||{},m.translateBy=m.translateBy||this.id,m.tx=l,m.ty=g,this.applyToPoints(function(n){return{x:(n.x||0)+l,y:(n.y||0)+g}},m)},scale:function(l,g,n,m){return this.applyToPoints(function(o){return h.point(o).scale(l,g,n).toJSON()},m)},applyToPoints:function(l,g){if(!k.isFunction(l)){throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.")}var p={},o=this.get("source");o.id||(p.source=l(o));var n=this.get("target");n.id||(p.target=l(n));var m=this.get("vertices");return m&&m.length>0&&(p.vertices=k.map(m,l)),this.set(p,g)},reparent:function(l){var g;if(this.graph){var o=this.graph.getCell(this.get("source").id),n=this.graph.getCell(this.get("target").id),m=this.graph.getCell(this.get("parent"));o&&n&&(g=this.graph.getCommonAncestor(o,n)),!m||g&&g.id===m.id||m.unembed(this,l),g&&g.embed(this,l)}return g},hasLoop:function(l){l=l||{};var g=this.get("source").id,p=this.get("target").id;if(!g||!p){return !1}var o=g===p;if(!o&&l.deep&&this.graph){var n=this.graph.getCell(g),m=this.graph.getCell(p);o=n.isEmbeddedIn(m)||m.isEmbeddedIn(n)}return o},getSourceElement:function(){var g=this.get("source");return g&&g.id&&this.graph&&this.graph.getCell(g.id)||null},getTargetElement:function(){var g=this.get("target");return g&&g.id&&this.graph&&this.graph.getCell(g.id)||null},getRelationshipAncestor:function(){var l;if(this.graph){var g=k.compact([this,this.getSourceElement(),this.getTargetElement()]);l=this.graph.getCommonAncestor.apply(this.graph,g)}return l||null},isRelationshipEmbeddedIn:function(l){var g=k.isString(l)?l:l.id,m=this.getRelationshipAncestor();return !!m&&(m.id===g||m.isEmbeddedIn(g))}},{endsEqual:function(l,g){var m=l.port===g.port||!l.port&&!g.port;return l.id===g.id&&m}}),e.dia.LinkView=e.dia.CellView.extend({className:function(){return k.unique(this.model.get("type").split(".").concat("link")).join(" ")},options:{shortLinkLength:100,doubleLinkTools:!1,longLinkLength:160,linkToolsOffset:40,doubleLinkToolsOffset:60,sampleInterval:50},_z:null,initialize:function(g){e.dia.CellView.prototype.initialize.apply(this,arguments),"function"!=typeof this.constructor.prototype.watchSource&&(this.constructor.prototype.watchSource=this.createWatcher("source"),this.constructor.prototype.watchTarget=this.createWatcher("target")),this._labelCache={},this._markerCache={},this.startListening()},startListening:function(){var g=this.model;this.listenTo(g,"change:markup",this.render),this.listenTo(g,"change:smooth change:manhattan change:router change:connector",this.update),this.listenTo(g,"change:toolMarkup",this.onToolsChange),this.listenTo(g,"change:labels change:labelMarkup",this.onLabelsChange),this.listenTo(g,"change:vertices change:vertexMarkup",this.onVerticesChange),this.listenTo(g,"change:source",this.onSourceChange),this.listenTo(g,"change:target",this.onTargetChange)},onSourceChange:function(l,g,m){this.watchSource(l,g),m.translateBy&&this.model.get("target").id||(m.updateConnectionOnly=!0,this.update(this.model,null,m))},onTargetChange:function(l,g,m){this.watchTarget(l,g),m.translateBy||(m.updateConnectionOnly=!0,this.update(this.model,null,m))},onVerticesChange:function(l,g,m){this.renderVertexMarkers(),m.translateBy&&m.translateBy!==this.model.id||(m.updateConnectionOnly=!0,this.update(l,null,m))},onToolsChange:function(){this.renderTools().updateToolsPosition()},onLabelsChange:function(){this.renderLabels().updateLabelPositions()},render:function(){this.$el.empty();var l=this.model,g=c(l.get("markup")||l.markup);if(k.isArray(g)||(g=[g]),this._V={},k.each(g,function(n){var m=n.attr("class");m&&(this._V[f.camelCase(m)]=n)},this),!this._V.connection){throw new Error("link: no connection path in the markup")}return this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(g),this.renderLabels(),this.watchSource(l,l.get("source")).watchTarget(l,l.get("target")).update(),this},renderLabels:function(){if(!this._V.labels){return this}this._labelCache={};var l=f(this._V.labels.node).empty(),g=this.model.get("labels")||[];if(!g.length){return this}var o=e.util.template(this.model.get("labelMarkup")||this.model.labelMarkup),n=c(o()),m=this.can("labelMove");return k.each(g,function(p,w){var v=n.clone().node;c(v).attr("label-idx",w),m&&c(v).attr("cursor","move"),this._labelCache[w]=c(v);var u=f(v).find("text"),t=f(v).find("rect"),s=k.extend({"text-anchor":"middle","font-size":14},e.util.getByPath(p,"attrs/text","/"));u.attr(k.omit(s,"text")),k.isUndefined(s.text)||c(u[0]).text(s.text+"",{annotations:s.annotations}),l.append(v);var r=c(u[0]).bbox(!0,l[0]);c(u[0]).translate(0,-r.height/2);var q=k.extend({fill:"white",rx:3,ry:3},e.util.getByPath(p,"attrs/rect","/"));t.attr(k.extend(q,{x:r.x,y:r.y-r.height/2,width:r.width,height:r.height}))},this),this},renderTools:function(){if(!this._V.linkTools){return this}var l=f(this._V.linkTools.node).empty(),g=e.util.template(this.model.get("toolMarkup")||this.model.toolMarkup),n=c(g());if(l.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var m;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(g=e.util.template(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),m=c(g())):m=n.clone(),l.append(m.node),this._tool2Cache=m}return this},renderVertexMarkers:function(){if(!this._V.markerVertices){return this}var l=f(this._V.markerVertices.node).empty(),g=e.util.template(this.model.get("vertexMarkup")||this.model.vertexMarkup);return k.each(this.model.get("vertices"),function(n,m){l.append(c(g(k.extend({idx:m},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads){return this}var l=f(this._V.markerArrowheads.node);l.empty();var g=e.util.template(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=c(g({end:"source"})),this._V.targetArrowhead=c(g({end:"target"})),l.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(l,g,m){return m=m||{},m.updateConnectionOnly||this.updateAttributes(),this.updateConnection(m),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null,this.updatePostponed=!1,this},updateConnection:function(l){l=l||{};var g,p=this.model;if(l.translateBy&&p.isRelationshipEmbeddedIn(l.translateBy)){var o=l.tx||0,n=l.ty||0;g=this.route=k.map(this.route,function(q){return h.point(q).offset(o,n)}),this._translateConnectionPoints(o,n)}else{g=this.route=this.findRoute(p.get("vertices")||[],l),this._findConnectionPoints(g)}var m=this.getPathData(g);this._V.connection.attr("d",m),this._V.connectionWrap&&this._V.connectionWrap.attr("d",m),this._translateAndAutoOrientArrows(this._V.markerSource,this._V.markerTarget)},updateAttributes:function(){k.each(this.model.get("attrs"),function(l,g){var m=[];k.isObject(l.fill)&&(this.applyGradient(g,"fill",l.fill),m.push("fill")),k.isObject(l.stroke)&&(this.applyGradient(g,"stroke",l.stroke),m.push("stroke")),k.isObject(l.filter)&&(this.applyFilter(g,l.filter),m.push("filter")),m.length>0&&(m.unshift(l),l=k.omit.apply(k,m)),this.findBySelector(g).attr(l)},this)},_findConnectionPoints:function(l){var g,r,q,p,o=k.first(l);g=this.getConnectionPoint("source",this.model.get("source"),o||this.model.get("target")).round();var n=k.last(l);r=this.getConnectionPoint("target",this.model.get("target"),n||g).round();var m=this._markerCache;this._V.markerSource&&(m.sourceBBox=m.sourceBBox||this._V.markerSource.bbox(!0),q=h.point(g).move(o||r,m.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(m.targetBBox=m.targetBBox||this._V.markerTarget.bbox(!0),p=h.point(r).move(n||g,m.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),m.sourcePoint=q||g,m.targetPoint=p||r,this.sourcePoint=g,this.targetPoint=r},_translateConnectionPoints:function(l,g){var m=this._markerCache;m.sourcePoint.offset(l,g),m.targetPoint.offset(l,g),this.sourcePoint.offset(l,g),this.targetPoint.offset(l,g)},updateLabelPositions:function(){if(!this._V.labels){return this}var l=this.model.get("labels")||[];if(!l.length){return this}var g=this._V.connection.node,n=g.getTotalLength();if(!k.isNaN(n)){var m;k.each(l,function(H,G){var F=H.position,E=k.isObject(F)?F.distance:F,D=k.isObject(F)?F.offset:{x:0,y:0};k.isNaN(E)?E=n/2:(E=E>n?n:E,E=0>E?n+E:E,E=E>1?E:n*E);var C=g.getPointAtLength(E);if(k.isObject(D)){C=h.point(C).offset(D.x,D.y)}else{if(k.isNumber(D)){m||(m=this._samples||this._V.connection.sample(this.options.sampleInterval));for(var B,A,z,y,x=1/0,w=0,v=m.length;v>w;w++){z=m[w],y=h.line(z,C).squaredLength(),x>y&&(x=y,B=z,A=w)}var u=m[A-1],J=m[A+1],I=0;J?I=h.point(C).theta(J):u&&(I=h.point(u).theta(C)),C=h.point(C).offset(D).rotate(C,I-90)}}this._labelCache[G].attr("transform","translate("+C.x+", "+C.y+")")},this)}return this},updateToolsPosition:function(){if(!this._V.linkTools){return this}var l="",g=this.options.linkToolsOffset,o=this.getConnectionLength();if(!k.isNaN(o)){o<this.options.shortLinkLength&&(l="scale(.5)",g/=2);var n=this.getPointAtLength(g);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+l),this.options.doubleLinkTools&&o>=this.options.longLinkLength){var m=this.options.doubleLinkToolsOffset||g;n=this.getPointAtLength(o-m),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+l),this._tool2Cache.attr("visibility","visible")}else{this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads){return this}if("none"===f.css(this._V.markerArrowheads.node,"display")){return this}var g=this.getConnectionLength()<this.options.shortLinkLength?0.5:1;return this._V.sourceArrowhead.scale(g),this._V.targetArrowhead.scale(g),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},createWatcher:function(l){function g(n,q){q=q||{};var p=null,o=n.previous(l)||{};return o.id&&this.stopListening(this.paper.getModelById(o.id),"change",m),q.id&&(p=this.paper.getModelById(q.id),this.listenTo(p,"change",m)),m.call(this,p,{cacheOnly:!0}),this}var m=k.partial(this.onEndModelChange,l);return g},onEndModelChange:function(B,A,z){var y=!z.cacheOnly,x=this.model,w=x.get(B)||{};if(A){var v=this.constructor.makeSelector(w),u="source"==B?"target":"source",t=x.get(u)||{},s=t.id&&this.constructor.makeSelector(t);if(z.handleBy===this.cid&&v==s){this[B+"BBox"]=this[u+"BBox"],this[B+"View"]=this[u+"View"],this[B+"Magnet"]=this[u+"Magnet"]}else{if(z.translateBy){var r=this[B+"BBox"];r.x+=z.tx,r.y+=z.ty}else{var q=this.paper.findViewByModel(w.id),p=q.el.querySelector(v);this[B+"BBox"]=q.getStrokeBBox(p),this[B+"View"]=q,this[B+"Magnet"]=p}}if(z.handleBy===this.cid&&z.translateBy&&x.isEmbeddedIn(A)&&!k.isEmpty(x.get("vertices"))&&(y=!1),!this.updatePostponed&&t.id){var g=this.paper.getModelById(t.id);w.id===t.id&&(z.handleBy=this.cid),(z.handleBy===this.cid||z.translateBy&&g.isEmbeddedIn(z.translateBy))&&(this.updatePostponed=!0,y=!1)}}else{this[B+"BBox"]=h.rect(w.x||0,w.y||0,1,1),this[B+"View"]=this[B+"Magnet"]=null}y&&(z.updateConnectionOnly=!0,this.update(x,null,z))},_translateAndAutoOrientArrows:function(l,g){l&&l.translateAndAutoOrient(this.sourcePoint,k.first(this.route)||this.targetPoint,this.paper.viewport),g&&g.translateAndAutoOrient(this.targetPoint,k.last(this.route)||this.sourcePoint,this.paper.viewport)},removeVertex:function(l){var g=k.clone(this.model.get("vertices"));return g&&g.length&&(g.splice(l,1),this.model.set("vertices",g,{ui:!0})),this},addVertex:function(m){for(var l,s=(this.model.get("vertices")||[]).slice(),r=s.slice(),q=this._V.connection.node.cloneNode(!1),p=q.getTotalLength(),o=20,n=s.length+1;n--&&(s.splice(n,0,m),c(q).attr("d",this.getPathData(this.findRoute(s))),l=q.getTotalLength(),l-p>o);){s=r.slice()}return -1===n&&(n=0,s.splice(n,0,m)),this.model.set("vertices",s,{ui:!0}),n},sendToken:function(l,g,m){g=g||1000,c(this.paper.viewport).append(l),c(l).animateAlongPath({dur:g+"ms",repeatCount:1},this._V.connection.node),k.delay(function(){c(l).remove(),m&&m()},g)},findRoute:function(m){var l=e.routers,r=this.model.get("router"),q=this.paper.options.defaultRouter;if(!r){if(this.model.get("manhattan")){r={name:"orthogonal"}}else{if(!q){return m}r=q}}var p=r.args||{},o=k.isFunction(r)?r:l[r.name];if(!k.isFunction(o)){throw new Error('unknown router: "'+r.name+'"')}var n=o.call(this,m||[],p,this);return n},getPathData:function(m){var l=e.connectors,r=this.model.get("connector"),q=this.paper.options.defaultConnector;r||(r=this.model.get("smooth")?{name:"smooth"}:q||{});var p=k.isFunction(r)?r:l[r.name],o=r.args||{};if(!k.isFunction(p)){throw new Error('unknown connector: "'+r.name+'"')}var n=p.call(this,this._markerCache.sourcePoint,this._markerCache.targetPoint,m||this.model.get("vertices")||{},o,this);return n},getConnectionPoint:function(x,w,v){var u;if(k.isEmpty(w)&&(w={x:0,y:0}),k.isEmpty(v)&&(v={x:0,y:0}),w.id){var t,s="source"===x?this.sourceBBox:this.targetBBox;if(v.id){var r="source"===x?this.targetBBox:this.sourceBBox;t=h.rect(r).intersectionWithLineFromCenterToPoint(h.rect(s).center()),t=t||h.rect(r).center()}else{t=h.point(v)}if(this.paper.options.perpendicularLinks||this.options.perpendicular){var q,p=h.rect(0,t.y,this.paper.options.width,1),o=h.rect(t.x,0,1,this.paper.options.height);if(p.intersect(h.rect(s))){switch(q=h.rect(s).sideNearestToPoint(t)){case"left":u=h.point(s.x,t.y);break;case"right":u=h.point(s.x+s.width,t.y);break;default:u=h.rect(s).center()}}else{if(o.intersect(h.rect(s))){switch(q=h.rect(s).sideNearestToPoint(t)){case"top":u=h.point(t.x,s.y);break;case"bottom":u=h.point(t.x,s.y+s.height);break;default:u=h.rect(s).center()}}else{u=h.rect(s).intersectionWithLineFromCenterToPoint(t),u=u||h.rect(s).center()}}}else{if(this.paper.options.linkConnectionPoint){var n="target"===x?this.targetView:this.sourceView,g="target"===x?this.targetMagnet:this.sourceMagnet;u=this.paper.options.linkConnectionPoint(this,n,g,t)}else{u=h.rect(s).intersectionWithLineFromCenterToPoint(t),u=u||h.rect(s).center()}}}else{u=h.point(w)}return u},getConnectionLength:function(){return this._V.connection.node.getTotalLength()},getPointAtLength:function(g){return this._V.connection.node.getPointAtLength(g)},_beforeArrowheadMove:function(){this._z=this.model.get("z"),this.model.toFront(),this.el.style.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets()},_afterArrowheadMove:function(){k.isNull(this._z)||(this.model.set("z",this._z,{ui:!0}),this._z=null),this.el.style.pointerEvents="visiblePainted",this.paper.options.markAvailable&&this._unmarkAvailableMagnets()},_createValidateConnectionArgs:function(m){function l(s,g){return r[o]=s,r[o+1]=s.el===g?void 0:g,r}var r=[];r[4]=m,r[5]=this;var q,p=0,o=0;"source"===m?(p=2,q="target"):(o=2,q="source");var n=this.model.get(q);return n.id&&(r[p]=this.paper.findViewByModel(n.id),r[p+1]=n.selector&&r[p].el.querySelector(n.selector)),l},_markAvailableMagnets:function(){function l(o,n){var q=o.paper,p=q.options.validateConnection;return p.apply(q,this._validateConnectionArgs(o,n))}var g=this.paper,m=g.model.getElements();this._marked={},k.chain(m).map(g.findViewByModel,g).each(function(n){var p=Array.prototype.slice.call(n.el.querySelectorAll("[magnet]"));"false"!==n.el.getAttribute("magnet")&&p.push(n.el);var o=k.filter(p,k.partial(l,n),this);o.length>0&&(k.each(o,k.partial(n.highlight,k,{magnetAvailability:!0}),n),n.highlight(null,{elementAvailability:!0}),this._marked[n.model.id]=o)},this).value()},_unmarkAvailableMagnets:function(){k.each(this._marked,function(l,g){var m=this.paper.findViewByModel(g);m&&(k.each(l,k.partial(m.unhighlight,k,{magnetAvailability:!0}),m),m.unhighlight(null,{elementAvailability:!0}))},this),this._marked=null},startArrowheadMove:function(l,g){g=k.defaults(g||{},{whenNotAllowed:"revert"}),this._action="arrowhead-move",this._whenNotAllowed=g.whenNotAllowed,this._arrowhead=l,this._initialMagnet=this[l+"Magnet"]||(this[l+"View"]?this[l+"View"].el:null),this._initialEnd=k.clone(this.model.get(l))||{x:0,y:0},this._validateConnectionArgs=this._createValidateConnectionArgs(this._arrowhead),this._beforeArrowheadMove()},pointerdown:function(m,l,r){if(e.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",m,l,r),this._dx=l,this._dy=r,null==m.target.getAttribute("magnet")){var q,p=m.target.getAttribute("class"),o=m.target.parentNode.getAttribute("class");switch("label"===o?(p=o,q=m.target.parentNode):q=m.target,p){case"marker-vertex":this.can("vertexMove")&&(this._action="vertex-move",this._vertexIdx=m.target.getAttribute("idx"));break;case"marker-vertex-remove":case"marker-vertex-remove-area":this.can("vertexRemove")&&this.removeVertex(m.target.getAttribute("idx"));break;case"marker-arrowhead":this.can("arrowheadMove")&&this.startArrowheadMove(m.target.getAttribute("end"));break;case"label":this.can("labelMove")&&(this._action="label-move",this._labelIdx=parseInt(c(q).attr("label-idx"),10),this._samples=this._V.connection.sample(1),this._linkLength=this._V.connection.node.getTotalLength());break;default:var n=m.target.parentNode.getAttribute("event");n?this.can("useLinkTools")&&("remove"===n?this.model.remove():this.notify(n,m,l,r)):this.can("vertexAdd")&&(this._vertexIdx=this.addVertex({x:l,y:r}),this._action="vertex-move")}}},pointermove:function(R,Q,P){switch(this._action){case"vertex-move":var O=k.clone(this.model.get("vertices"));O[this._vertexIdx]={x:Q,y:P},this.model.set("vertices",O,{ui:!0});break;case"label-move":for(var N,M,L,K,J={x:Q,y:P},I=(this.model.get("labels")[this._labelIdx],this._samples),H=1/0,G=0,F=I.length;F>G;G++){L=I[G],K=h.line(L,J).squaredLength(),H>K&&(H=K,N=L,M=G)}var E=I[M-1],D=I[M+1],C=(h.point(N).distance(J),0);E&&D?C=h.line(E,D).pointOffset(J):E?C=h.line(E,N).pointOffset(J):D&&(C=h.line(N,D).pointOffset(J)),this.model.label(this._labelIdx,{position:{distance:N.distance/this._linkLength,offset:C}});break;case"arrowhead-move":if(this.paper.options.snapLinks){var B=this.paper.options.snapLinks.radius||50,A=this.paper.findViewsInArea({x:Q-B,y:P-B,width:2*B,height:2*B});this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;var z,y=Number.MAX_VALUE,x=h.point(Q,P);k.each(A,function(l){"false"!==l.el.getAttribute("magnet")&&(z=l.model.getBBox().center().distance(x),B>z&&y>z&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(l,null))&&(y=z,this._closestView=l,this._closestEnd={id:l.model.id})),l.$("[magnet]").each(k.bind(function(m,o){var n=c(o).bbox(!1,this.paper.viewport);z=x.distance({x:n.x+n.width/2,y:n.y+n.height/2}),B>z&&y>z&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(l,o))&&(y=z,this._closestView=l,this._closestEnd={id:l.model.id,selector:l.getSelector(o),port:o.getAttribute("port")})},this))},this),this._closestView&&this._closestView.highlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this.model.set(this._arrowhead,this._closestEnd||{x:Q,y:P},{ui:!0})}else{var g="mousemove"===R.type?R.target:document.elementFromPoint(R.clientX,R.clientY);this._targetEvent!==g&&(this._magnetUnderPointer&&this._viewUnderPointer.unhighlight(this._magnetUnderPointer,{connecting:!0}),this._viewUnderPointer=this.paper.findView(g),this._viewUnderPointer?(this._magnetUnderPointer=this._viewUnderPointer.findMagnet(g),this._magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(this._viewUnderPointer,this._magnetUnderPointer))?this._magnetUnderPointer&&this._viewUnderPointer.highlight(this._magnetUnderPointer,{connecting:!0}):this._magnetUnderPointer=null):this._magnetUnderPointer=null),this._targetEvent=g,this.model.set(this._arrowhead,{x:Q,y:P},{ui:!0})}}this._dx=Q,this._dy=P,e.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("link:pointermove",R,Q,P)},pointerup:function(B,A,z){if("label-move"===this._action){this._samples=null}else{if("arrowhead-move"===this._action){var y,x=this.paper,w=x.options,v=this._arrowhead,u=this._initialEnd;if(w.snapLinks){this._closestView&&(this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),y=this._closestView.findMagnet(this._closestEnd.selector)),this._closestView=this._closestEnd=null}else{var t=this._viewUnderPointer;if(y=this._magnetUnderPointer,this._viewUnderPointer=null,this._magnetUnderPointer=null,y){t.unhighlight(y,{connecting:!0});var s=t.getSelector(y),r=y.getAttribute("port"),q={id:t.model.id};null!=s&&(q.port=r),null!=r&&(q.selector=s),this.model.set(v,q,{ui:!0})}}if(!x.linkAllowed(this)){switch(this._whenNotAllowed){case"remove":this.model.remove();break;case"revert":default:this.model.set(v,u,{ui:!0})}}w.embeddingMode&&this.model.reparent()&&(this._z=null);var p=this.model.prop(v)||{},o=!e.dia.Link.endsEqual(u,p);o&&(u.id&&this.notify("link:disconnect",B,x.findViewByModel(u.id),this._initialMagnet,v),p.id&&this.notify("link:connect",B,x.findViewByModel(p.id),y,v)),this._afterArrowheadMove()}}this._action=null,this._whenNotAllowed=null,this._initialMagnet=null,this._initialEnd=null,this._validateConnectionArgs=null,this.notify("link:pointerup",B,A,z),e.dia.CellView.prototype.pointerup.apply(this,arguments)}},{makeSelector:function(l){var g='[model-id="'+l.id+'"]';return l.port?g+=' [port="'+l.port+'"]':l.selector&&(g+=" "+l.selector),g}}),e.dia.Paper=e.mvc.View.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,perpendicularLinks:!1,elementView:e.dia.ElementView,linkView:e.dia.LinkView,snapLinks:!1,multiLinks:!0,guard:function(l,g){return !1},highlighting:{"default":{name:"stroke",options:{padding:3}},magnetAvailability:{name:"addClass",options:{className:"available-magnet"}},elementAvailability:{name:"addClass",options:{className:"available-cell"}}},preventContextMenu:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new e.dia.Link,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},validateMagnet:function(l,g){return"passive"!==g.getAttribute("magnet")},validateConnection:function(l,g,p,o,n,m){return("target"===n?p:l) instanceof e.dia.ElementView},embeddingMode:!1,validateEmbedding:function(l,g){return !0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,clickThreshold:0,cellViewNamespace:e.shapes,highlighterNamespace:e.highlighters},events:{mousedown:"pointerdown",dblclick:"mousedblclick",click:"mouseclick",touchstart:"pointerdown",touchend:"mouseclick",touchmove:"pointermove",mousemove:"pointermove","mouseover .element":"cellMouseover","mouseover .link":"cellMouseover","mouseout .element":"cellMouseout","mouseout .link":"cellMouseout",contextmenu:"contextmenu",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel"},_highlights:[],init:function(){k.bindAll(this,"pointerup"),this.model=this.options.model||new e.dia.Graph,this.options.origin=k.clone(this.options.origin),this.options.defaultConnector=k.clone(this.options.defaultConnector),k.defaults(this.options.highlighting,this.constructor.prototype.options.highlighting),this.options.highlighting=k.cloneDeep(this.options.highlighting),this.svg=c("svg").node,this.viewport=c("g").addClass("viewport").node,this.defs=c("defs").node,c(this.svg).append([this.viewport,this.defs]),this.$el.append(this.svg),this.listenTo(this.model,"add",this.onCellAdded),this.listenTo(this.model,"remove",this.removeView),this.listenTo(this.model,"reset",this.resetViews),this.listenTo(this.model,"sort",this._onSort),this.listenTo(this.model,"batch:stop",this._onBatchStop),this.setOrigin(),this.setDimensions(),f(document).on("mouseup touchend",this.pointerup),this._mousemoved=0,this._views={},this.on("cell:highlight",this.onCellHighlight,this),this.on("cell:unhighlight",this.onCellUnhighlight,this)},_onSort:function(){this.model.hasActiveBatch("add")||this.sortViews()},_onBatchStop:function(l){var g=l&&l.batchName;"add"!==g||this.model.hasActiveBatch("add")||this.sortViews()},onRemove:function(){this.removeViews(),f(document).off("mouseup touchend",this.pointerup)},setDimensions:function(l,g){l=this.options.width=l||this.options.width,g=this.options.height=g||this.options.height,c(this.svg).attr({width:l,height:g}),this.trigger("resize",l,g)},setOrigin:function(l,g){this.options.origin.x=l||0,this.options.origin.y=g||0,c(this.viewport).translate(l,g,{absolute:!0}),this.trigger("translate",l,g),this.options.drawGrid&&this.drawGrid()},fitToContent:function(x,w,v,u){k.isObject(x)?(u=x,x=u.gridWidth||1,w=u.gridHeight||1,v=u.padding||0):(u=u||{},x=x||1,w=w||1,v=v||0),v=e.util.normalizeSides(v);var t=c(this.viewport).bbox(!0,this.svg),s=c(this.viewport).scale();t.x*=s.sx,t.y*=s.sy,t.width*=s.sx,t.height*=s.sy;var r=Math.max(Math.ceil((t.width+t.x)/x),1)*x,q=Math.max(Math.ceil((t.height+t.y)/w),1)*w,p=0,o=0;("negative"==u.allowNewOrigin&&t.x<0||"positive"==u.allowNewOrigin&&t.x>=0||"any"==u.allowNewOrigin)&&(p=Math.ceil(-t.x/x)*x,p+=v.left,r+=p),("negative"==u.allowNewOrigin&&t.y<0||"positive"==u.allowNewOrigin&&t.y>=0||"any"==u.allowNewOrigin)&&(o=Math.ceil(-t.y/w)*w,o+=v.top,q+=o),r+=v.right,q+=v.bottom,r=Math.max(r,u.minWidth||0),q=Math.max(q,u.minHeight||0),r=Math.min(r,u.maxWidth||Number.MAX_VALUE),q=Math.min(q,u.maxHeight||Number.MAX_VALUE);var n=r!=this.options.width||q!=this.options.height,m=p!=this.options.origin.x||o!=this.options.origin.y;m&&this.setOrigin(p,o),n&&this.setDimensions(r,q)},scaleContentToFit:function(D){var C=this.getContentBBox();if(C.width&&C.height){D=D||{},k.defaults(D,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var B=D.padding,A=D.minScaleX||D.minScale,z=D.maxScaleX||D.maxScale,y=D.minScaleY||D.minScale,x=D.maxScaleY||D.maxScale,w=D.fittingBBox||{x:this.options.origin.x,y:this.options.origin.y,width:this.options.width,height:this.options.height};w=h.rect(w).moveAndExpand({x:B,y:B,width:-2*B,height:-2*B});var v=c(this.viewport).scale(),u=w.width/C.width*v.sx,t=w.height/C.height*v.sy;if(D.preserveAspectRatio&&(u=t=Math.min(u,t)),D.scaleGrid){var s=D.scaleGrid;u=s*Math.floor(u/s),t=s*Math.floor(t/s)}u=Math.min(z,Math.max(A,u)),t=Math.min(x,Math.max(y,t)),this.scale(u,t);var r=this.getContentBBox(),q=w.x-r.x,g=w.y-r.y;this.setOrigin(q,g)}},getContentBBox:function(){var l=this.viewport.getBoundingClientRect(),g=this.viewport.getScreenCTM(),m=this.viewport.getCTM();return h.rect({x:l.left-g.e+m.e,y:l.top-g.f+m.f,width:l.width,height:l.height})},getArea:function(){var l=this.viewport.getCTM().inverse(),g={x:0,y:0,width:this.options.width,height:this.options.height};return h.rect(c.transformRect(g,l))},getRestrictedArea:function(){var g;return g=k.isFunction(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):this.options.restrictTranslate===!0?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(m){var l,r,q=this.options.cellViewNamespace,p=m.get("type")+"View",o=e.util.getByPath(q,p,".");m.isLink()?(l=this.options.linkView,r=e.dia.LinkView):(l=this.options.elementView,r=e.dia.ElementView);var n=l.prototype instanceof j.View?o||l:l.call(this,m)||o||r;return new n({model:m,interactive:this.options.interactive})},onCellAdded:function(l,g,m){if(this.options.async&&m.async!==!1&&k.isNumber(m.position)){if(this._asyncCells=this._asyncCells||[],this._asyncCells.push(l),0==m.position){if(this._frameId){throw new Error("another asynchronous rendering in progress")}this.asyncRenderViews(this._asyncCells,m),delete this._asyncCells}}else{this.renderView(l)}},removeView:function(l){var g=this._views[l.id];return g&&(g.remove(),delete this._views[l.id]),g},renderView:function(l){var g=this._views[l.id]=this.createViewForModel(l);return c(this.viewport).append(g.el),g.paper=this,g.render(),f(g.el).find("image").on("dragstart",function(){return !1}),g},beforeRenderViews:function(g){return g.sort(function(l){return l instanceof e.dia.Link?1:-1}),g},afterRenderViews:function(){this.sortViews()},resetViews:function(l,g){this.removeViews();var m=l.models.slice();m=this.beforeRenderViews(m,g)||m,this._frameId&&(e.util.cancelFrame(this._frameId),delete this._frameId),this.options.async?this.asyncRenderViews(m,g):(k.each(m,this.renderView,this),this.sortViews())},removeViews:function(){k.invoke(this._views,"remove"),this._views={}},asyncBatchAdded:k.noop,asyncRenderViews:function(l,g){if(this._frameId){var o=this.options.async&&this.options.async.batchSize||50,n=l.splice(0,o),m=this.model.get("cells");k.each(n,function(p){p.collection===m&&this.renderView(p)},this),this.asyncBatchAdded()}l.length?this._frameId=e.util.nextFrame(function(){this.asyncRenderViews(l,g)},this):(delete this._frameId,this.afterRenderViews(g),this.trigger("render:done",g))},sortViews:function(){var l=f(this.viewport).children("[model-id]"),g=this.model.get("cells");e.util.sortElements(l,function(m,p){var o=g.get(f(m).attr("model-id")),n=g.get(f(p).attr("model-id"));return(o.get("z")||0)>(n.get("z")||0)?1:-1})},scale:function(m,l,s,r){l=l||m,k.isUndefined(s)&&(s=0,r=0),c(this.viewport).attr("transform","");var q=this.options.origin.x,p=this.options.origin.y;if(s||r||q||p){var o=q-s*(m-1),n=p-r*(l-1);this.setOrigin(o,n)}return c(this.viewport).scale(m,l),this.trigger("scale",m,l,s,r),this.options.drawGrid&&this.drawGrid(),this},rotate:function(l,g,n){if(k.isUndefined(g)){var m=this.viewport.getBBox();g=m.width/2,n=m.height/2}c(this.viewport).rotate(l,g,n)},findView:function(l){for(var g=k.isString(l)?this.viewport.querySelector(l):l instanceof f?l[0]:l;g&&g!==this.el&&g!==document;){var m=g.getAttribute("model-id");if(m){return this._views[m]}g=g.parentNode}},findViewByModel:function(l){var g=k.isString(l)?l:l.id;return this._views[g]},findViewsFromPoint:function(l){l=h.point(l);var g=k.map(this.model.getElements(),this.findViewByModel,this);return k.filter(g,function(m){return m&&h.rect(m.vel.bbox(!1,this.viewport)).containsPoint(l)},this)},findViewsInArea:function(l,g){g=k.defaults(g||{},{strict:!1}),l=h.rect(l);var n=k.map(this.model.getElements(),this.findViewByModel,this),m=g.strict?"containsRect":"intersect";return k.filter(n,function(o){return o&&l[m](h.rect(o.vel.bbox(!1,this.viewport)))},this)},getModelById:function(g){return this.model.getCell(g)},snapToGrid:function(l){var g=c(this.viewport).toLocalPoint(l.x,l.y);return{x:h.snapToGrid(g.x,this.options.gridSize),y:h.snapToGrid(g.y,this.options.gridSize)}},clientToLocalPoint:function(l){l=h.point(l);var g=c("rect",{width:this.options.width,height:this.options.height,x:0,y:0,opacity:0});c(this.svg).prepend(g);var o=f(this.svg).offset();g.remove();var n=document.body.scrollTop||document.documentElement.scrollTop,m=document.body.scrollLeft||document.documentElement.scrollLeft;return l.offset(m-o.left,n-o.top),c.transformPoint(l,this.viewport.getCTM().inverse())},linkAllowed:function(m){var l;if(m instanceof e.dia.Link){l=m}else{if(!(m instanceof e.dia.LinkView)){throw new Error("Must provide link model or view.")}l=m.model}if(!this.options.multiLinks){var r=l.get("source"),q=l.get("target");if(r.id&&q.id){var p=l.getSourceElement();if(p){var o=this.model.getConnectedLinks(p,{outbound:!0,inbound:!1}),n=k.filter(o,function(s){var g=s.get("source"),t=s.get("target");return g&&g.id===r.id&&(!g.port||g.port===r.port)&&t&&t.id===q.id&&(!t.port||t.port===q.port)}).length;if(n>1){return !1}}}}return !!(this.options.linkPinning||k.has(l.get("source"),"id")&&k.has(l.get("target"),"id"))},getDefaultLink:function(l,g){return k.isFunction(this.options.defaultLink)?this.options.defaultLink.call(this,l,g):this.options.defaultLink.clone()},resolveHighlighter:function(l){l=l||{};var g=l.highlighter,p=this.options;if(k.isUndefined(g)){var o=k.chain(l).pick("embedding","connecting","magnetAvailability","elementAvailability").keys().first().value();g=o&&p.highlighting[o]||p.highlighting["default"]}if(!g){return !1}var n=g.name,m=p.highlighterNamespace[n];if(!m){throw new Error('Unknown highlighter ("'+n+'")')}if("function"!=typeof m.highlight){throw new Error('Highlighter ("'+n+'") is missing required highlight() method')}if("function"!=typeof m.unhighlight){throw new Error('Highlighter ("'+n+'") is missing required unhighlight() method')}return{highlighter:m,options:g.options,name:n}},onCellHighlight:function(l,g,o){if(o=this.resolveHighlighter(o)){var n=o.name+g.id+JSON.stringify(o.options);if(!this._highlights[n]){var m=o.highlighter;m.highlight(l,g,k.clone(o.options)),this._highlights[n]={cellView:l,magnetEl:g,opt:o.options,highlighter:m}}}},onCellUnhighlight:function(l,g,o){if(o=this.resolveHighlighter(o)){var n=o.name+g.id+JSON.stringify(o.options),m=this._highlights[n];m&&(m.highlighter.unhighlight(m.cellView,m.magnetEl,m.opt),this._highlights[n]=null)}},mousedblclick:function(l){l.preventDefault(),l=e.util.normalizeEvent(l);var g=this.findView(l.target);if(!this.guard(l,g)){var m=this.snapToGrid({x:l.clientX,y:l.clientY});g?g.pointerdblclick(l,m.x,m.y):this.trigger("blank:pointerdblclick",l,m.x,m.y)}},mouseclick:function(l){if(this._mousemoved<=this.options.clickThreshold){l=e.util.normalizeEvent(l);var g=this.findView(l.target);if(this.guard(l,g)){return}var m=this.snapToGrid({x:l.clientX,y:l.clientY});g?g.pointerclick(l,m.x,m.y):this.trigger("blank:pointerclick",l,m.x,m.y)}},guard:function(l,g){return this.options.guard&&this.options.guard(l,g)?!0:g&&g.model&&g.model instanceof e.dia.Cell?!1:this.svg!==l.target&&this.el!==l.target&&!f.contains(this.svg,l.target)},contextmenu:function(l){l=e.util.normalizeEvent(l),this.options.preventContextMenu&&l.preventDefault();var g=this.findView(l.target);if(!this.guard(l,g)){var m=this.snapToGrid({x:l.clientX,y:l.clientY});g?g.contextmenu(l,m.x,m.y):this.trigger("blank:contextmenu",l,m.x,m.y)}},pointerdown:function(l){l=e.util.normalizeEvent(l);var g=this.findView(l.target);if(!this.guard(l,g)){l.preventDefault(),this._mousemoved=0;var m=this.snapToGrid({x:l.clientX,y:l.clientY});g?(this.sourceView=g,g.pointerdown(l,m.x,m.y)):this.trigger("blank:pointerdown",l,m.x,m.y)}},pointermove:function(l){if(this.sourceView){l.preventDefault(),l=e.util.normalizeEvent(l),this._mousemoved++;var g=this.snapToGrid({x:l.clientX,y:l.clientY});this.sourceView.pointermove(l,g.x,g.y)}},pointerup:function(l){l=e.util.normalizeEvent(l);var g=this.snapToGrid({x:l.clientX,y:l.clientY});this.sourceView?(this.sourceView.pointerup(l,g.x,g.y),this.sourceView=null):this.trigger("blank:pointerup",l,g.x,g.y)},mousewheel:function(l){l=e.util.normalizeEvent(l);var g=this.findView(l.target);if(!this.guard(l,g)){var o=l.originalEvent,n=this.snapToGrid({x:o.clientX,y:o.clientY}),m=Math.max(-1,Math.min(1,o.wheelDelta||-o.detail));g?g.mousewheel(l,n.x,n.y,m):this.trigger("blank:mousewheel",l,n.x,n.y,m)}},cellMouseover:function(l){l=e.util.normalizeEvent(l);var g=this.findView(l.target);if(g){if(this.guard(l,g)){return}g.mouseover(l)}},cellMouseout:function(l){l=e.util.normalizeEvent(l);var g=this.findView(l.target);if(g){if(this.guard(l,g)){return}g.mouseout(l)}},setGridSize:function(g){return this.options.gridSize=g,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.el.style.backgroundImage="none",this},drawGrid:function(x){x=k.defaults(x||{},this.options.drawGrid,{color:"#aaa",thickness:1});var w=this.options.gridSize;if(1>=w){return this.clearGrid()}var v=c(this.viewport).scale(),u=v.sx,t=v.sy,s=this.options.origin.x,r=this.options.origin.y,q=w*u,p=w*t,o=document.createElement("canvas");o.width=q,o.height=p,q=s>=0?s%q:q+s%q,p=r>=0?r%p:p+r%p;var n=o.getContext("2d");n.beginPath(),n.rect(q,p,x.thickness*u,x.thickness*t),n.fillStyle=x.color,n.fill();var m=o.toDataURL("image/png");return this.el.style.backgroundImage='url("'+m+'")',this},setInteractivity:function(g){this.options.interactive=g,k.invoke(this._views,"setInteractivity",g)}}),e.shapes.basic={},e.shapes.basic.Generic=e.dia.Element.extend({defaults:e.util.deepSupplement({type:"basic.Generic",attrs:{".":{fill:"#ffffff",stroke:"none"}}},e.dia.Element.prototype.defaults)}),e.shapes.basic.Rect=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Rect",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":0.5,"ref-y":0.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.TextView=e.dia.ElementView.extend({initialize:function(){e.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:attrs",this.resize)}}),e.shapes.basic.Text=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><text/></g></g>',defaults:e.util.deepSupplement({type:"basic.Text",attrs:{text:{"font-size":18,fill:"#000000"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Circle=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Circle",size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":0.5,"ref-y":0.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Ellipse=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Ellipse",size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":0.5,"ref-y":0.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Polygon=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Polygon",size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":0.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Polyline=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Polyline",size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":0.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Image=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Image",attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":0.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Path=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>',defaults:e.util.deepSupplement({type:"basic.Path",size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":0.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.basic.Rhombus=e.shapes.basic.Path.extend({defaults:e.util.deepSupplement({type:"basic.Rhombus",attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":0.5,"y-alignment":"middle"}}},e.shapes.basic.Path.prototype.defaults)}),e.shapes.basic.PortsModelInterface={initialize:function(){this.updatePortsAttrs(),this.on("change:inPorts change:outPorts",this.updatePortsAttrs,this),this.constructor.__super__.constructor.__super__.initialize.apply(this,arguments)},updatePortsAttrs:function(l){if(this._portSelectors){var g=k.omit(this.get("attrs"),this._portSelectors);this.set("attrs",g,{silent:!0})}this._portSelectors=[];var m={};k.each(this.get("inPorts"),function(o,n,q){var p=this.getPortAttrs(o,n,q.length,".inPorts","in");this._portSelectors=this._portSelectors.concat(k.keys(p)),k.extend(m,p)},this),k.each(this.get("outPorts"),function(o,n,q){var p=this.getPortAttrs(o,n,q.length,".outPorts","out");this._portSelectors=this._portSelectors.concat(k.keys(p)),k.extend(m,p)},this),this.attr(m,{silent:!0}),this.processPorts(),this.trigger("process:ports")},getPortSelector:function(l){var g=".inPorts",m=this.get("inPorts").indexOf(l);if(0>m&&(g=".outPorts",m=this.get("outPorts").indexOf(l),0>m)){throw new Error("getPortSelector(): Port doesn't exist.")}return g+">g:nth-child("+(m+1)+")>.port-body"}},e.shapes.basic.PortsViewInterface={initialize:function(){this.listenTo(this.model,"process:ports",this.update),e.dia.ElementView.prototype.initialize.apply(this,arguments)},update:function(){this.renderPorts(),e.dia.ElementView.prototype.update.apply(this,arguments)},renderPorts:function(){var l=this.$(".inPorts").empty(),g=this.$(".outPorts").empty(),m=e.util.template(this.model.portMarkup);k.each(k.filter(this.model.ports,function(n){return"in"===n.type}),function(n,o){l.append(c(m({id:o,port:n})).node)}),k.each(k.filter(this.model.ports,function(n){return"out"===n.type}),function(n,o){g.append(c(m({id:o,port:n})).node)})}},e.shapes.basic.TextBlock=e.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',e.env.test("svgforeignobject")?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),defaults:e.util.deepSupplement({type:"basic.TextBlock",attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"",ref:"rect","ref-x":0.5,"ref-y":0.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},e.shapes.basic.Generic.prototype.defaults),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),e.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateSize:function(l,g){this.attr({".fobj":k.clone(g),div:{style:k.clone(g)}})},updateContent:function(l,g){e.env.test("svgforeignobject")?this.attr({".content":{html:g}}):this.attr({".content":{text:g}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),e.shapes.basic.TextBlockView=e.dia.ElementView.extend({initialize:function(){e.dia.ElementView.prototype.initialize.apply(this,arguments),this.noSVGForeignObjectElement=!e.env.test("svgforeignobject"),e.env.test("svgforeignobject")||this.listenTo(this.model,"change:content",function(g){this.updateContent(g)})},update:function(l,g){if(e.env.test("svgforeignobject")){var n=this.model,m=k.omit(g||n.get("attrs"),".content");e.dia.ElementView.prototype.update.call(this,n,m),g&&!k.has(g,".content")||this.updateContent(n,g)}else{e.dia.ElementView.prototype.update.call(this,n,g)}},updateContent:function(l,g){var o=k.merge({},(g||l.get("attrs"))[".content"]);o=k.omit(o,"text");var n=e.util.breakText(l.get("content"),l.get("size"),o,{svgDocument:this.paper.svg}),m=e.util.setByPath({},".content",o,"/");m[".content"].text=n,e.dia.ElementView.prototype.update.call(this,l,m)}}),e.routers.manhattan=function(D,C,B){function A(g){this.map={},this.options=g,this.mapGridSize=100}function z(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function y(g){return D.point(0===g.x?0:Math.abs(g.x)/g.x,0===g.y?0:Math.abs(g.y)/g.y)}function x(K,J,I,H){for(var G,F=[],E=y(H.difference(J)),o=J;G=K[o];){var n=y(o.difference(G));n.equals(E)||(F.unshift(o),E=n),o=G}var m=y(D.point(o).difference(I));return m.equals(E)||F.unshift(o),F}function w(l,F,E){var o=E.step,n=l.center(),m=C.chain(E.directionMap).pick(F).map(function(G){var J=G.x*l.width/2,I=G.y*l.height/2,H=n.clone().offset(J,I);return l.containsPoint(H)&&H.offset(G.x*o,G.y*o),H.snapToGrid(o)}).value();return m}function v(g,n,m){var l=360/m;return Math.floor(D.normalizeAngle(g.theta(n)+l/2)/l)*l}function u(l,g){var m=Math.abs(l-g);return m>180?360-m:m}function t(l,g){for(var E=1/0,o=0,n=g.length;n>o;o++){var m=l.manhattanDistance(g[o]);E>m&&(E=m)}return E}function s(aj,ai,ah,ag){var af,ae,ad,ac,aa=ag.step;if(aj instanceof D.rect?(af=w(aj,ag.startDirections,ag),ad=aj.center().snapToGrid(aa)):(ad=aj.clone().snapToGrid(aa),af=[ad]),ai instanceof D.rect?(ae=w(ai,ag.endDirections,ag),ac=ai.center().snapToGrid(aa)):(ac=ai.clone().snapToGrid(aa),ae=[ac]),af=C.filter(af,ah.isPointAccessible,ah),ae=C.filter(ae,ah.isPointAccessible,ah),af.length>0&&ae.length>0){var Y=new z,W={},T={};C.each(af,function(m){var l=m.toString();Y.add(l,t(m,ae)),T[l]=0});for(var R,P,N=ag.directions,L=N.length,J=ag.maximumLoops,g=C.invoke(ae,"toString");!Y.isEmpty()&&J>0;){var ab=Y.pop(),Z=D.point(ab),X=T[ab],U=S,S=W[ab]?v(W[ab],Z,L):null!=ag.previousDirAngle?ag.previousDirAngle:v(ad,Z,L);if(g.indexOf(ab)>=0&&(P=u(S,v(Z,ac,L)),Z.equals(ac)||180>P)){return ag.previousDirAngle=S,x(W,Z,ad,ac)}for(var Q=0;L>Q;Q++){if(R=N[Q],P=u(S,R.angle),!(U&&P>ag.maxAllowedDirectionChange)){var O=Z.clone().offset(R.offsetX,R.offsetY),M=O.toString();if(!Y.isClose(M)&&ah.isPointAccessible(O)){var K=X+R.cost+ag.penalties[P];(!Y.isOpen(M)||K<T[M])&&(W[M]=Z,T[M]=K,Y.add(M,K+t(O,ae)))}}}J--}}return ag.fallbackRoute(ad,ac,ag)}function r(g){g.directions=C.result(g,"directions"),g.penalties=C.result(g,"penalties"),g.paddingBox=C.result(g,"paddingBox"),C.each(g.directions,function(l){var n=D.point(0,0),m=D.point(l.offsetX,l.offsetY);l.angle=D.normalizeAngle(n.theta(m))})}function q(N,M){r(M),this.options.perpendicular=!!M.perpendicular;for(var L=D.rect(this.sourceBBox).moveAndExpand(M.paddingBox),K=D.rect(this.targetBBox).moveAndExpand(M.paddingBox),J=new A(M).build(this.paper.model,this.model),I=C.map(N,D.point),H=[],G=L.center().snapToGrid(M.step),F=0,E=I.length;E>=F;F++){var m=null,l=R||L,R=I[F];if(!R){R=K;var Q=!this.model.get("source").id||!this.model.get("target").id;if(Q&&C.isFunction(M.draggingRoute)){var P=l instanceof D.rect?l.center():l;m=M.draggingRoute(P,R.origin(),M)}}if(m=m||s(l,R,J,M),null===m){if(!C.isFunction(B.routers.orthogonal)){throw new Error("Manhattan requires the orthogonal router.")}return B.routers.orthogonal(N,M,this)}var O=C.first(m);O&&O.equals(G)&&m.shift(),G=C.last(m)||G,Array.prototype.push.apply(H,m)}return H}var p={step:10,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],maximumLoops:2000,startDirections:["left","right","top","bottom"],endDirections:["left","right","top","bottom"],directionMap:{right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0},top:{x:0,y:-1}},maxAllowedDirectionChange:90,paddingBox:function(){var g=this.step;return{x:-g,y:-g,width:2*g,height:2*g}},directions:function(){var g=this.step;return[{offsetX:g,offsetY:0,cost:g},{offsetX:0,offsetY:g,cost:g},{offsetX:-g,offsetY:0,cost:g},{offsetX:0,offsetY:-g,cost:g}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},fallbackRoute:C.constant(null),draggingRoute:null};return A.prototype.build=function(l,H){var G=this.options,F=C.chain(G.excludeEnds).map(H.get,H).pluck("id").map(l.getCell,l).value(),E=[],o=l.getCell(H.get("source").id);o&&(E=C.union(E,C.map(o.getAncestors(),"id")));var n=l.getCell(H.get("target").id);n&&(E=C.union(E,C.map(n.getAncestors(),"id")));var m=this.mapGridSize;return C.chain(l.getElements()).difference(F).reject(function(g){return C.contains(G.excludeTypes,g.get("type"))||C.contains(E,g.id)}).invoke("getBBox").invoke("moveAndExpand",G.paddingBox).foldl(function(J,I){for(var O=I.origin().snapToGrid(m),N=I.corner().snapToGrid(m),M=O.x;M<=N.x;M+=m){for(var L=O.y;L<=N.y;L+=m){var K=M+"@"+L;J[K]=J[K]||[],J[K].push(I)}}return J},this.map).value(),this},A.prototype.isPointAccessible=function(g){var l=g.clone().snapToGrid(this.mapGridSize).toString();return C.every(this.map[l],function(m){return !m.containsPoint(g)})},z.prototype.add=function(g,m){this.hash[g]?this.items.splice(this.items.indexOf(g),1):this.hash[g]=this.OPEN,this.values[g]=m;var l=C.sortedIndex(this.items,g,function(n){return this.values[n]},this);this.items.splice(l,0,g)},z.prototype.remove=function(g){this.hash[g]=this.CLOSE},z.prototype.isOpen=function(g){return this.hash[g]===this.OPEN},z.prototype.isClose=function(g){return this.hash[g]===this.CLOSE},z.prototype.isEmpty=function(){return 0===this.items.length},z.prototype.pop=function(){var g=this.items.shift();return this.remove(g),g},function(g,m,l){return q.call(l,g,C.extend({},p,m))}}(h,k,e),e.routers.metro=function(){if(!k.isFunction(e.routers.manhattan)){throw new Error("Metro requires the manhattan router.")}var g={diagonalCost:null,directions:function(){var m=this.step,l=this.diagonalCost||Math.ceil(Math.sqrt(m*m<<1));return[{offsetX:m,offsetY:0,cost:m},{offsetX:m,offsetY:m,cost:l},{offsetX:0,offsetY:m,cost:m},{offsetX:-m,offsetY:m,cost:l},{offsetX:-m,offsetY:0,cost:m},{offsetX:-m,offsetY:-m,cost:l},{offsetX:0,offsetY:-m,cost:m},{offsetX:m,offsetY:-m,cost:l}]},maxAllowedDirectionChange:45,fallbackRoute:function(A,z,y){var x=A.theta(z),w={x:z.x,y:A.y},v={x:A.x,y:z.y};if(x%180>90){var u=w;w=v,v=u}var t=45>x%90?w:v,s=h.line(A,t),r=90*Math.ceil(x/90),q=h.point.fromPolar(s.squaredLength(),h.toRad(r+135),t),p=h.line(z,q),o=s.intersection(p);return o?[o.round(),z]:[z]}};return function(l,n,m){return e.routers.manhattan(l,k.extend({},g,n),m)}}(),e.routers.normal=function(l,g,m){return l},e.routers.oneSide=function(x,w,v){var u,t,s,r=w.side||"bottom",q=w.padding||40,p=v.sourceBBox,o=v.targetBBox,n=p.center(),m=o.center();switch(r){case"bottom":s=1,u="y",t="height";break;case"top":s=-1,u="y",t="height";break;case"left":s=-1,u="x",t="width";break;case"right":s=1,u="x",t="width";break;default:throw new Error("Router: invalid side")}return n[u]+=s*(p[t]/2+q),m[u]+=s*(o[t]/2+q),s*(n[u]-m[u])>0?m[u]=n[u]:n[u]=m[u],[n].concat(x,m)},e.routers.orthogonal=function(){function B(m,l){return m.x==l.x?m.y>l.y?"N":"S":m.y==l.y?m.x>l.x?"W":"E":null}function A(m,l){return m["W"==l||"E"==l?"width":"height"]}function z(m,l){return h.rect(m).moveAndExpand({x:-l,y:-l,width:2*l,height:2*l})}function y(l){return h.rect(l.x,l.y,0,0)}function x(m,l){var D=Math.min(m.x,l.x),C=Math.min(m.y,l.y),o=Math.max(m.x+m.width,l.x+l.width),n=Math.max(m.y+m.height,l.y+l.height);return h.rect(D,C,o-D,n-C)}function w(m,l,o){var n=h.point(m.x,l.y);return o.containsPoint(n)&&(n=h.point(l.x,m.y)),n}function v(G,F,E){var D=h.point(G.x,F.y),C=h.point(F.x,G.y),o=B(G,D),n=B(G,C),m=p[E],l=o==E||o!=m&&(n==m||n!=E)?D:C;return{points:[l],direction:B(l,F)}}function u(l,o,n){var m=w(l,o,n);return{points:[m],direction:B(m,o)}}function t(M,L,K,J){var I,H={},G=[h.point(M.x,L.y),h.point(L.x,M.y)],F=k.filter(G,function(l){return !K.containsPoint(l)}),E=k.filter(F,function(l){return B(l,M)!=J});if(E.length>0){I=k.filter(E,function(l){return B(M,l)==J}).pop(),I=I||E[0],H.points=[I],H.direction=B(I,L)}else{I=k.difference(G,F)[0];var D=h.point(L).move(I,-A(K,J)/2),C=w(D,M,K);H.points=[C,D],H.direction=B(D,L)}return H}function s(N,M,L,K){var J=u(M,N,K),I=J.points[0];if(L.containsPoint(I)){J=u(N,M,L);var H=J.points[0];if(K.containsPoint(H)){var G=h.point(N).move(H,-A(L,B(N,H))/2),F=h.point(M).move(I,-A(K,B(M,I))/2),E=h.line(G,F).midpoint(),D=u(N,E,L),C=v(E,M,D.direction);J.points=[D.points[0],C.points[0]],J.direction=C.direction}}return J}function r(M,L,K,J,I){var H,G,F,E={},D=z(x(K,J),1),C=D.center().distance(L)>D.center().distance(M),o=C?L:M,N=C?M:L;return I?(H=h.point.fromPolar(D.width+D.height,g[I],o),H=D.pointNearestToPoint(H).move(H,-1)):H=D.pointNearestToPoint(o).move(o,1),G=w(H,N,D),H.round().equals(G.round())?(G=h.point.fromPolar(D.width+D.height,h.toRad(H.theta(o))+Math.PI/2,N),G=D.pointNearestToPoint(G).move(N,1).round(),F=w(H,G,D),E.points=C?[G,F,H]:[H,F,G]):E.points=C?[G,H]:[H,G],E.direction=C?B(H,L):B(G,L),E}function q(J,I,H){var G=I.elementPadding||20,F=[],E=z(H.sourceBBox,G),D=z(H.targetBBox,G);J=k.map(J,h.point),J.unshift(E.center()),J.push(D.center());for(var C,l=0,P=J.length-1;P>l;l++){var O=null,N=J[l],M=J[l+1],L=!!B(N,M);if(0==l){l+1==P?E.intersect(z(D,1))?O=r(N,M,E,D):L||(O=s(N,M,E,D)):E.containsPoint(M)?O=r(N,M,E,z(y(M),G)):L||(O=u(N,M,E))}else{if(l+1==P){var K=L&&B(M,N)==C;D.containsPoint(N)||K?O=r(N,M,z(y(N),G),D,C):L||(O=t(N,M,D,C))}else{L||(O=v(N,M,C))}}O?(Array.prototype.push.apply(F,O.points),C=O.direction):C=B(N,M),P>l+1&&F.push(M)}return F}var p={N:"S",S:"N",E:"W",W:"E"},g={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};return q}(),e.connectors.normal=function(l,g,n){var m=["M",l.x,l.y];return k.each(n,function(o){m.push(o.x,o.y)}),m.push(g.x,g.y),m.join(" ")},e.connectors.rounded=function(x,w,v,u){u=u||{};var t,s,r,q,p,o,n=u.radius||10,g=["M",x.x,x.y];return k.each(v,function(l,m){p=v[m-1]||x,o=v[m+1]||w,r=q||h.point(l).distance(p)/2,q=h.point(l).distance(o)/2,t=h.point(l).move(p,-Math.min(n,r)).round(),s=h.point(l).move(o,-Math.min(n,q)).round(),g.push(t.x,t.y,"S",l.x,l.y,s.x,s.y,"L")}),g.push(w.x,w.y),g.join(" ")},e.connectors.smooth=function(l,g,o){var n;if(o.length){n=h.bezier.curveThroughPoints([l].concat(o).concat([g]))}else{var m=(l.x+g.x)/2;n=["M",l.x,l.y,"C",m,l.y,m,g.y,g.x,g.y]}return n.join(" ")},e.connectors.jumpover=function(z,y){function x(g,A,m){var l=[].concat(g,m,A);return l.reduce(function(B,E,D){var C=l[D+1];return null!=C&&(B[D]=y.line(E,C)),B},[])}function w(l){var g=l.paper._jumpOverUpdateList;null==g&&(g=l.paper._jumpOverUpdateList=[],l.paper.on("cell:pointerup",v),l.paper.model.on("reset",function(){g=[]})),g.indexOf(l)<0&&(g.push(l),l.listenToOnce(l.model,"change:connector remove",function(){g.splice(g.indexOf(l),1)}))}function v(){for(var l=this._jumpOverUpdateList,g=0;g<l.length;g++){l[g].update()}}function u(g,l){return z(l).map(function(m){return g.intersection(m)}).compact().value()}function t(g,l){return y.line(g,l).squaredLength()}function s(g,m,l){return m.reduce(function(K,J,I){if(J.skip===!0){return K}var H=K.pop()||g,G=y.point(J).move(H.start,-l),F=y.point(J).move(H.start,+l),E=m[I+1];if(null!=E){var D=F.distance(E);l>=D&&(F=E.move(H.start,D),E.skip=!0)}else{var C=G.distance(H.end);if(2*l+o>C){return K.push(H),K}}var B=F.distance(H.start);if(2*l+o>B){return K.push(H),K}var A=y.line(G,F);return A.isJump=!0,K.push(y.line(H.start,G),A,y.line(F,H.end)),K},[])}function r(C,B,A){var m=["M",C[0].start.x,C[0].start.y],l=z(C).map(function(D){if(D.isJump){var K;if("arc"===A){K=D.start.difference(D.end);var J=Number(K.x<0&&K.y<0);return["A",B,B,0,0,J,D.end.x,D.end.y]}if("gap"===A){return["M",D.end.x,D.end.y]}if("cubic"===A){K=D.start.difference(D.end);var I=D.start.theta(D.end),H=0.6*B,G=1.35*B;K.x<0&&K.y<0&&(G*=-1);var F=y.point(D.start.x+H,D.start.y+G).rotate(D.start,I),E=y.point(D.end.x-H,D.end.y+G).rotate(D.end,I);return["C",F.x,F.y,E.x,E.y,D.end.x,D.end.y]}}return["L",D.end.x,D.end.y]}).flatten().value();return[].concat(m,l).join(" ")}var q=5,p=["arc","gap","cubic"],o=1,n=["smooth"];return function(R,Q,P,O){w(this);var N=O.size||q,M=O.jump&&(""+O.jump).toLowerCase(),K=O.ignoreConnectors||n;-1===p.indexOf(M)&&(M=p[0]);var I=this.paper,H=I.model,G=H.getLinks();if(1===G.length){return r(x(R,Q,P),N,M)}var F=this.model,E=G.indexOf(F),D=I.options.defaultConnector||{},C=G.filter(function(l,B){var A=l.get("connector")||D;return z.contains(K,A.name)?!1:B>E?"jumpover"!==A.name:!0}),m=C.map(function(l){return I.findViewByModel(l)}),g=x(R,Q,P),L=m.map(function(l){return null==l?[]:l===this?g:x(l.sourcePoint,l.targetPoint,l.route)},this),J=g.reduce(function(l,B){var A=z(C).map(function(T,S){return T===F?null:u(B,L[S])}).flatten().compact().sortBy(z.partial(t,B.start)).value();return A.length>0?l.push.apply(l,s(B,A,N)):l.push(B),l},[]);return r(J,N,M)}}(k,h),e.highlighters.addClass={className:"highlighted",highlight:function(l,g,n){var m=n.className||this.className;c(g).addClass(m)},unhighlight:function(l,g,n){var m=n.className||this.className;c(g).removeClass(m)}},e.highlighters.opacity={highlight:function(l,g,m){c(g).addClass("joint-highlight-opacity")},unhighlight:function(l,g,m){c(g).removeClass("joint-highlight-opacity")}},e.highlighters.stroke={defaultOptions:{padding:3,rx:0,ry:0},_views:{},highlight:function(B,A,z){if(!this._views[A.id]){z=k.defaults(z||{},this.defaultOptions);var y=c(A),x=y.bbox(!0);try{var w=y.convertToPathData()}catch(v){w=c.rectToPath(k.extend({},z,x))}var u=c("path").attr({d:w,"class":"joint-highlight-stroke","pointer-events":"none"});u.transform(B.el.getCTM().inverse()),u.transform(A.getCTM());var t=z.padding;if(t){var s=x.x+x.width/2,r=x.y+x.height/2,q=(x.width+t)/x.width,p=(x.height+t)/x.height;u.transform({a:q,b:0,c:0,d:p,e:s-q*s,f:r-p*r})}var o=this._views[A.id]=new e.mvc.View({el:u.node,$el:u});o.listenTo(B.model,"remove",o.remove),B.vel.append(u)}},unhighlight:function(l,g,m){m=k.defaults(m||{},this.defaultOptions),this._views[g.id]&&(this._views[g.id].remove(),this._views[g.id]=null)}};e.shapes.erd={},e.shapes.erd.Entity=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:e.util.deepSupplement({type:"erd.Entity",size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,ref:".outer","ref-x":0.5,"ref-y":0.5,"x-alignment":"middle","y-alignment":"middle"}}},e.dia.Element.prototype.defaults)}),e.shapes.erd.WeakEntity=e.shapes.erd.Entity.extend({defaults:e.util.deepSupplement({type:"erd.WeakEntity",attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}},e.shapes.erd.Entity.prototype.defaults)}),e.shapes.erd.Relationship=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>',defaults:e.util.deepSupplement({type:"erd.Relationship",size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,ref:".","ref-x":0.5,"ref-y":0.5,"x-alignment":"middle","y-alignment":"middle"}}},e.dia.Element.prototype.defaults)}),e.shapes.erd.IdentifyingRelationship=e.shapes.erd.Relationship.extend({defaults:e.util.deepSupplement({type:"erd.IdentifyingRelationship",attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}},e.shapes.erd.Relationship.prototype.defaults)}),e.shapes.erd.Attribute=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>',defaults:e.util.deepSupplement({type:"erd.Attribute",size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,ref:".","ref-x":0.5,"ref-y":0.5,"x-alignment":"middle","y-alignment":"middle"}}},e.dia.Element.prototype.defaults)}),e.shapes.erd.Multivalued=e.shapes.erd.Attribute.extend({defaults:e.util.deepSupplement({type:"erd.Multivalued",attrs:{".inner":{display:"block"},text:{text:"multivalued"}}},e.shapes.erd.Attribute.prototype.defaults)}),e.shapes.erd.Derived=e.shapes.erd.Attribute.extend({defaults:e.util.deepSupplement({type:"erd.Derived",attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}},e.shapes.erd.Attribute.prototype.defaults)}),e.shapes.erd.Key=e.shapes.erd.Attribute.extend({defaults:e.util.deepSupplement({type:"erd.Key",attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}},e.shapes.erd.Attribute.prototype.defaults)}),e.shapes.erd.Normal=e.shapes.erd.Attribute.extend({defaults:e.util.deepSupplement({type:"erd.Normal",attrs:{text:{text:"Normal"}}},e.shapes.erd.Attribute.prototype.defaults)}),e.shapes.erd.ISA=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>',defaults:e.util.deepSupplement({type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,ref:"polygon","ref-x":0.5,"ref-y":0.3,"x-alignment":"middle","y-alignment":"middle"}}},e.dia.Element.prototype.defaults)}),e.shapes.erd.Line=e.dia.Link.extend({defaults:{type:"erd.Line"},cardinality:function(g){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:g}}}])}});e.shapes.fsa={},e.shapes.fsa.State=e.shapes.basic.Circle.extend({defaults:e.util.deepSupplement({type:"fsa.State",attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}},e.shapes.basic.Circle.prototype.defaults)}),e.shapes.fsa.StartState=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>',defaults:e.util.deepSupplement({type:"fsa.StartState",size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},e.dia.Element.prototype.defaults)}),e.shapes.fsa.EndState=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:e.util.deepSupplement({type:"fsa.EndState",size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},e.dia.Element.prototype.defaults)}),e.shapes.fsa.Arrow=e.dia.Link.extend({defaults:e.util.deepSupplement({type:"fsa.Arrow",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0},e.dia.Link.prototype.defaults)});e.shapes.org={},e.shapes.org.Member=e.dia.Element.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>',defaults:e.util.deepSupplement({type:"org.Member",size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":0.9,"ref-y":0.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":0.9,"ref-y":0.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},e.dia.Element.prototype.defaults)}),e.shapes.org.Arrow=e.dia.Link.extend({defaults:{type:"org.Arrow",source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}});e.shapes.chess={},e.shapes.chess.KingWhite=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.KingWhite",size:{width:42,height:38}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.KingBlack=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.KingBlack",size:{width:42,height:38}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.QueenWhite=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.QueenWhite",size:{width:42,height:38}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.QueenBlack=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.QueenBlack",size:{width:42,height:38}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.RookWhite=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.RookWhite",size:{width:32,height:34}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.RookBlack=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.RookBlack",size:{width:32,height:34}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.BishopWhite=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.BishopWhite",size:{width:38,height:38}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.BishopBlack=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.BishopBlack",size:{width:38,height:38}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.KnightWhite=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.KnightWhite",size:{width:38,height:37}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.KnightBlack=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>',defaults:e.util.deepSupplement({type:"chess.KnightBlack",size:{width:38,height:37}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.PawnWhite=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:e.util.deepSupplement({type:"chess.PawnWhite",size:{width:28,height:33}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.chess.PawnBlack=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>',defaults:e.util.deepSupplement({type:"chess.PawnBlack",size:{width:28,height:33}},e.shapes.basic.Generic.prototype.defaults)});e.shapes.pn={},e.shapes.pn.Place=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>',defaults:e.util.deepSupplement({type:"pn.Place",size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":0.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.pn.PlaceView=e.dia.ElementView.extend({initialize:function(){e.dia.ElementView.prototype.initialize.apply(this,arguments),this.model.on("change:tokens",function(){this.renderTokens(),this.update()},this)},render:function(){e.dia.ElementView.prototype.render.apply(this,arguments),this.renderTokens(),this.update()},renderTokens:function(){var l=this.$(".tokens").empty();l[0].className.baseVal="tokens";var g=this.model.get("tokens");if(g){switch(g){case 1:l[0].className.baseVal+=" one",l.append(c("<circle/>").node);break;case 2:l[0].className.baseVal+=" two",l.append(c("<circle/>").node,c("<circle/>").node);break;case 3:l[0].className.baseVal+=" three",l.append(c("<circle/>").node,c("<circle/>").node,c("<circle/>").node);break;default:l[0].className.baseVal+=" alot",l.append(c("<text/>").text(g+"").node)}}}}),e.shapes.pn.Transition=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>',defaults:e.util.deepSupplement({type:"pn.Transition",size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":0.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.pn.Link=e.dia.Link.extend({defaults:e.util.deepSupplement({type:"pn.Link",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}},e.dia.Link.prototype.defaults)});e.shapes.devs={},e.shapes.devs.Model=e.shapes.basic.Generic.extend(k.extend({},e.shapes.basic.PortsModelInterface,{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><text class="label"/><g class="inPorts"/><g class="outPorts"/></g>',portMarkup:'<g class="port port<%= id %>"><circle class="port-body"/><text class="port-label"/></g>',defaults:e.util.deepSupplement({type:"devs.Model",size:{width:1,height:1},inPorts:[],outPorts:[],attrs:{".":{magnet:!1},".body":{width:150,height:250,stroke:"#000000"},".port-body":{r:10,magnet:!0,stroke:"#000000"},text:{"pointer-events":"none"},".label":{text:"Model","ref-x":0.5,"ref-y":10,ref:".body","text-anchor":"middle",fill:"#000000"},".inPorts .port-label":{x:-15,dy:4,"text-anchor":"end",fill:"#000000"},".outPorts .port-label":{x:15,dy:4,fill:"#000000"}}},e.shapes.basic.Generic.prototype.defaults),getPortAttrs:function(u,t,s,r,q){var p={},o="port"+t,n=r+">."+o,m=n+">.port-label",l=n+">.port-body";return p[m]={text:u},p[l]={port:{id:u||k.uniqueId(q),type:q}},p[n]={ref:".body","ref-y":(t+0.5)*(1/s)},".outPorts"===r&&(p[n]["ref-dx"]=0),p}})),e.shapes.devs.Atomic=e.shapes.devs.Model.extend({defaults:e.util.deepSupplement({type:"devs.Atomic",size:{width:80,height:80},attrs:{".body":{fill:"salmon"},".label":{text:"Atomic"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},e.shapes.devs.Model.prototype.defaults)}),e.shapes.devs.Coupled=e.shapes.devs.Model.extend({defaults:e.util.deepSupplement({type:"devs.Coupled",size:{width:200,height:300},attrs:{".body":{fill:"seaGreen"},".label":{text:"Coupled"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},e.shapes.devs.Model.prototype.defaults)}),e.shapes.devs.Link=e.dia.Link.extend({defaults:{type:"devs.Link",attrs:{".connection":{"stroke-width":2}}}}),e.shapes.devs.ModelView=e.dia.ElementView.extend(e.shapes.basic.PortsViewInterface),e.shapes.devs.AtomicView=e.shapes.devs.ModelView,e.shapes.devs.CoupledView=e.shapes.devs.ModelView;e.shapes.uml={},e.shapes.uml.Class=e.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),defaults:e.util.deepSupplement({type:"uml.Class",attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":0.5,"ref-x":0.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},e.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),e.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var l=this.get("attrs"),g=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],m=0;k.each(g,function(n){var p=k.isArray(n.text)?n.text:[n.text],o=20*p.length+20;l[".uml-class-"+n.type+"-text"].text=p.join("\n"),l[".uml-class-"+n.type+"-rect"].height=o,l[".uml-class-"+n.type+"-rect"].transform="translate(0,"+m+")",m+=o})}}),e.shapes.uml.ClassView=e.dia.ElementView.extend({initialize:function(){e.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),e.shapes.uml.Abstract=e.shapes.uml.Class.extend({defaults:e.util.deepSupplement({type:"uml.Abstract",attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},e.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Abstract>>",this.get("name")]}}),e.shapes.uml.AbstractView=e.shapes.uml.ClassView,e.shapes.uml.Interface=e.shapes.uml.Class.extend({defaults:e.util.deepSupplement({type:"uml.Interface",attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},e.shapes.uml.Class.prototype.defaults),getClassName:function(){return["<<Interface>>",this.get("name")]}}),e.shapes.uml.InterfaceView=e.shapes.uml.ClassView,e.shapes.uml.Generalization=e.dia.Link.extend({defaults:{type:"uml.Generalization",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}}),e.shapes.uml.Implementation=e.dia.Link.extend({defaults:{type:"uml.Implementation",attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}}),e.shapes.uml.Aggregation=e.dia.Link.extend({defaults:{type:"uml.Aggregation",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}}),e.shapes.uml.Composition=e.dia.Link.extend({defaults:{type:"uml.Composition",attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}}),e.shapes.uml.Association=e.dia.Link.extend({defaults:{type:"uml.Association"}}),e.shapes.uml.State=e.shapes.basic.Generic.extend({markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),defaults:e.util.deepSupplement({type:"uml.State",attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":0.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},e.shapes.basic.Generic.prototype.defaults),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),e.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var g="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",g,{silent:!0})}}),e.shapes.uml.StartState=e.shapes.basic.Circle.extend({defaults:e.util.deepSupplement({type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}},e.shapes.basic.Circle.prototype.defaults)}),e.shapes.uml.EndState=e.shapes.basic.Generic.extend({markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>',defaults:e.util.deepSupplement({type:"uml.EndState",size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},e.shapes.basic.Generic.prototype.defaults)}),e.shapes.uml.Transition=e.dia.Link.extend({defaults:{type:"uml.Transition",attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}});e.shapes.logic={},e.shapes.logic.Gate=e.shapes.basic.Generic.extend({defaults:e.util.deepSupplement({type:"logic.Gate",size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},e.shapes.basic.Generic.prototype.defaults),operation:function(){return !0}}),e.shapes.logic.IO=e.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>',defaults:e.util.deepSupplement({type:"logic.IO",size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":0.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":0.5,"ref-y":0.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},e.shapes.logic.Gate.prototype.defaults)}),e.shapes.logic.Input=e.shapes.logic.IO.extend({defaults:e.util.deepSupplement({type:"logic.Input",attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":0.5,magnet:!0,"class":"output",port:"out"},text:{text:"input"}}},e.shapes.logic.IO.prototype.defaults)}),e.shapes.logic.Output=e.shapes.logic.IO.extend({defaults:e.util.deepSupplement({type:"logic.Output",attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":0.5,magnet:"passive","class":"input",port:"in"},text:{text:"output"}}},e.shapes.logic.IO.prototype.defaults)}),e.shapes.logic.Gate11=e.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>',defaults:e.util.deepSupplement({type:"logic.Gate11",attrs:{".input":{ref:".body","ref-x":-2,"ref-y":0.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":0.5,magnet:!0,port:"out"}}},e.shapes.logic.Gate.prototype.defaults)}),e.shapes.logic.Gate21=e.shapes.logic.Gate.extend({markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>',defaults:e.util.deepSupplement({type:"logic.Gate21",attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":0.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":0.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":0.5,magnet:!0,port:"out"}}},e.shapes.logic.Gate.prototype.defaults)}),e.shapes.logic.Repeater=e.shapes.logic.Gate11.extend({defaults:e.util.deepSupplement({type:"logic.Repeater",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},e.shapes.logic.Gate11.prototype.defaults),operation:function(g){return g}}),e.shapes.logic.Not=e.shapes.logic.Gate11.extend({defaults:e.util.deepSupplement({type:"logic.Not",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},e.shapes.logic.Gate11.prototype.defaults),operation:function(g){return !g}}),e.shapes.logic.Or=e.shapes.logic.Gate21.extend({defaults:e.util.deepSupplement({type:"logic.Or",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},e.shapes.logic.Gate21.prototype.defaults),operation:function(l,g){return l||g}}),e.shapes.logic.And=e.shapes.logic.Gate21.extend({defaults:e.util.deepSupplement({type:"logic.And",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},e.shapes.logic.Gate21.prototype.defaults),operation:function(l,g){return l&&g}}),e.shapes.logic.Nor=e.shapes.logic.Gate21.extend({defaults:e.util.deepSupplement({type:"logic.Nor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},e.shapes.logic.Gate21.prototype.defaults),operation:function(l,g){return !(l||g)}}),e.shapes.logic.Nand=e.shapes.logic.Gate21.extend({defaults:e.util.deepSupplement({type:"logic.Nand",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},e.shapes.logic.Gate21.prototype.defaults),operation:function(l,g){return !(l&&g)}}),e.shapes.logic.Xor=e.shapes.logic.Gate21.extend({defaults:e.util.deepSupplement({type:"logic.Xor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},e.shapes.logic.Gate21.prototype.defaults),operation:function(l,g){return(!l||g)&&(l||!g)}}),e.shapes.logic.Xnor=e.shapes.logic.Gate21.extend({defaults:e.util.deepSupplement({type:"logic.Xnor",attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},e.shapes.logic.Gate21.prototype.defaults),operation:function(l,g){return(!l||!g)&&(l||g)}}),e.shapes.logic.Wire=e.dia.Link.extend({arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join(""),defaults:e.util.deepSupplement({type:"logic.Wire",attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},e.dia.Link.prototype.defaults)});if("object"==typeof exports){var a=require("graphlib"),d=require("dagre")}a=a||"undefined"!=typeof window&&window.graphlib,d=d||"undefined"!=typeof window&&window.dagre,e.layout.DirectedGraph={layout:function(l,g){var o;o=l instanceof e.dia.Graph?l:(new e.dia.Graph).resetCells(l),l=null,g=k.defaults(g||{},{resizeClusters:!0,clusterPadding:10});var n=o.toGraphLib({directed:!0,multigraph:!0,compound:!0,setNodeLabel:function(p){return{width:p.get("size").width,height:p.get("size").height,rank:p.get("rank")}},setEdgeLabel:function(p){return{minLen:p.get("minLen")||1}},setEdgeName:function(p){return p.id}}),m={};return g.rankDir&&(m.rankdir=g.rankDir),g.align&&(m.align=g.align),g.nodeSep&&(m.nodesep=g.nodeSep),g.edgeSep&&(m.edgesep=g.edgeSep),g.rankSep&&(m.ranksep=g.rankSep),g.marginX&&(m.marginx=g.marginX),g.marginY&&(m.marginy=g.marginY),n.setGraph(m),d.layout(n,{debugTiming:!!g.debugTiming}),o.startBatch("layout"),o.fromGraphLib(n,{importNode:function(p,s){var r=this.getCell(p),q=s.node(p);g.setPosition?g.setPosition(r,q):r.set("position",{x:q.x-q.width/2,y:q.y-q.height/2})},importEdge:function(p,t){var s=this.getCell(p.name),r=t.edge(p),q=r.points||[];g.setLinkVertices&&(g.setVertices?g.setVertices(s,q):s.set("vertices",q.slice(1,q.length-1)))}}),g.resizeClusters&&k.chain(n.nodes()).filter(function(p){return n.children(p).length>0}).map(o.getCell,o).sortBy(function(p){return -p.getAncestors().length}).invoke("fitEmbeds",{padding:g.clusterPadding}).value(),o.stopBatch("layout"),n.graph()},fromGraphLib:function(l,g){g=g||{};var o=g.importNode||k.noop,n=g.importEdge||k.noop,m=this instanceof e.dia.Graph?this:new e.dia.Graph;return l.nodes().forEach(function(p){o.call(m,p,l,m,g)}),l.edges().forEach(function(p){n.call(m,p,l,m,g)}),m},toGraphLib:function(m,l){l=l||{};var r=k.pick(l,"directed","compound","multigraph"),q=new a.Graph(r),p=l.setNodeLabel||k.noop,o=l.setEdgeLabel||k.noop,n=l.setEdgeName||k.noop;return m.get("cells").each(function(s){if(s.isLink()){var g=s.get("source"),t=s.get("target");if(!g.id||!t.id){return}q.setEdge(g.id,t.id,o(s),n(s))}else{q.setNode(s.id,p(s)),q.isCompound()&&s.has("parent")&&q.setParent(s.id,s.get("parent"))}}),q}},e.dia.Graph.prototype.toGraphLib=function(g){return e.layout.DirectedGraph.toGraphLib(this,g)},e.dia.Graph.prototype.fromGraphLib=function(l,g){return e.layout.DirectedGraph.fromGraphLib.call(this,l,g)};e.g=h;e.V=e.Vectorizer=c;return e}));
/*! JointJS v0.9.9 - JavaScript diagramming library  2016-05-31 


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
joint.shapes.devs={};joint.shapes.devs.Model=joint.shapes.basic.Generic.extend(_.extend({},joint.shapes.basic.PortsModelInterface,{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><text class="label"/><g class="inPorts"/><g class="outPorts"/></g>',portMarkup:'<g class="port port<%= id %>"><circle class="port-body"/><text class="port-label"/></g>',defaults:joint.util.deepSupplement({type:"devs.Model",size:{width:1,height:1},inPorts:[],outPorts:[],attrs:{".":{magnet:false},".body":{width:150,height:250,stroke:"#000000"},".port-body":{r:10,magnet:true,stroke:"#000000"},text:{"pointer-events":"none"},".label":{text:"Model","ref-x":0.5,"ref-y":10,ref:".body","text-anchor":"middle",fill:"#000000"},".inPorts .port-label":{x:-15,dy:4,"text-anchor":"end",fill:"#000000"},".outPorts .port-label":{x:15,dy:4,fill:"#000000"}}},joint.shapes.basic.Generic.prototype.defaults),getPortAttrs:function(d,f,h,c,g){var j={};var a="port"+f;var b=c+">."+a;var e=b+">.port-label";var i=b+">.port-body";j[e]={text:d};j[i]={port:{id:d||_.uniqueId(g),type:g}};j[b]={ref:".body","ref-y":(f+0.5)*(1/h)};if(c===".outPorts"){j[b]["ref-dx"]=0}return j}}));joint.shapes.devs.Atomic=joint.shapes.devs.Model.extend({defaults:joint.util.deepSupplement({type:"devs.Atomic",size:{width:80,height:80},attrs:{".body":{fill:"salmon"},".label":{text:"Atomic"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},joint.shapes.devs.Model.prototype.defaults)});joint.shapes.devs.Coupled=joint.shapes.devs.Model.extend({defaults:joint.util.deepSupplement({type:"devs.Coupled",size:{width:200,height:300},attrs:{".body":{fill:"seaGreen"},".label":{text:"Coupled"},".inPorts .port-body":{fill:"PaleGreen"},".outPorts .port-body":{fill:"Tomato"}}},joint.shapes.devs.Model.prototype.defaults)});joint.shapes.devs.Link=joint.dia.Link.extend({defaults:{type:"devs.Link",attrs:{".connection":{"stroke-width":2}}}});joint.shapes.devs.ModelView=joint.dia.ElementView.extend(joint.shapes.basic.PortsViewInterface);joint.shapes.devs.AtomicView=joint.shapes.devs.ModelView;joint.shapes.devs.CoupledView=joint.shapes.devs.ModelView;var DropSupport=function(a){this.element=a;this.dragOverHandler=function(){};this.dragExitHandler=function(){};this.dropHandler=function(){return false};this.attachEventHandlers(a)};DropSupport.isDropSupported=function(a){return a.ondragenter!==undefined&&a.ondrop!==undefined};DropSupport.addIfSupported=function(a){if(!DropSupport.isDropSupported(a)){return null}return new DropSupport(a)};DropSupport.prototype.attachEventHandlers=function(b){var a=this;var c=0;b.addEventListener("dragover",function(d){if(a.dragOverHandler(d)){d.preventDefault();return true}});b.addEventListener("dragleave",function(d){c--;if(c==0){a.dragExitHandler(d)}});b.addEventListener("drop",function(d){c=0;if(a.dropHandler(d)){d.preventDefault()}});b.addEventListener("dragenter",function(d){c++})};joint.shapes.customLink={};joint.shapes.customLink.Element=joint.dia.Link.extend({defaults:joint.util.deepSupplement({type:"customLink.Element",router:{name:"metro",args:{startDirections:["right"],endDirections:["left"]}},connector:{name:"rounded"},attrs:{".connection":{stroke:"#4b4f6a","stroke-width":4},".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"},},},joint.dia.Link.prototype.defaults)});window.requestAnimationFrame=window.requestAnimationFrame||function(a){setTimeout(function(){a(new Date().getTime())},1000/30)};var WireComposer=function(b){var a=this;this.currentZoomLevel=1;this.transitionRunning=false;this.selectedComponent=null;this.isDirty=false;this.graph=new joint.dia.Graph;this.element=b;this.blinkEnabled=true;this.graph.on("change:source change:target",function(e){if(typeof e.attributes.source.id=="undefined"||typeof e.attributes.target.id=="undefined"){return}var c=a.graph.getCell(e.attributes.source.id).attributes.wireComponent;var d=a.graph.getCell(e.attributes.target.id).attributes.wireComponent;if(!c||!d){return}var f={emitterPort:c.getPortIndex(e.get("source").port,"out"),receiverPort:d.getPortIndex(e.get("target").port,"in"),emitterPid:c.pid,receiverPid:d.pid};e.attributes.wire=f;if(!e.attributes.wire){a.dispatchWireCreated(f)}else{a.dispatchWireChanged(f)}});this.graph.on("remove",function(c){if(c.attributes.wireComponent){if(a.selectedComponent===c.attributes.wireComponent){a.deselectWireComponent()}a.dispatchWireComponentDeleted(c.attributes.wireComponent)}else{if(c.attributes.wire){a.dispatchWireDeleted(c.attributes.wire)}}});this.paper=new joint.dia.Paper({el:$(b),width:"100%",height:"100%",gridSize:20,snapLinks:true,linkPinning:false,defaultLink:new joint.shapes.customLink.Element,multiLinks:false,markAvailable:true,model:this.graph,interactive:{vertexAdd:false},validateConnection:function(c,f,h,e,d,g){if(f&&f.getAttribute("type")==="input"){return false}if(c===h){return false}if(e&&e.getAttribute("type")!=="input"){return false}if(c&&h&&a.hasCycles(h.model,[c.model.id])){return false}return true}});this.paper.on("cell:pointerup",function(f,d,c,g){var e=f.model.attributes.wireComponent;if(e==null){return}if(a.selectedComponent!=e){if(a.selectedComponent){a.dispatchWireComponentDeselected(a.selectedComponent)}a.selectedComponent=e;a.fillRenderingProperties(f.model);a.dispatchWireComponentSelected(e)}});this.paper.on("blank:pointerdown",function(e,d,c,f){a.disableBlinking();a.scroller.begin();a.deselectWireComponent()});this.paper.off("cell:highlight cell:unhighlight").on({"cell:highlight":function(e,d,c){if(c.connecting){V(d.parentNode).addClass("connecting")}},"cell:unhighlight":function(e,d,c){if(c.connecting){V(d.parentNode).removeClass("connecting")}}});this.paper.$el.on("contextmenu",function(c){c.stopPropagation();c.preventDefault()});this.viewport=V(this.paper.viewport);V(b).find("defs")[0].append(V('<clipPath id="component-clip"><rect x="-10%" y="-10%" width="110%" height="110%"></rect></clipPath>'));this.transform=this.transform.bind(this);this.transformTransition=this.transformTransition.bind(this);this.scroller=new Scroller();this.scroller.onMove(function(d,c){a.viewport.translate(d,c)});this.scroller.onEnd=function(){a.enableBlinking()};this.dragHandler=new DragHandler(this)};WireComposer.prototype.addWireComponent=function(e){var b=this;var a=e.renderingProperties.position;var d=[];for(var g=0;g<e.inputPortCount;g++){d.push(e.getPortName(g,"in"))}var f=[];for(var c=0;c<e.outputPortCount;c++){f.push(e.getPortName(c,"out"))}if(!a){a=this.getNewComponentCoords();e.renderingProperties.position=a}var h=new joint.shapes.devs.Atomic({attrs:{".label":{text:joint.util.breakText(e.pid,{width:100}),},".body":{rx:6,ry:6,"clip-path":"url(#component-clip)",fill:"#009ae0"},".inPorts .port-body":{fill:"PaleGreen",magnet:"passive",type:"input"},".outPorts .port-body":{fill:"Tomato",type:"output"},},size:{width:120,height:40},inPorts:d,outPorts:f,wireComponent:e});h.on("change:position",function(i){b.fillRenderingProperties(i);b.dispatchWireComponentChanged(e)});this.graph.addCells([h]);h.translate(a.x,a.y);if(this.moveToFreeSpot(h)){this.centerOnComponent(h)}e.v=this.paper.findViewByModel(h).vel;this.dispatchWireComponentCreated(e)};WireComposer.prototype.getSelectedWireComponent=function(){return this.selectedComponent};WireComposer.prototype.deselectWireComponent=function(){if(this.selectedComponent){this.dispatchWireComponentDeselected(self.selectedComponent);this.selectedComponent=null}};WireComposer.prototype.deleteWireComponent=function(a){var d=this.graph.getElements();for(var c=0;c<d.length;c++){var b=d[c];if(b.attributes.wireComponent.pid===a.pid){b.remove()}}};WireComposer.prototype.clear=function(){this.graph.clear()};WireComposer.prototype.addWire=function(f){var g=this.graph.getElements();var e=null,d=null;for(var b=0;b<g.length;b++){var a=g[b];if(a.attributes.wireComponent.pid===f.emitterPid){e=a}if(a.attributes.wireComponent.pid===f.receiverPid){d=a}}if(e!=null&&d!=null){var c=new joint.shapes.customLink.Element({source:{id:e.id,port:e.attributes.wireComponent.getPortName(f.emitterPort,"out")},target:{id:d.id,port:d.attributes.wireComponent.getPortName(f.receiverPort,"in")},wire:f});this.graph.addCell(c)}};WireComposer.prototype.forEachWireComponent=function(d){var c=this.graph.getElements();for(var b=0;b<c.length;b++){var a=c[b];if(a.attributes.wireComponent){this.fillRenderingProperties(a);d(a.attributes.wireComponent)}}};WireComposer.prototype.forEachWire=function(d){var c=this.graph.getLinks();for(var b=0;b<c.length;b++){var a=c[b];if(a.attributes.wire){d(a.attributes.wire)}}};WireComposer.prototype.getWireComponentCount=function(){var a=0;this.forEachWireComponent(function(){a++});return a};WireComposer.prototype.getWireCount=function(){var a=0;this.forEachWire(function(){a++});return a};WireComposer.prototype.fitContent=function(e){var d=this.getLocalContentBBox();var a=d.x+d.width/2;var g=d.y+d.height/2;var c=$("#wires-graph").width();var f=$("#wires-graph").height();var b=Math.min(c/d.width,f/d.height);if(b>1){b=1}this.centerOnLocalPoint(a,g,b,e?this.transformTransition:this.transform,0.5)};WireComposer.prototype.zoomIn=function(){this.scale(1.2)};WireComposer.prototype.zoomOut=function(){this.scale(0.8)};WireComposer.prototype.checkForCycleExistence=function(){var b=[];var a;var e=this.graph.getElements();for(var c=0;c<e.length;c++){var d=e[c];if((this.graph.getPredecessors(d).length==0)&&this.hasCycles(d,b)){a=true;break}}return a};WireComposer.prototype.hasCycles=function(d,a){var c=this.graph.getNeighbors(d,{outbound:true}),b;if(a.indexOf(d.id)>-1){return true}a.push(d.id);for(b=0;b<c.length;b++){if(this.hasCycles(c[b],a.slice())){return true}}return false};WireComposer.prototype.scale=function(d){var f=this.viewport.translate();var b=$(this.element).width()/2;var e=$(this.element).height()/2;var c=b*(1-d)+f.tx*d;var a=e*(1-d)+f.ty*d;this.transformTransition(c,a,this.currentZoomLevel*d,0.25)};WireComposer.prototype.clientToLocal=function(c,b){var e=this.viewport.translate();var a=(c-e.tx)/this.currentZoomLevel;var d=(b-e.ty)/this.currentZoomLevel;return{x:a,y:d}};WireComposer.prototype.moveToFreeSpot=function(a){var b=false;while(this.graph.findModelsUnderElement(a).length){b=true;a.translate(100,0)}return b};WireComposer.prototype.centerOnComponent=function(a){var c=a.position();var b=this.currentZoomLevel<1?1:this.currentZoomLevel;this.centerOnLocalPoint(c.x,c.y,b,this.transformTransition)};WireComposer.prototype.getNewComponentCoords=function(){var a=$(this.element).width()/2;var b=$(this.element).height()/2;return this.clampToGrid(this.clientToLocal(a,b))};WireComposer.prototype.clampToGrid=function(b){var a=this.paper.options.gridSize;b.x=Math.floor(b.x/a)*a;b.y=Math.floor(b.y/a)*a;return b};WireComposer.prototype.transformTransition=function(d,c,f,h){if(this.transitionRunning){return}this.transitionRunning=true;var a=this.viewport.translate();var g=this.currentZoomLevel;var b=null;this.disableBlinking();var i=this;var e=function(m){b=b||m;var n=Math.min((m-b)/h/1000,1);var o=1-n;var l=a.tx*o+d*n;var j=a.ty*o+c*n;var k=g*o+f*n;i.transform(l,j,k);if(n<1){window.requestAnimationFrame(e)}else{i.transitionRunning=false;i.enableBlinking()}};window.requestAnimationFrame(e)};WireComposer.prototype.transform=function(b,a,c){this.viewport.translate(b,a,{absolute:true});this.viewport.scale(c);this.currentZoomLevel=c};WireComposer.prototype.getLocalContentBBox=function(){var c=this.paper.getContentBBox();var a=this.clientToLocal(c.x,c.y);var b=this.clientToLocal(c.x+c.width,c.y+c.height);return{x:a.x,y:a.y,width:b.x-a.x,height:b.y-a.y}};WireComposer.prototype.centerOnLocalPoint=function(a,g,e,d,b){var b=b||0.5;var c=$(this.element).width();var f=$(this.element).height();d(c/2-e*a,f/2-e*g,e,b)};WireComposer.prototype.disableBlinking=function(){this.blinkEnabled=false;var a=this;if(this.blinkEnableTimeout){clearTimeout(a.blinkEnableTimeout);a.blinkEnableTimeout=null}};WireComposer.prototype.enableBlinking=function(){var a=this;if(!this.blinkEnabled&&!this.blinkEnableTimeout){this.blinkEnableTimeout=setTimeout(function(){a.blinkEnabled=true;a.blinkEnableTimeout=null},1000)}};WireComposer.prototype.setListener=function(a){this.listener=a};WireComposer.prototype.fillRenderingProperties=function(a){a.attributes.wireComponent.renderingProperties.position=a.attributes.position};var WireComponent=function(){this.renderingProperties={}};WireComponent.prototype.portNameRegex=/(in|out)(\d+)/;WireComponent.prototype.getPortIndex=function(d,c){var a=c==="in"?this.renderingProperties.inputPortNames:this.renderingProperties.outputPortNames;if(a){for(var b in a){if(a[b]===d){return parseInt(b)}}}return parseInt(this.portNameRegex.exec(d)[2])};WireComponent.prototype.setValid=function(a){if(!this.v){return}if(a){this.v.removeClass("invalid")}else{this.v.addClass("invalid")}};WireComponent.prototype.getPortName=function(b,d){var c=d==="in"?this.renderingProperties.inputPortNames:this.renderingProperties.outputPortNames;var a;if(c){a=c[b]}return a?a:d+b};var Scroller=function(){this.last=null;this.onMouseMove=this.onMouseMove.bind(this);this.onMouseUp=this.onMouseUp.bind(this);this.callback=function(){};this.onEnd=function(){}};Scroller.prototype.onMouseMove=function(d){var a=d.clientX;var f=d.clientY;if(!this.last){this.last={x:a,y:f};return}var c=a-this.last.x;var b=f-this.last.y;this.last.x=a;this.last.y=f;if(this.callback){this.callback(c,b)}};Scroller.prototype.onMouseUp=function(){document.removeEventListener("mousemove",this.onMouseMove);document.removeEventListener("mouseup",this.onMouseUp);this.last=null;this.onEnd()};Scroller.prototype.begin=function(){document.addEventListener("mousemove",this.onMouseMove);document.addEventListener("mouseup",this.onMouseUp)};Scroller.prototype.onMove=function(a){this.callback=a};var DragHandler=function(b){this.dndHelper=DropSupport.addIfSupported(b.element);this.composer=b;var a=this;if(this.dndHelper){this.dndHelper.dragOverHandler=function(c){a.movePreview(c.clientX,c.clientY);return true};this.dndHelper.dragExitHandler=function(c){a.abort()};this.dndHelper.dropHandler=function(c){a.onDrop(c.dataTransfer.getData("Text"),c.clientX,c.clientY);return true}}};DragHandler.prototype.toLocalCoords=function(e,d){var b=this.composer.element.getBoundingClientRect();var g=b.x||b.left;var f=b.y||b.top;var c=e-g;var a=d-f;return this.composer.clampToGrid(this.composer.clientToLocal(c,a))};DragHandler.prototype.movePreview=function(c,b){if(this.rect==null){this.initTempElement()}var d=this.toLocalCoords(c,b);var a=this.rect.position();if(d.x!=a.x||d.y!=a.y){this.rect.position(d.x,d.y)}};DragHandler.prototype.onDrop=function(e,d,b){var a=this;var c={getAttachment:function(){return e},complete:function(f){var g=a.toLocalCoords(d,b);f.renderingProperties.position=g;a.abort();a.composer.addWireComponent(f)},cancel:function(){a.abort()}};a.composer.dispatchDrop(c)};DragHandler.prototype.abort=function(){if(this.rect){this.composer.graph.removeCells([this.rect]);this.rect=null}};DragHandler.prototype.initTempElement=function(){this.rect=new joint.shapes.devs.Atomic({position:{x:0,y:0},size:{width:120,height:40}});this.composer.graph.addCells([this.rect]);this.rect.attr({".label":{text:"",},".body":{rx:6,ry:6,"class":"body temporary"}})};var BlinkEffect=function(a){this.composer=a};BlinkEffect.prototype.setEnabled=function(c){if(typeof EventSource=="undefined"){return}if(c){this.eventSourceSessionId=new Date().getTime();this.eventSource=new EventSource("/admin/sse?session="+this.eventSourceSessionId);var b=this;this.eventSource.onmessage=function(d){var e=d.data.split(" ",2);if(e.length!==2){return}_.each(b.composer.graph.getElements(),function(g){var f=g.attributes.wireComponent;if(f&&f.pid===e[0]){b.fireTransition(g,f.getPortName(e[1],"out"))}})}}else{if(this.eventSource){this.eventSource.close();this.eventSource=null;var a=new XMLHttpRequest();a.open("GET","/admin/sse?session="+this.eventSourceSessionId+"&logout="+this.eventSourceSessionId,true);a.send(null)}}};BlinkEffect.prototype.fireTransition=function(e,b){var d=this.composer.graph;if(!this.composer.blinkEnabled){return}var a=d.getConnectedLinks(e,{outbound:true});a=_.filter(a,function(c){return c.get("source").port===b});_.each(a,function(f){var c=function(g){return g<0.5?g:1-g};if(f.getTransitions().length){return}f.transition("attrs/.connection/stroke","#F39C12",{duration:400,timingFunction:c,valueFunction:joint.util.interpolate.hexColor});f.transition("attrs/.connection/stroke-width",8,{duration:400,timingFunction:c,valueFunction:joint.util.interpolate.number})})};var ExtensionRegistry=function(){this.extensions={};this.consumers=[]};ExtensionRegistry.prototype.registerExtension=function(b){this.extensions[b.id]=b;for(var a=0;a<this.consumers.length;a++){(this.consumers[a])(b)}};ExtensionRegistry.prototype.unregisterExtension=function(a){delete this.extensions[a.id]};ExtensionRegistry.prototype.addExtensionConsumer=function(a){this.consumers.push(a);for(var b in this.extensions){a(this.extensions[b])}};ExtensionRegistry.prototype.getExtensions=function(){var a=[];for(var b in this.extensions){a.push(this.extensions[b])}return a};if(!window.top.extensionRegistry){window.top.extensionRegistry=new ExtensionRegistry()};