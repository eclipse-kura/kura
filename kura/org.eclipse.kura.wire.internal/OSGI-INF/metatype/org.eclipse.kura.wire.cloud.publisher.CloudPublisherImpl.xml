<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (c) 2011, 2015 Eurotech and/or its affiliates

     All rights reserved. This program and the accompanying materials
     are made available under the terms of the Eclipse Public License v1.0
     which accompanies this distribution, and is available at
     http://www.eclipse.org/legal/epl-v10.html

    Contributors:
      Eurotech
      Amit Kumar Mondal (admin@amitinside.com)

-->
<MetaData xmlns="http://www.osgi.org/xmlns/metatype/v1.2.0" localization="en_us">
    <OCD id="org.eclipse.kura.wire.cloud.publisher.CloudPublisherImpl" 
         name="CloudPublisher" 
         description="">

        <Icon resource="CloudPublisher" size="32"/>
                
        <AD id="autoconnect.mode"
            name="autoconnect.mode"
            type="String"
            cardinality="0"
            required="true"
            default="AUTOCONNECT_MODE_ON_AND_STAY_5_MIN"
            description="Option to control whether the a Cloud Connection should be started if an event occurs in order to publish the DataRecords; it also controls for how long such connection should be kept open after the last message is published.">
            <Option label="Do not connect on event." value="AUTOCONNECT_MODE_OFF" />
            <Option label="Connect on event and disconnect immediately." value="AUTOCONNECT_MODE_ON_AND_OFF" />
            <Option label="Connect on event and disconnect 1 minute after the last publish." value="AUTOCONNECT_MODE_ON_AND_STAY_1_MIN" />
            <Option label="Connect on event and disconnect 5 minute after the last publish." value="AUTOCONNECT_MODE_ON_AND_STAY_5_MIN" />
            <Option label="Connect on event and disconnect 10 minute after the last publish." value="AUTOCONNECT_MODE_ON_AND_STAY_10_MIN" />
            <Option label="Connect on event and disconnect 15 minute after the last publish." value="AUTOCONNECT_MODE_ON_AND_STAY_15_MIN" />
            <Option label="Connect on event and disconnect 30 minute after the last publish." value="AUTOCONNECT_MODE_ON_AND_STAY_30_MIN" />
            <Option label="Connect on event and disconnect 60 minute after the last publish." value="AUTOCONNECT_MODE_ON_AND_STAY_60_MIN" />
            <Option label="Connect on event and stay connected indefinitely." value="AUTOCONNECT_MODE_ON_AND_STAY" />
        </AD>

        <AD id="autoconnect.quiceTimeout"
            name="autoconnect.quiceTimeout"
            type="Integer"
            cardinality="0"
            required="true"
            default="0"
            description="Timeout to be used when closing a Cloud Connection.">
        </AD>

        <AD id="publish.application"
            name="publish.application"
            type="String"
            cardinality="0"
            required="true"
            default="APP"
            description="Application topic prefix to be used when publishing messages.">
        </AD>

        <AD id="publish.topic"
            name="publish.topic"
            type="String"
            cardinality="0"
            required="true"
            default="EVENT"
            description="Application portion of the topic to be used when publishing messages.">
        </AD>

        <AD id="publish.priority"
            name="publish.priority"
            type="Integer"
            cardinality="0"
            required="true"
            default="7"
            description="Relative ordering of this message with other messages that may be currently queued for publishing. Application should consider using priority 5 or higher.">
        </AD>

        <AD id="publish.qos"
            name="publish.qos"
            type="Integer"
            cardinality="0"
            required="true"
            default="1"
            description="An integer specifying the quality of service the message was published on.">
        </AD>

        <AD id="publish.retain"
            name="publish.retain"
            type="Boolean"
            cardinality="0"
            required="true"
            default="false"
            description="Whether or not the broker should retain the message">
        </AD>
        
         <AD id="publish.message.type"
            name="publish.message.type"
            type="Integer"
            cardinality="0"
            required="true"
            default="1"
            description="Option to control whether the wire records will be wrapped into a Kura Payload or a JSON message">
            <Option label="Kura Payload" value="1" />
            <Option label="JSON" value="2" />
        </AD>
    </OCD>
    
    <Designate pid="org.eclipse.kura.wire.cloud.publisher.CloudPublisherImpl" factoryPid="org.eclipse.kura.wire.cloud.publisher.CloudPublisherImpl">
        <Object ocdref="org.eclipse.kura.wire.cloud.publisher.CloudPublisherImpl"/>
    </Designate>
</MetaData>
