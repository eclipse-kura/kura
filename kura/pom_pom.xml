<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (c) 2011, 2016 Eurotech and/or its affiliates

     All rights reserved. This program and the accompanying materials
     are made available under the terms of the Eclipse Public License v1.0
     which accompanies this distribution, and is available at
     http://www.eclipse.org/legal/epl-v10.html

    Contributors:
      Eurotech

-->
<project>

	<modelVersion>4.0.0</modelVersion>
	<groupId>org.eclipse.kura</groupId>
	<artifactId>kura</artifactId>
	<version>1.5.0-SNAPSHOT</version>

	<packaging>pom</packaging>

	<properties>
		<tycho-version>0.18.1</tycho-version>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8
		</project.reporting.outputEncoding>
		<maven.build.timestamp.format>yyyyMMddHHmm
		</maven.build.timestamp.format>
		<kura.basedir>${project.basedir}</kura.basedir>
		<org.eclipse.kura.web.skip>true</org.eclipse.kura.web.skip>
		<org.eclipse.kura.web2.skip>true</org.eclipse.kura.web2.skip>
		<org.eclipse.kura.can.skip>true</org.eclipse.kura.can.skip>
		<org.eclipse.kura.dio.skip>false</org.eclipse.kura.dio.skip>
		<org.eclipse.kura.dio.include>true</org.eclipse.kura.dio.include>
	</properties>

	<profiles>
		<profile>
			<id>default</id>
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<modules>
				<module>distrib</module>
			</modules>
		</profile>
		<profile>
			<id>web</id>
			<properties>
				<org.eclipse.kura.web2.skip>false</org.eclipse.kura.web2.skip>
			</properties>
			<activation>
				<activeByDefault>false</activeByDefault>
			</activation>
			<modules>
				<module>org.eclipse.kura.web2</module>
				<module>distrib</module>
			</modules>
		</profile>
		<profile>
			<id>web-classic</id>
			<properties>
				<org.eclipse.kura.web.skip>false</org.eclipse.kura.web.skip>
			</properties>
			<activation>
				<activeByDefault>false</activeByDefault>
			</activation>
			<modules>
				<module>org.eclipse.kura.web</module>
				<module>distrib</module>
			</modules>
		</profile>
		<profile>
			<id>can</id>
			<properties>
				<org.eclipse.kura.can.skip>false</org.eclipse.kura.can.skip>
			</properties>
			<activation>
				<activeByDefault>false</activeByDefault>
			</activation>
			<modules>
				<module>distrib</module>
			</modules>
		</profile>
		<profile>
			<id>dio.skip</id>
			<properties>
				<org.eclipse.kura.dio.skip>true</org.eclipse.kura.dio.skip>
				<org.eclipse.kura.dio.include>false</org.eclipse.kura.dio.include>
			</properties>
			<activation>
				<activeByDefault>false</activeByDefault>
			</activation>
			<modules>
				<module>distrib</module>
			</modules>
		</profile>
	</profiles>

	<repositories>
		<repository>
			<id>kura_addons</id>
			<name>Kura Addons Maven Repository</name>
			<url>https://raw.github.com/eurotech/kura_addons/mvn-repo/</url>
			<snapshots>
				<enabled>true</enabled>
				<updatePolicy>always</updatePolicy>
			</snapshots>
		</repository>
	</repositories>

	<build>
		<extensions>
			<extension>
				<groupId>org.apache.maven.wagon</groupId>
				<artifactId>wagon-webdav-jackrabbit</artifactId>
				<version>2.2</version>
			</extension>
		</extensions>
		<plugins>
			<plugin>
				<groupId>org.codehaus.mojo</groupId>
				<artifactId>build-helper-maven-plugin</artifactId>
				<version>1.9</version>
				<executions>
					<execution>
						<id>set-deployment-package-version</id>
						<goals>
							<goal>regex-property</goal>
						</goals>
						<configuration>
							<name>deployment.package.version</name>
							<value>${project.version}</value>
							<regex>-SNAPSHOT</regex>
							<replacement>.qualifier</replacement>
							<failIfNoMatch>false</failIfNoMatch>
						</configuration>
					</execution>
				</executions>
			</plugin>
<!--
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-antrun-plugin</artifactId>
				<version>1.7</version>
				<executions>
					<execution>
						<id>store-bundle-version</id>
						<phase>prepare-package</phase>
						<goals>
							<goal>run</goal>
						</goals>
						<configuration>
							<tasks>
								<propertyfile file="${kura.basedir}/distrib/build.properties" comment="Generated by maven">
									<entry key="${project.name}.version" value="${project.version}" />
								</propertyfile>
							</tasks>
						</configuration>
					</execution>
				</executions>
			</plugin>
-->
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-site-plugin</artifactId>
				<version>3.3</version>
			</plugin>
		</plugins>
	</build>

</project>
