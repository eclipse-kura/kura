<project
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"
    xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>org.eclipse.kura</groupId>
        <artifactId>target-platform</artifactId>
        <version>4.2.0-SNAPSHOT</version>
    </parent>

    <artifactId>p2-repo-mvn-deps</artifactId>
    <packaging>pom</packaging>

    <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>properties-maven-plugin</artifactId>
        <version>1.0.0</version>
        <executions>
            <execution>
                <phase>initialize</phase>
                <goals>
                    <goal>read-project-properties</goal>
                </goals>
                <configuration>
                    <files>
                        <file>${basedir}/../config/kura.target-platform.build.properties</file>
                    </files>
                </configuration>
            </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.reficio</groupId>
        <artifactId>p2-maven-plugin</artifactId>
        <version>1.3.0</version>
        <executions>
          <execution>
            <id>generate-p2-site</id>
			<phase>initialize</phase>
			<goals>
				<goal>site</goal>
			</goals>
            <configuration>
              <artifacts>
		      <!-- Java 11 -->
        		<artifact>
                    <id>jakarta.activation:jakarta.activation-api:${jakarta.activation-api.version}</id>
                    <source>true</source>
                    <transitive>false</transitive>              
                </artifact>
                <artifact>                    
                    <id>com.sun.activation:javax.activation:${com.sun.activation.version}</id>
                    <source>true</source>
                    <transitive>false</transitive>
                </artifact>
                <artifact>                  
                    <id>jakarta.annotation:jakarta.annotation-api:${jakarta.annotation-api.version}</id>
                    <source>true</source>
                    <transitive>false</transitive>
                </artifact>
                <artifact>
                    <id>javax.xml.bind:jaxb-api:${javax.xml.bind.jaxb-api-mvn.version}</id>
                    <source>true</source>
                    <transitive>false</transitive>
                </artifact>
                <artifact>                   
                    <id>com.sun.xml.bind:jaxb-osgi:${com.sun.xml.bind.jaxb-osgi-mvn.version}</id>
                    <source>true</source>
                    <transitive>false</transitive>
                </artifact> 
                                
                <!-- <artifact><source>true</source><id>jakarta.jws:jakarta.jws-api:jar:${jakarta.jws-api.version}</id></artifact>-->
                
		      <!-- End Java 11 -->
              <artifact>
                  <id>org.apache.camel:camel-amqp:${org.apache.camel.camel-amqp.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-core:${org.apache.camel.camel-core.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-core-osgi:${org.apache.camel.camel-core-osgi.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-jms:${org.apache.camel.camel-jms.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-script:${org.apache.camel.camel-script.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-stream:${org.apache.camel.camel-stream.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-spring:${org.apache.camel.camel-spring.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-http-common:${org.apache.camel.camel-http-common.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-http4:${org.apache.camel.camel-http4.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-netty4:${org.apache.camel.camel-netty4.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-netty4-http:${org.apache.camel.camel-netty4-http.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-gson:${org.apache.camel.camel-gson.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-groovy:${org.apache.camel.camel-groovy.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-servlet:${org.apache.camel.camel-servlet.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-core-xml:${org.apache.camel.camel-core-xml.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact>
              <artifact>
                  <id>org.apache.camel:camel-jackson:${org.apache.camel.camel-jackson.version}</id>
                  <source>true</source>
                  <transitive>false</transitive>
              </artifact> 
	       </artifacts>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <artifactId>maven-antrun-plugin</artifactId>
        <version>1.8</version>
        <executions>
            <execution>
            <id>install-equinox</id>
                <phase>install</phase>
                <goals>
                    <goal>run</goal>
                </goals>
                <configuration>
                    <target>
                        <delete dir="../../kura/target-definition/mvn-deps/" />
                        <mkdir dir="../../kura/target-definition/mvn-deps/repository" />
                        <copy todir="../../kura/target-definition/mvn-deps/repository">
                            <fileset dir="${project.build.directory}/repository" />
                        </copy>
                    </target>
                </configuration>
            </execution>
        </executions>
    </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-site-plugin</artifactId>
        <version>3.3</version>
        <configuration>
          <skip>true</skip>
          <skipDeploy>true</skipDeploy>
        </configuration>
      </plugin>
      <!-- 
      <plugin>
            <groupId>org.eclipse.tycho</groupId>
            <artifactId>tycho-p2-repository-plugin</artifactId>
            <version>1.4.0</version>
            <executions>
                <execution>
                    <phase>package</phase>
                    <goals>
                        <goal>archive-repository</goal>
                    </goals>
                </execution>
            </executions>
        </plugin>

        <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>build-helper-maven-plugin</artifactId>
            <version>3.0.0</version>
            <executions>
                <execution>
                    <goals>
                        <goal>attach-artifact</goal>
                    </goals>
                    <configuration>
                        <artifacts>
                            <artifact>
                                <file>target/${project.artifactId}-${project.version}.zip</file>
                                <type>zip</type>
                            </artifact>
                        </artifacts>
                    </configuration>
                </execution>
            </executions>
        </plugin>
         -->
       <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-deploy-plugin</artifactId>
            <version>2.8.1</version>
            <configuration>
                <skip>true</skip>
            </configuration>
       </plugin>
    </plugins>
  </build>
  <pluginRepositories>
    <pluginRepository>
      <id>reficio</id>
      <url>http://repo.reficio.org/maven/</url>
    </pluginRepository>
  </pluginRepositories>
  <repositories>
    <repository>
      <id>mvnrepository</id>
      <url>https://repo.maven.apache.org/maven2</url>
    </repository>
  </repositories>
</project>